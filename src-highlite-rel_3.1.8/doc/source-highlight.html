<!DOCTYPE html>
<html>
<!-- Created by GNU Texinfo 7.1, https://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<!-- This manual is for GNU Source-highlight 
(version 3.1.8, 30 March 2015),
which given a source file, produces a document with syntax highlighting.

Copyright Â© 2005-2008 Lorenzo Bettini, http://www.lorenzobettini.it.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.1 or
any later version published by the Free Software Foundation; with no
Invariant Sections, with no Front-Cover Texts, and no Back-Cover
Texts. A copy of the license is included in the section entitled "GNU
Free Documentation License." -->
<title>GNU Source-highlight 3.1.8</title>

<meta name="description" content="GNU Source-highlight 3.1.8">
<meta name="keywords" content="GNU Source-highlight 3.1.8">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta name="viewport" content="width=device-width,initial-scale=1">

<link href="#Top" rel="start" title="Top">
<link href="#Concept-Index" rel="index" title="Concept Index">
<link href="#SEC_Contents" rel="contents" title="Table of Contents">
<link href="dir.html#Top" rel="up" title="(dir)">
<link href="#Introduction" rel="next" title="Introduction">
<link href="dir.html#Top" rel="prev" title="(dir)">
<style type="text/css">
<!--
a.copiable-link {visibility: hidden; text-decoration: none; line-height: 0em}
a.summary-letter-printindex {text-decoration: none}
div.example {margin-left: 3.2em}
span.r {font-family: initial; font-weight: normal; font-style: normal}
span:hover a.copiable-link {visibility: visible}
td.printindex-index-entry {vertical-align: top}
td.printindex-index-section {vertical-align: top; padding-left: 1em}
th.entries-header-printindex {text-align:left}
th.sections-header-printindex {text-align:left; padding-left: 1em}
ul.mark-bullet {list-style-type: disc}
ul.toc-numbered-mark {list-style: none}
-->
</style>


</head>

<body lang="en">






<div class="top-level-extent" id="Top">
<div class="nav-panel">
<p>
Next: <a href="#Introduction" accesskey="n" rel="next">Introduction</a>, Previous: <a href="dir.html#Top" accesskey="p" rel="prev">(dir)</a>, Up: <a href="dir.html#Top" accesskey="u" rel="up">(dir)</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Concept-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h1 class="top" id="GNU-Source_002dhighlight"><span>GNU Source-highlight<a class="copiable-link" href="#GNU-Source_002dhighlight"> &para;</a></span></h1>

<p>GNU Source-highlight, given a source file, produces a document with
syntax highlighting.
</p>
<p>This is Edition 3.1.8 of the Source-highlight manual.
</p>
<p>This file documents GNU Source-highlight version 3.1.8.
</p>
<p>This manual is for GNU Source-highlight 
(version 3.1.8, 30 March 2015),
which given a source file, produces a document with syntax highlighting.
</p>
<p>Copyright &copy; 2005-2008 Lorenzo Bettini, <a class="uref" href="http://www.lorenzobettini.it">http://www.lorenzobettini.it</a>.
</p>
<blockquote class="quotation">
<p>Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.1 or
any later version published by the Free Software Foundation; with no
Invariant Sections, with no Front-Cover Texts, and no Back-Cover
Texts. A copy of the license is included in the section entitled &ldquo;GNU
Free Documentation License.&rdquo;
</p></blockquote>



<div class="element-shortcontents" id="SEC_Shortcontents">
<h2 class="shortcontents-heading">Short Table of Contents</h2>

<div class="shortcontents">
<ul class="toc-numbered-mark">
<li><a id="stoc-Introduction-1" href="#toc-Introduction-1">1 Introduction</a></li>
<li><a id="stoc-Installation-1" href="#toc-Installation-1">2 Installation</a></li>
<li><a id="stoc-Copying-Conditions" href="#toc-Copying-Conditions">3 Copying Conditions</a></li>
<li><a id="stoc-Simple-Usage-1" href="#toc-Simple-Usage-1">4 Simple Usage</a></li>
<li><a id="stoc-Configuration-files-1" href="#toc-Configuration-files-1">5 Configuration files</a></li>
<li><a id="stoc-Invoking-source_002dhighlight-1" href="#toc-Invoking-source_002dhighlight-1">6 Invoking <code class="command">source-highlight</code></a></li>
<li><a id="stoc-Language-Definitions-1" href="#toc-Language-Definitions-1">7 Language Definitions</a></li>
<li><a id="stoc-Output-Language-Definitions-1" href="#toc-Output-Language-Definitions-1">8 Output Language Definitions</a></li>
<li><a id="stoc-Generating-References-1" href="#toc-Generating-References-1">9 Generating References</a></li>
<li><a id="stoc-Examples-1" href="#toc-Examples-1">10 Examples</a></li>
<li><a id="stoc-Reporting-Bugs" href="#toc-Reporting-Bugs">11 Reporting Bugs</a></li>
<li><a id="stoc-Mailing-Lists-1" href="#toc-Mailing-Lists-1">12 Mailing Lists</a></li>
<li><a id="stoc-Concept-Index-1" href="#toc-Concept-Index-1" rel="index">Concept Index</a></li>
</ul>
</div>
</div>
<div class="element-contents" id="SEC_Contents">
<h2 class="contents-heading">Table of Contents</h2>

<div class="contents">

<ul class="toc-numbered-mark">
  <li><a id="toc-Introduction-1" href="#Introduction">1 Introduction</a>
  <ul class="toc-numbered-mark">
    <li><a id="toc-Supported-languages-1" href="#Supported-languages">1.1 Supported languages</a></li>
    <li><a id="toc-The-program-source_002dhighlight_002dsettings-1" href="#The-program-source_002dhighlight_002dsettings">1.2 The program <code class="code">source-highlight-settings</code></a></li>
    <li><a id="toc-Notes-on-some-languages-1" href="#Notes-on-some-languages">1.3 Notes on some languages</a>
    <ul class="toc-numbered-mark">
      <li><a id="toc-Fortran-1" href="#Fortran">1.3.1 Fortran</a></li>
      <li><a id="toc-Perl-1" href="#Perl">1.3.2 Perl</a></li>
    </ul></li>
    <li><a id="toc-Using-source_002dhighlight-as-a-simple-formatter-1" href="#Using-source_002dhighlight-as-a-simple-formatter">1.4 Using source-highlight as a simple formatter</a></li>
    <li><a id="toc-Related-Software-and-Links-1" href="#Related-Software-and-Links">1.5 Related Software and Links</a></li>
  </ul></li>
  <li><a id="toc-Installation-1" href="#Installation">2 Installation</a>
  <ul class="toc-numbered-mark">
    <li><a id="toc-Building-with-qmake-1" href="#Building-with-qmake">2.1 Building with qmake</a></li>
    <li><a id="toc-Download-1" href="#Download">2.2 Download</a></li>
    <li><a id="toc-Anonymous-Git-Checkout-1" href="#Anonymous-Git-Checkout">2.3 Anonymous Git Checkout</a></li>
    <li><a id="toc-What-you-need-to-build-source_002dhighlight-1" href="#What-you-need-to-build-source_002dhighlight">2.4 What you need to build source-highlight</a></li>
    <li><a id="toc-Tips-on-installing-Boost-Regex-library-1" href="#Tips-on-installing-Boost-Regex-library">2.5 Tips on installing Boost Regex library</a></li>
    <li><a id="toc-Patching-from-a-previous-version-1" href="#Patching-from-a-previous-version">2.6 Patching from a previous version</a></li>
    <li><a id="toc-Using-source_002dhighlight-with-less-1" href="#Using-source_002dhighlight-with-less">2.7 Using source-highlight with less</a></li>
    <li><a id="toc-Using-source_002dhighlight-as-a-CGI-1" href="#Using-source_002dhighlight-as-a-CGI">2.8 Using source-highlight as a CGI</a></li>
    <li><a id="toc-Building-_002erpm-1" href="#Building-_002erpm">2.9 Building .rpm</a></li>
  </ul></li>
  <li><a id="toc-Copying-Conditions" href="#Copying">3 Copying Conditions</a></li>
  <li><a id="toc-Simple-Usage-1" href="#Simple-Usage">4 Simple Usage</a>
  <ul class="toc-numbered-mark">
    <li><a id="toc-HTML-and-XHTML-output-1" href="#HTML-and-XHTML-output">4.1 HTML and XHTML output</a></li>
    <li><a id="toc-LaTeX-output-1" href="#LaTeX-output">4.2 LaTeX output</a></li>
    <li><a id="toc-Texinfo-output-1" href="#Texinfo-output">4.3 Texinfo output</a></li>
    <li><a id="toc-DocBook-output-1" href="#DocBook-output">4.4 DocBook output</a></li>
    <li><a id="toc-ANSI-color-escape-sequences-1" href="#ANSI-color-escape-sequences">4.5 ANSI color escape sequences</a></li>
    <li><a id="toc-Odf-output-1" href="#Odf-output">4.6 Odf output</a></li>
    <li><a id="toc-Groff-output-1" href="#Groff-output">4.7 Groff output</a></li>
  </ul></li>
  <li><a id="toc-Configuration-files-1" href="#Configuration-files">5 Configuration files</a>
  <ul class="toc-numbered-mark">
    <li><a id="toc-Output-format-style-1" href="#Output-format-style">5.1 Output format style</a></li>
    <li><a id="toc-Output-format-style-using-CSS-1" href="#Output-format-style-using-CSS">5.2 Output format style using CSS</a></li>
    <li><a id="toc-Default-Styles-1" href="#Default-Styles">5.3 Default Styles</a></li>
    <li><a id="toc-Language-map-1" href="#Language-map">5.4 Language map</a></li>
    <li><a id="toc-Language-definition-files-1" href="#Language-definition-files">5.5 Language definition files</a></li>
    <li><a id="toc-Output-Language-map-1" href="#Output-Language-map">5.6 Output Language map</a></li>
    <li><a id="toc-Output-Language-definition-files-1" href="#Output-Language-definition-files">5.7 Output Language definition files</a></li>
    <li><a id="toc-Developing-your-own-definition-files-1" href="#Developing-your-own-definition-files">5.8 Developing your own definition files</a></li>
  </ul></li>
  <li><a id="toc-Invoking-source_002dhighlight-1" href="#Invoking-source_002dhighlight">6 Invoking <code class="command">source-highlight</code></a>
  <ul class="toc-numbered-mark">
    <li><a id="toc-How-the-input-language-is-discovered-1" href="#How-the-input-language-is-discovered">6.1 How the input language is discovered</a></li>
  </ul></li>
  <li><a id="toc-Language-Definitions-1" href="#Language-Definitions">7 Language Definitions</a>
  <ul class="toc-numbered-mark">
    <li><a id="toc-Ways-of-specifying-regular-expressions-1" href="#Ways-of-specifying-regular-expressions">7.1 Ways of specifying regular expressions</a></li>
    <li><a id="toc-Simple-definitions-1" href="#Simple-definitions">7.2 Simple definitions</a></li>
    <li><a id="toc-Line-wide-definitions-1" href="#Line-wide-definitions">7.3 Line wide definitions</a></li>
    <li><a id="toc-Order-of-definitions-1" href="#Order-of-definitions">7.4 Order of definitions</a></li>
    <li><a id="toc-Delimited-definitions-1" href="#Delimited-definitions">7.5 Delimited definitions</a></li>
    <li><a id="toc-Variable-definitions-1" href="#Variable-definitions">7.6 Variable definitions</a></li>
    <li><a id="toc-Dynamic-Backreferences-1" href="#Dynamic-Backreferences">7.7 Dynamic Backreferences</a></li>
    <li><a id="toc-File-inclusion-1" href="#File-inclusion">7.8 File inclusion</a></li>
    <li><a id="toc-State_002fEnvironment-Definitions-1" href="#State_002fEnvironment-Definitions">7.9 State/Environment Definitions</a></li>
    <li><a id="toc-Explicit-subexpressions-with-names-1" href="#Explicit-subexpressions-with-names">7.10 Explicit subexpressions with names</a></li>
    <li><a id="toc-Redefinitions-and-Substitutions-1" href="#Redefinitions-and-Substitutions">7.11 Redefinitions and Substitutions</a></li>
    <li><a id="toc-How-source_002dhighlight-works-1" href="#How-source_002dhighlight-works">7.12 How source-highlight works</a></li>
    <li><a id="toc-Notes-on-regular-expressions-1" href="#Notes-on-regular-expressions">7.13 Notes on regular expressions</a></li>
    <li><a id="toc-The-program-check_002dregexp-1" href="#The-program-check_002dregexp">7.14 The program <code class="command">check-regexp</code></a></li>
    <li><a id="toc-Listing-Language-Elements-1" href="#Listing-Language-Elements">7.15 Listing Language Elements</a></li>
    <li><a id="toc-Concluding-Remarks-1" href="#Concluding-Remarks">7.16 Concluding Remarks</a></li>
    <li><a id="toc-Debugging-1" href="#Debugging">7.17 Debugging</a></li>
    <li><a id="toc-Tutorials-on-Language-Definitions-1" href="#Tutorials-on-Language-Definitions">7.18 Tutorials on Language Definitions</a>
    <ul class="toc-numbered-mark">
      <li><a id="toc-Highlighting-C_002fC_002b_002b-and-C_0023-1" href="#Highlighting-C_002fC_002b_002b-and-C_0023">7.18.1 Highlighting C/C++ and C#</a></li>
      <li><a id="toc-Highlighting-Diff-files-1" href="#Highlighting-Diff-files">7.18.2 Highlighting Diff files</a></li>
      <li><a id="toc-Pseudo-semantic-analysis-1" href="#Pseudo-semantic-analysis">7.18.3 Pseudo semantic analysis</a></li>
    </ul></li>
  </ul></li>
  <li><a id="toc-Output-Language-Definitions-1" href="#Output-Language-Definitions">8 Output Language Definitions</a>
  <ul class="toc-numbered-mark">
    <li><a id="toc-File-extension-1" href="#File-extension">8.1 File extension</a></li>
    <li><a id="toc-Text-styles-1" href="#Text-styles">8.2 Text styles</a></li>
    <li><a id="toc-Colors-1" href="#Colors">8.3 Colors</a></li>
    <li><a id="toc-Anchors-and-References-1" href="#Anchors-and-References">8.4 Anchors and References</a></li>
    <li><a id="toc-One-style-1" href="#One-style">8.5 One style</a></li>
    <li><a id="toc-Style-template-1" href="#Style-template">8.6 Style template</a></li>
    <li><a id="toc-Line-prefix-1" href="#Line-prefix">8.7 Line prefix</a></li>
    <li><a id="toc-String-translation-1" href="#String-translation">8.8 String translation</a></li>
    <li><a id="toc-Document-template-1" href="#Document-template">8.9 Document template</a></li>
    <li><a id="toc-Generating-HTML-output-1" href="#Generating-HTML-output">8.10 Generating HTML output</a></li>
  </ul></li>
  <li><a id="toc-Generating-References-1" href="#Generating-References">9 Generating References</a></li>
  <li><a id="toc-Examples-1" href="#Examples">10 Examples</a>
  <ul class="toc-numbered-mark">
    <li><a id="toc-Simple-example-1" href="#Simple-example">10.1 Simple example</a></li>
    <li><a id="toc-References-1" href="#References">10.2 References</a></li>
    <li><a id="toc-Line-ranges-1" href="#Line-ranges">10.3 Line ranges</a></li>
    <li><a id="toc-Line-ranges-_0028with-context_0029-1" href="#Line-ranges-_0028with-context_0029">10.4 Line ranges (with context)</a></li>
    <li><a id="toc-Regex-ranges-1" href="#Regex-ranges">10.5 Regex ranges</a></li>
  </ul></li>
  <li><a id="toc-Reporting-Bugs" href="#Problems">11 Reporting Bugs</a></li>
  <li><a id="toc-Mailing-Lists-1" href="#Mailing-Lists">12 Mailing Lists</a></li>
  <li><a id="toc-Concept-Index-1" href="#Concept-Index" rel="index">Concept Index</a></li>
</ul>
</div>
</div>
<hr>
<div class="chapter-level-extent" id="Introduction">
<div class="nav-panel">
<p>
Next: <a href="#Installation" accesskey="n" rel="next">Installation</a>, Previous: <a href="#Top" accesskey="p" rel="prev">GNU Source-highlight</a>, Up: <a href="#Top" accesskey="u" rel="up">GNU Source-highlight</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Concept-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h2 class="chapter" id="Introduction-1"><span>1 Introduction<a class="copiable-link" href="#Introduction-1"> &para;</a></span></h2>

<a class="index-entry-id" id="index-introduction"></a>
<a class="index-entry-id" id="index-features"></a>

<p>GNU Source-highlight, given a source file, produces a document with
syntax highlighting.  The colors and the styles can be specified (bold,
italics, underline) by means of a configuration file, and some other
options can be specified at the command line.   
</p>
<p>The program already recognizes many programming languages (e.g., C++,
Java, Perl, etc.) and file formats (e.g., log files, ChangeLog, etc.),
and some output formats (e.g., HTML, ANSI color escape sequences,
LaTeX, etc.).  Since version 2.0, it allows you to specify your own
input source language via a simple syntax described later in this manual
(<a class="ref" href="#Language-Definitions">Language Definitions</a>).  Since version 2.1,  it allows you to
specify your own output format language via a simple syntax described
later in this manual (<a class="ref" href="#Output-Language-Definitions">Output Language Definitions</a>).  Since version
2.2, it is able to generate cross references (e.g., to variable names,
field names, etc.) by relying on the program <em class="emph">ctags</em>,
<a class="url" href="http://ctags.sourceforge.net">http://ctags.sourceforge.net</a> (<a class="ref" href="#Generating-References">Generating References</a>).
</p>
<a class="index-entry-id" id="index-library"></a>
<p>Since version 3.0, GNU Source-highlight also provides a C++ library
(which is used by the main program itself), that can be used
by C++ programmers to add highlighting functionalities to their
programs.  See <a data-manual="source-highlight-info" href="source-highlight-info.html#Introduction">(source-highlight-info)Introduction</a>.
</p>

<ul class="mini-toc">
<li><a href="#Supported-languages" accesskey="1">Supported languages</a></li>
<li><a href="#The-program-source_002dhighlight_002dsettings" accesskey="2">The program <code class="code">source-highlight-settings</code></a></li>
<li><a href="#Notes-on-some-languages" accesskey="3">Notes on some languages</a></li>
<li><a href="#Using-source_002dhighlight-as-a-simple-formatter" accesskey="4">Using source-highlight as a simple formatter</a></li>
<li><a href="#Related-Software-and-Links" accesskey="5">Related Software and Links</a></li>
</ul>
<hr>
<div class="section-level-extent" id="Supported-languages">
<div class="nav-panel">
<p>
Next: <a href="#The-program-source_002dhighlight_002dsettings" accesskey="n" rel="next">The program <code class="code">source-highlight-settings</code></a>, Previous: <a href="#Introduction" accesskey="p" rel="prev">Introduction</a>, Up: <a href="#Introduction" accesskey="u" rel="up">Introduction</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Concept-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h3 class="section" id="Supported-languages-1"><span>1.1 Supported languages<a class="copiable-link" href="#Supported-languages-1"> &para;</a></span></h3>

<p>The complete list of languages (indeed, file extensions) natively
supported by this version of Source-highlight (3.1.8), as
reported by <code class="code">--lang-list</code>, is the following:
</p>
<div class="example">
<pre class="example-preformatted">C = cpp.lang
F77 = fortran.lang
F90 = fortran.lang
H = cpp.lang
ac = m4.lang
ada = ada.lang
adb = ada.lang
am = makefile.lang
applescript = applescript.lang
asm = asm.lang
autoconf = m4.lang
awk = awk.lang
bash = sh.lang
bat = bat.lang
batch = bat.lang
bib = bib.lang
bison = bison.lang
c = c.lang
caml = caml.lang
cbl = cobol.lang
cc = cpp.lang
changelog = changelog.lang
clipper = clipper.lang
cls = latex.lang
cobol = cobol.lang
coffee = coffeescript.lang
coffeescript = coffeescript.lang
conf = conf.lang
cpp = cpp.lang
cs = csharp.lang
csh = sh.lang
csharp = csharp.lang
css = css.lang
ctp = php.lang
cxx = cpp.lang
d = d.lang
desktop = desktop.lang
diff = diff.lang
dmd = d.lang
docbook = xml.lang
dtx = latex.lang
el = lisp.lang
eps = postscript.lang
erl = erlang.lang
erlang = erlang.lang
errors = errors.lang
f = fortran.lang
f77 = fortran.lang
f90 = fortran.lang
feature = feature.lang
fixed-fortran = fixed-fortran.lang
flex = flex.lang
fortran = fortran.lang
free-fortran = fortran.lang
glsl = glsl.lang
go = go.lang
groovy = groovy.lang
h = cpp.lang
haskell = haskell.lang
haxe = haxe.lang
hh = cpp.lang
hpp = cpp.lang
hs = haskell.lang
htm = html.lang
html = html.lang
hx = haxe.lang
hxx = cpp.lang
in = makefile.lang
ini = desktop.lang
islisp = islisp.lang
java = java.lang
javalog = javalog.lang
javascript = javascript.lang
js = javascript.lang
json = json.lang
kcfg = xml.lang
kdevelop = xml.lang
kidl = xml.lang
ksh = sh.lang
l = flex.lang
lang = langdef.lang
langdef = langdef.lang
latex = latex.lang
ldap = ldap.lang
ldif = ldap.lang
lex = flex.lang
lgt = logtalk.lang
lhs = haskell_literate.lang
lilypond = lilypond.lang
lisp = lisp.lang
ll = flex.lang
log = log.lang
logtalk = logtalk.lang
lsm = lsm.lang
lua = lua.lang
ly = lilypond.lang
m4 = m4.lang
makefile = makefile.lang
manifest = manifest.lang
mf = manifest.lang
ml = caml.lang
mli = caml.lang
moc = cpp.lang
opa = opa.lang
outlang = outlang.lang
oz = oz.lang
pas = pascal.lang
pascal = pascal.lang
patch = diff.lang
pc = pc.lang
perl = perl.lang
php = php.lang
php3 = php.lang
php4 = php.lang
php5 = php.lang
pkgconfig = pc.lang
pl = prolog.lang
pm = perl.lang
po = po.lang
postscript = postscript.lang
pot = po.lang
prg = clipper.lang
prolog = prolog.lang
properties = properties.lang
proto = proto.lang
protobuf = proto.lang
ps = postscript.lang
py = python.lang
python = python.lang
r = r.lang
rb = ruby.lang
rc = xml.lang
ruby = ruby.lang
s = s.lang
scala = scala.lang
scheme = scheme.lang
scm = scheme.lang
scpt = applescript.lang
sh = sh.lang
shell = sh.lang
sig = sml.lang
sl = slang.lang
slang = slang.lang
slsh = slang.lang
sml = sml.lang
spec = spec.lang
sql = sql.lang
sty = latex.lang
style = style.lang
syslog = log.lang
tcl = tcl.lang
tcsh = sh.lang
tex = latex.lang
texi = texinfo.lang
texinfo = texinfo.lang
tk = tcl.lang
tml = tml.lang
txt = nohilite.lang
ui = xml.lang
upc = upc.lang
vala = vala.lang
vbs = vbscript.lang
vbscript = vbscript.lang
xhtml = xml.lang
xml = xml.lang
xorg = xorg.lang
y = bison.lang
yacc = bison.lang
yy = bison.lang
zsh = zsh.lang
</pre></div>

<p>The complete list of output formats natively supported by this version
of Source-highlight (3.1.8), as reported by
<code class="code">--outlang-list</code>, is the following:
</p>
<div class="example">
<pre class="example-preformatted">docbook = docbook.outlang
esc = esc.outlang
esc256 = esc256.outlang
groff_man = groff_man.outlang
groff_mm = groff_mm.outlang
groff_mm_color = groff_mm_color.outlang
html = html.outlang
html-css = htmlcss.outlang
html5 = html5.outlang
htmltable = htmltable.outlang
javadoc = javadoc.outlang
latex = latex.outlang
latexcolor = latexcolor.outlang
mediawiki = mediawiki.outlang
odf = odf.outlang
sexp = sexp.outlang
texinfo = texinfo.outlang
xhtml = xhtml.outlang
xhtml-css = xhtmlcss.outlang
xhtmltable = xhtmltable.outlang
</pre></div>

<p>The meaning of the suffix <code class="code">-css</code> is explained in <a class="ref" href="#Output-Language-map">Output Language map</a><a class="footnote" id="DOCF1" href="#FOOT1"><sup>1</sup></a>.
</p>
<p>Please, keep in mind, that I haven&rsquo;t tested personally all these
language definitions: I actually checked that the definition files are
syntactically correct (with the command line option <code class="code">--check-lang</code>
and <code class="code">--check-outlang</code>, <a class="ref" href="#Invoking-source_002dhighlight">Invoking <code class="command">source-highlight</code></a>), but I&rsquo;m
not sure their definition actually respects that language syntax (e.g.,
I&rsquo;ve put up together some language definitions by searching for
information in the Internet, but I&rsquo;ve never programmed in that
language).  So, if you find that a language definition is not precise,
please let me know.  Moreover, if you have a program example in a
language that&rsquo;s not included in the <samp class="file">tests</samp> directory, please send
it to me so that I can include it in the test suite.
</p>
<hr>
</div>
<div class="section-level-extent" id="The-program-source_002dhighlight_002dsettings">
<div class="nav-panel">
<p>
Next: <a href="#Notes-on-some-languages" accesskey="n" rel="next">Notes on some languages</a>, Previous: <a href="#Supported-languages" accesskey="p" rel="prev">Supported languages</a>, Up: <a href="#Introduction" accesskey="u" rel="up">Introduction</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Concept-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h3 class="section" id="The-program-source_002dhighlight_002dsettings-1"><span>1.2 The program <code class="code">source-highlight-settings</code><a class="copiable-link" href="#The-program-source_002dhighlight_002dsettings-1"> &para;</a></span></h3>

<a class="index-entry-id" id="index-source_002dhighlight_002dsettings"></a>
<p>Since version 3.0, GNU Source-highlight includes also the program
<code class="code">source-highlight-settings</code>, which can be used to check whether
source-highlight will be able find its language definition files, and
other configuration files, and in case, to store the correct settings in
a configuration file, in the user home directory.
</p>
<a class="index-entry-id" id="index-source_002dhighlight_002econf"></a>
<p>In particular, the stored configuration file will be called
<samp class="file">source-highlight.conf</samp> and stored in
<samp class="file">$HOME/.source-highlight/</samp>.
</p>
<a class="index-entry-id" id="index-_002d_002ddata_002ddir"></a>
<p>For the moment, this file only stores the default value for
the <code class="code">--data-dir</code> option.
</p>
<p>The user can always override the contents of this configuration file,
and the default hardcoded value, by using the environment variable
<a class="index-entry-id" id="index-SOURCE_005fHIGHLIGHT_005fDATADIR"></a>
<code class="code">SOURCE_HIGHLIGHT_DATADIR</code>.
</p>
<hr>
</div>
<div class="section-level-extent" id="Notes-on-some-languages">
<div class="nav-panel">
<p>
Next: <a href="#Using-source_002dhighlight-as-a-simple-formatter" accesskey="n" rel="next">Using source-highlight as a simple formatter</a>, Previous: <a href="#The-program-source_002dhighlight_002dsettings" accesskey="p" rel="prev">The program <code class="code">source-highlight-settings</code></a>, Up: <a href="#Introduction" accesskey="u" rel="up">Introduction</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Concept-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h3 class="section" id="Notes-on-some-languages-1"><span>1.3 Notes on some languages<a class="copiable-link" href="#Notes-on-some-languages-1"> &para;</a></span></h3>

<p>In this section I&rsquo;d like to go into details on the highlighting of some
specific programming languages.  These notes might be useful when the
highlighted language has some &ldquo;dialects&rdquo; that might require some
further specification at the command line (e.g., to select a specific
dialect).
</p>

<ul class="mini-toc">
<li><a href="#Fortran" accesskey="1">Fortran</a></li>
<li><a href="#Perl" accesskey="2">Perl</a></li>
</ul>
<hr>
<div class="subsection-level-extent" id="Fortran">
<div class="nav-panel">
<p>
Next: <a href="#Perl" accesskey="n" rel="next">Perl</a>, Previous: <a href="#Notes-on-some-languages" accesskey="p" rel="prev">Notes on some languages</a>, Up: <a href="#Notes-on-some-languages" accesskey="u" rel="up">Notes on some languages</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Concept-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h4 class="subsection" id="Fortran-1"><span>1.3.1 Fortran<a class="copiable-link" href="#Fortran-1"> &para;</a></span></h4>

<a class="index-entry-id" id="index-Fortran"></a>
<p>As Toby White explained to me, Fortran comes into different &ldquo;flavors&rdquo;:
a fixed-format, where some characters have a different semantics
depending on their column position in the source file, and a free-format
where this is not true.  For instance, in the former, <code class="code">*</code> and
<code class="code">c</code> start a command line, but only if they are specified in the
first column (while this is not true in the free-format).
</p>
<p>By default, the free-format is assumed for Fortran files; if you want to
use the fixed-format, you need to specify <code class="code">fortran-fixed</code> at
the <code class="code">--src-lang</code> command line option.
</p>
<hr>
</div>
<div class="subsection-level-extent" id="Perl">
<div class="nav-panel">
<p>
Previous: <a href="#Fortran" accesskey="p" rel="prev">Fortran</a>, Up: <a href="#Notes-on-some-languages" accesskey="u" rel="up">Notes on some languages</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Concept-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h4 class="subsection" id="Perl-1"><span>1.3.2 Perl<a class="copiable-link" href="#Perl-1"> &para;</a></span></h4>

<a class="index-entry-id" id="index-Perl"></a>
<p>Perl syntax forms, especially its regular expression specifications, are
quite a nightmare ;-)  I tried to specify as much as possible in the
<samp class="file">perl.lang</samp> but some particular regular expressions might not be
highlighted correctly.  Actually, I never programmed in Perl, so, if you
see that some parts of your Perl programs are not highlighted correctly,
please do not hesitate to contact me, so that I can improve Perl
highlighting.
</p>
<a class="index-entry-id" id="index-_002d_002dinfer_002dlang"></a>
<p>Moreover, although the standard extension for Perl files is <code class="code">.pl</code>,
since the Prolog language definition was implemented in source-highlight
before Perl, this extension is assigned, by default, to Prolog files.
However, you can use <code class="code">--infer-lang</code> command line option, so that
source-highlight can try to detect the language by inspecting the first
lines of the input file (<a class="ref" href="#How-the-input-language-is-discovered">How the input language is discovered</a>);
you can also use <code class="code">--src-lang=perl</code> command line specification to
explicitly require Perl highlighting.
</p>
<hr>
</div>
</div>
<div class="section-level-extent" id="Using-source_002dhighlight-as-a-simple-formatter">
<div class="nav-panel">
<p>
Next: <a href="#Related-Software-and-Links" accesskey="n" rel="next">Related Software and Links</a>, Previous: <a href="#Notes-on-some-languages" accesskey="p" rel="prev">Notes on some languages</a>, Up: <a href="#Introduction" accesskey="u" rel="up">Introduction</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Concept-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h3 class="section" id="Using-source_002dhighlight-as-a-simple-formatter-1"><span>1.4 Using source-highlight as a simple formatter<a class="copiable-link" href="#Using-source_002dhighlight-as-a-simple-formatter-1"> &para;</a></span></h3>

<p>You can also use source-highlight as a simple formatter of input file,
i.e., without performing any highlighting<a class="footnote" id="DOCF2" href="#FOOT2"><sup>2</sup></a>.
</p>
<a class="index-entry-id" id="index-nohilite_002elang"></a>
<p>You can achieve this by using, as the language definition file for input
sources the file <samp class="file">nohilite.lang</samp>, using the command line option
<code class="code">--lang-def</code> (<a class="ref" href="#Invoking-source_002dhighlight">Invoking <code class="command">source-highlight</code></a>).  Since that
language definition is empty, no highlighting will be performed;
however, source-highlight will transform the input file in the output
format.  Note, in the input language associations in <a class="ref" href="#Supported-languages">Supported languages</a>, that <samp class="file">nohilite.lang</samp> is also associated to txt files.
</p>
<p>This, for instance, makes source-highlight useful in cases you want to
transform a text file into HTML or LaTeX.  During the output, in
fact, source-highlight will correctly generate characters that have a
specific meanings in the output format.
</p>
<p>For instance, in this Texinfo manual, 
if I want to insert a @ or a {
I have to &ldquo;escape&rdquo; them to make them appear literally
since they have a special meaning in Texinfo.  
The same holds, e.g., 
for <code class="code">&lt;</code>, <code class="code">&gt;</code> or <code class="code">&amp;</code> in HTML.  
If you use source-highlight,
it will take care of this, automatically for you.
</p>
<p>This is the Texinfo source of the above sentence:
</p>
<div class="example">
<pre class="example-preformatted">For instance, in this Texinfo manual, 
if I want to insert a @@ or a @{
I have to ``escape'' them to make them appear literally
since they have a special meaning in Texinfo.  
The same holds, e.g., 
for @code{&lt;}, @code{&gt;} or @code{&amp;} in HTML.  
If you use source-highlight,
it will take care of this, automatically for you.
</pre></div>

<p>This was processed by source-highlight as a simple text file, without no
highlighting; however since it was formatted in Texinfo, all the
necessary escaping was automatically performed.  This way, it is very
easy to insert, in the same document, a code, and its result (as in this
example).
</p>
<p>This is actually the formatting performed by source-highlight; except
for the comment, this is basically what you should have written yourself
to do all the escaping stuff manually:
</p>
<div class="example">
<pre class="example-preformatted">@c Generator: GNU source-highlight, by Lorenzo Bettini, http://www.gnu.org/software/src-highlite
@example
For instance, in this Texinfo manual, 
if I want to insert a @@@@ or a @@@{
I have to ``escape'' them to make them appear literally
since they have a special meaning in Texinfo.  
The same holds, e.g., 
for @@code@{&lt;@}, @@code@{&gt;@} or @@code@{&amp;@} in HTML.  
If you use source-highlight,
it will take care of this, automatically for you.
@end example
</pre></div>

<a class="index-entry-id" id="index-failsafe"></a>
<p>In case source-highlight does not handle a specific input language, you
can still use the option <code class="code">--failsafe</code> (<a class="ref" href="#Invoking-source_002dhighlight">Invoking <code class="command">source-highlight</code></a>) and also in that case no highlighting will be
performed, but source-highlight will transform the input file in the
output format.
</p>
<a class="index-entry-id" id="index-default_002elang"></a>
<p>Note, however, that if the input language cannot be established, the
<samp class="file">default.lang</samp> will be used: an empty language definition file
which you might want to customize.
</p>
<hr>
</div>
<div class="section-level-extent" id="Related-Software-and-Links">
<div class="nav-panel">
<p>
Previous: <a href="#Using-source_002dhighlight-as-a-simple-formatter" accesskey="p" rel="prev">Using source-highlight as a simple formatter</a>, Up: <a href="#Introduction" accesskey="u" rel="up">Introduction</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Concept-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h3 class="section" id="Related-Software-and-Links-1"><span>1.5 Related Software and Links<a class="copiable-link" href="#Related-Software-and-Links-1"> &para;</a></span></h3>

<p>Here we list some software related to source-highlight in the sense that
it uses it as a backend (i.e., provides an interface to
source-highlight) or it uses some of its features (e.g., definition
files):
</p>
<ul class="itemize mark-bullet">
<li><a class="index-entry-id" id="index-Source_002dHighlight_002dQt"></a>
<a class="index-entry-id" id="index-Qt"></a>
Source-highlight-qt is a library for performing syntax highlighting in
Qt documents by relying on GNU Source-Highlight library.  This library
provides an implementation of the qt abstract class QSyntaxHighlighter
class, and it deals both with Qt3 and Qt4.

<p><a class="uref" href="http://srchiliteqt.sourceforge.net">http://srchiliteqt.sourceforge.net</a>.
</p>
</li><li><a class="index-entry-id" id="index-QSource_002dHighlight"></a>
<a class="index-entry-id" id="index-Qt-1"></a>
QSource-Highlight is a Qt4 front-end for GNU Source-Highlight (it relies
on the library Source-Highlight-Qt).  You can highlight your code on the
fly, and have the highlighted output in all the formats supported by
source-highlight (e.g., HTML, LaTeX, Texinfo, etc.). You can then copy
the formatted output and paste it (e.g., in your blog), or save it to a
file.  A preview of the highlighted output is available for some output
formats (e.g., HTML, XHTML, etc.).

<p><a class="uref" href="http://qsrchilite.sourceforge.net">http://qsrchilite.sourceforge.net</a>.
</p>
</li><li><a class="index-entry-id" id="index-SourceHighlightIDE"></a>
<a class="index-entry-id" id="index-KDE"></a>
SourceHighlightIDE is a small IDE (based on Qt4 and
Source-highlight-qt) I wrote for developing
and debugging new language definitions for source-highlight:

<p><a class="uref" href="http://srchighliteide.sourceforge.net">http://srchighliteide.sourceforge.net</a>.
</p>
</li><li><a class="index-entry-id" id="index-Ksrc2highlight"></a>
<a class="index-entry-id" id="index-KDE-1"></a>
Martin Gebert implemented a KDE interface to source-highlight programs
(and he did a wonderful job!), and it is called <em class="emph">Ksrc2highlight</em>;
if you want to test it: 

<p><a class="uref" href="http://www.mgebert.de/Ksrc2highlight">http://www.mgebert.de/Ksrc2highlight</a>.
</p>
</li><li><a class="index-entry-id" id="index-java2html"></a>
There&rsquo;s also a Java version of java2html, you can find it at

<p><a class="uref" href="http://www.generationjava.com/projects/Java2Html.shtml">http://www.generationjava.com/projects/Java2Html.shtml</a>.
</p>
</li><li>This web site provides a web interface to source-highlight
so that you can highlight your code on-line:

<p><a class="uref" href="http://www.alaide.com/outils_colorsyntaxe.php">http://www.alaide.com/outils_colorsyntaxe.php</a>
</p>
</li><li><a class="index-entry-id" id="index-SHJS"></a>
SHJS is a JavaScript program that highlights source code passages in
HTML documents. Documents using SHJS are highlighted on the client side
by the web browser.  SHJS uses language definitions from
Source-highlight.

<p><a class="uref" href="http://shjs.sourceforge.net">http://shjs.sourceforge.net</a>
</p>
</li><li><a class="index-entry-id" id="index-code2blog"></a>
Code2blog is a pyGTK front-end to source-highlight for easy conversion
from source code to HTML.

<p><a class="uref" href="http://code.google.com/p/code2blog">http://code.google.com/p/code2blog</a>
</p>
</li><li><a class="index-entry-id" id="index-Apache"></a>
Andy Buckley wrote a wrapper around source-highlight, which can be used
as an Apache filter to highlight source code in Web pages on the fly.

<p><a class="uref" href="http://www.insectnation.org/projects/filter-src-highlight">http://www.insectnation.org/projects/filter-src-highlight</a>
</p>
</li><li><a class="index-entry-id" id="index-RapidWeaver"></a>
Roger Nilsson wrote a frontend for source-highlight that is used in a
popular webdesign app for OSX called RapidWeaver. The frontend is called
High-Light and allows users to easily add syntax-colored code inside
RapidWeaver.

<p><a class="uref" href="http://nilrogsplace.se/webdesign/rapidweaver/plugins/high-light/index_en.html">http://nilrogsplace.se/webdesign/rapidweaver/plugins/high-light/index_en.html</a>
</p>
</li><li><a class="index-entry-id" id="index-Firefox"></a>
Mauricio Zepeda published in his blog an article with a script
to automatically highlight a file and show it in Firefox:

<p><a class="uref" href="http://chillorb.com/?p=122">http://chillorb.com/?p=122</a>
</p>
</li><li><a class="index-entry-id" id="index-Wiki"></a>
<a class="index-entry-id" id="index-Ikiwiki"></a>
Jason Blevins made a plugin for Ikiwiki that enables syntax highlighting
of source code fragments and whole files via source-highlight.

<p><a class="uref" href="http://jblevins.org/projects/ikiwiki/code">http://jblevins.org/projects/ikiwiki/code</a>
</p>
</li><li><a class="index-entry-id" id="index-Wiki-1"></a>
<a class="index-entry-id" id="index-Php"></a>
Pascal Bleser created a PHP extension that uses the GNU source-highlight
library directly from PHP, instead of relying on spawning a process or
using the source-highlight CGI.

<p><a class="uref" href="http://code.google.com/p/php-source-highlight/">http://code.google.com/p/php-source-highlight/</a>
</p>
</li><li><a class="index-entry-id" id="index-SIP"></a>
<a class="index-entry-id" id="index-Python"></a>
<a class="index-entry-id" id="index-PyQt"></a>
Roberto Alsina made a partial python binding using SIP so
that you can use Source-Highlight-Qt in PyQt programs.

<p><a class="uref" href="http://marave.googlecode.com/svn/trunk/marave/highlight/">http://marave.googlecode.com/svn/trunk/marave/highlight/</a>
</p>
</li><li><a class="index-entry-id" id="index-Perl-1"></a>
A perl binding for source-highlight is available at CPAN:

<p><a class="uref" href="http://search.cpan.org/perldoc?Syntax::SourceHighlight">http://search.cpan.org/perldoc?Syntax::SourceHighlight</a>
</p>
</li><li><a class="index-entry-id" id="index-Pastebin"></a>
Danijel Tasov wrote a pastebin service based on
perl source-highlight binding:

<p><a class="uref" href="http://pb.rbfh.de">http://pb.rbfh.de</a>
</p>
</li></ul>


<hr>
</div>
</div>
<div class="chapter-level-extent" id="Installation">
<div class="nav-panel">
<p>
Next: <a href="#Copying" accesskey="n" rel="next">Copying Conditions</a>, Previous: <a href="#Introduction" accesskey="p" rel="prev">Introduction</a>, Up: <a href="#Top" accesskey="u" rel="up">GNU Source-highlight</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Concept-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h2 class="chapter" id="Installation-1"><span>2 Installation<a class="copiable-link" href="#Installation-1"> &para;</a></span></h2>
<a class="index-entry-id" id="index-installation"></a>

<a class="index-entry-id" id="index-compilation"></a>
<p>See the file <samp class="file">INSTALL</samp> for detailed building and  installation
instructions; anyway if you&rsquo;re used to compiling Linux software that
comes with sources you may simply follow the usual procedure, i.e., untar
the file you downloaded in a directory and then:
</p>
<div class="example">
<pre class="example-preformatted">cd &lt;source code main directory&gt;
./configure
make
make install
</pre></div>

<a class="index-entry-id" id="index-shadow-build"></a>
<p>We strongly suggest to use shadow builds, thus, create a build
directory, say <samp class="file">build</samp> and run configuration and make in that
directory:
</p>
<div class="example">
<pre class="example-preformatted">cd &lt;source code main directory&gt;
mkdir build
cd build
../configure
make
make install
</pre></div>

<p>However, before you do this, please check that you have everything that
is needed to build source-highlight, <a class="ref" href="#What-you-need-to-build-source_002dhighlight">What you need to build source-highlight</a>.
</p>
<p>Note: unless you specify a different install directory by 
<code class="code">--prefix</code> option of
configure (e.g. <code class="code">./configure --prefix=&lt;your home&gt;</code>), 
you must be root to run <code class="code">make install</code>.
</p>
<p>You may want to run <code class="code">./configure --help</code> to see all the possible
options that can be passed to the configuration script.
</p>
<a class="index-entry-id" id="index-directories"></a>
<p>Files will be installed in the following directories:
</p>
<dl class="table">
<dt><code class="code">Executables</code></dt>
<dd><p><code class="code">prefix/bin</code>
</p></dd>
<dt><code class="code">docs and output examples</code></dt>
<dd><p><code class="code">prefix/share/doc/source-highlight</code>
</p></dd>
<dt><code class="code">library examples</code></dt>
<dd><p><code class="code">prefix/share/doc/source-highlight/examples</code>
</p></dd>
<dt><code class="code">library API documentation</code></dt>
<dd><p><code class="code">prefix/share/doc/source-highlight/api</code>
</p></dd>
<dt><code class="code">conf files</code></dt>
<dd><p><code class="code">prefix/share/source-highlight</code>
</p></dd>
</dl>

<p>Default value for prefix is <code class="code">/usr/local</code> 
but you may change it with <code class="code">--prefix</code>
option to configure.  For further <code class="code">configure</code> options, you
can run <code class="code">configure --help</code>.
</p>
<a class="index-entry-id" id="index-bash-completion"></a>
<p>Tiziano Muller wrote a bash completion configuration file for
source-highlight; this will be installed by default in the directory
<code class="code">sysconfdir/bash_completion.d</code>, where <code class="code">sysconfdir</code> defaults to
<code class="code">prefix/etc</code>; however, typically, the directory where the bash
completion script searches for configuration file is
<code class="code">/etc/bash_completion.d</code>.  Thus, we suggest you explicitly specify
this directory with the configuration script command line option
<code class="code">--with-bash-completion</code>.
</p>
<a class="index-entry-id" id="index-library-1"></a>
<a class="index-entry-id" id="index-_002d_002dwith_002ddoxygen"></a>
<a class="index-entry-id" id="index-doxygen"></a>
<p>If you want to build and install the API documentation of
Source-highlight library, you need to run <code class="code">configure</code> with the
option <code class="code">--with-doxygen</code>, but you need the program <em class="emph">Doxygen</em>,
<a class="url" href="http://www.doxygen.org">http://www.doxygen.org</a>, to build the documentation.
The documentation will be installed in the following directory:
</p>
<dl class="table">
<dt><code class="code">Library API documentation</code></dt>
<dd><p><code class="code">prefix/share/doc/source-highlight/api</code>
</p></dd>
</dl>


<a class="index-entry-id" id="index-java2html-1"></a>
<a class="index-entry-id" id="index-cpp2html"></a>
<p>NOTE: Originally, instead of Source-highlight, there were  two
separate programs, namely <em class="emph">GNU java2html</em> and <em class="emph">GNU cpp2html</em>.
There are two shell scripts with the same name that will be installed
together with Source-highlight in order to facilitate the migration
(however their use is not advised and it is deprecated).
</p>

<ul class="mini-toc">
<li><a href="#Building-with-qmake" accesskey="1">Building with qmake</a></li>
<li><a href="#Download" accesskey="2">Download</a></li>
<li><a href="#Anonymous-Git-Checkout" accesskey="3">Anonymous Git Checkout</a></li>
<li><a href="#What-you-need-to-build-source_002dhighlight" accesskey="4">What you need to build source-highlight</a></li>
<li><a href="#Tips-on-installing-Boost-Regex-library" accesskey="5">Tips on installing Boost Regex library</a></li>
<li><a href="#Patching-from-a-previous-version" accesskey="6">Patching from a previous version</a></li>
<li><a href="#Using-source_002dhighlight-with-less" accesskey="7">Using source-highlight with less</a></li>
<li><a href="#Using-source_002dhighlight-as-a-CGI" accesskey="8">Using source-highlight as a CGI</a></li>
<li><a href="#Building-_002erpm" accesskey="9">Building .rpm</a></li>
</ul>
<hr>
<div class="section-level-extent" id="Building-with-qmake">
<div class="nav-panel">
<p>
Next: <a href="#Download" accesskey="n" rel="next">Download</a>, Previous: <a href="#Installation" accesskey="p" rel="prev">Installation</a>, Up: <a href="#Installation" accesskey="u" rel="up">Installation</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Concept-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h3 class="section" id="Building-with-qmake-1"><span>2.1 Building with qmake<a class="copiable-link" href="#Building-with-qmake-1"> &para;</a></span></h3>
<a class="index-entry-id" id="index-qmake"></a>

<p>Since version 3.1.2, Source-highlight can be built also using
<code class="code">qmake</code>, the build tool from Qt libraries (<a class="uref" href="http://qt.nokia.com">http://qt.nokia.com</a>).
This was made available to build Source-highlight on Windows based systems
without using a Unix shell, and in particular to build Source-highlight
<a class="index-entry-id" id="index-MSVC"></a>
with Microsoft MSVC compiler.  You should use this method only if you
don&rsquo;t have a Unix shell or if you really need to use the MSVC compiler
(e.g., if you want to build Source-highlight library to be used in MSVC
based programs).
<a class="index-entry-id" id="index-boost"></a>
You still need the boost regex library, and if you
use MSVC, you can find installation packages for this library at
<a class="url" href="http://www.boostpro.com">http://www.boostpro.com</a>.
</p>
<p>This build mechanism is still experimental, and, when using MSVC, only
a static version of Source-highlight library can be built (not a .dll).
<a class="index-entry-id" id="index-MinGW"></a>
You can also use this method if you have the MinGW compiler,
<a class="uref" href="http://www.mingw.org">http://www.mingw.org</a>, (e.g.,
the one that comes with Qt Windows distribution) and you don&rsquo;t have
<a class="index-entry-id" id="index-msys"></a>
Msys (<a class="uref" href="http://www.mingw.org/wiki/MSYS">http://www.mingw.org/wiki/MSYS</a>).  Otherwise, you should
still use the <code class="code">configure</code> based mechanims.
</p>
<p>Using <code class="code">qmake</code>, only a few options can be specified during the building
(besides the ones you usually use with qmake), and these options can
be specified only using environment variables:
</p>
<dl class="table">
<dt><code class="code">BOOST_REGEX</code></dt>
<dd><p>By default, <code class="code">boost_regex</code> will be used to link the boost library
(i.e., <code class="code">-lboost_regex</code>); if your boost regex library has a different
name you must specify this name using this environment variable; e.g.,
if the library file is called <code class="code">libboost_regex-mt.lib</code> or
<code class="code">boost_regex-mt.dll</code> you must set this variable to
<code class="code">boost_regex-mt</code>.
</p></dd>
<dt><code class="code">INCPATH</code></dt>
<dd><p>Specify the path of the boost header files.
</p></dd>
<dt><code class="code">LIBS</code></dt>
<dd><p>Specify the path of the boost lib files.
</p></dd>
</dl>

<p>Please, take into consideration that specifying the boost library
include and library paths is completely up to you, using
<code class="code">INCPATH</code> and <code class="code">LIBS</code>, if they&rsquo;re not in the system
path directories.
</p>
<p>Also remember to always use the option <code class="code">-recursive</code> when running
qmake.
</p>
<p>If you then want to run <code class="code">make install</code>, you can use the
variable <code class="code">INSTALL_ROOT</code> to prefix the installation path, which,
otherwise, is the root directory.
</p>
<hr>
</div>
<div class="section-level-extent" id="Download">
<div class="nav-panel">
<p>
Next: <a href="#Anonymous-Git-Checkout" accesskey="n" rel="next">Anonymous Git Checkout</a>, Previous: <a href="#Building-with-qmake" accesskey="p" rel="prev">Building with qmake</a>, Up: <a href="#Installation" accesskey="u" rel="up">Installation</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Concept-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h3 class="section" id="Download-1"><span>2.2 Download<a class="copiable-link" href="#Download-1"> &para;</a></span></h3>
<a class="index-entry-id" id="index-download"></a>

<p>You can download it from GNU&rsquo;s ftp site:
<a class="uref" href="ftp://ftp.gnu.org/gnu/src-highlite">ftp://ftp.gnu.org/gnu/src-highlite</a> or from one of its mirrors (see
<a class="uref" href="http://www.gnu.org/prep/ftp.html">http://www.gnu.org/prep/ftp.html</a>).
</p>
<p>I do not distribute Windows binaries anymore; since, they can be built
by using Cygnus C/C++ compiler, available at
<a class="uref" href="http://www.cygwin.com">http://www.cygwin.com</a>.  However, if you don&rsquo;t feel like
downloading such compiler or you experience problems with the Boost
Regex library (see also <a class="ref" href="#Tips-on-installing-Boost-Regex-library">Tips on installing Boost Regex library</a>;
please also keep in mind that if you don&rsquo;t have these libraries
installed, and your C/C++ compiler distribution does not provide a
prebuilt package, it might take some time, even hours, to build the
Boost libraries from sources), you can request such binaries directly to
me, by e-mail (find my e-mail at my home page) and I&rsquo;ll be happy to send
them to you.  An MS-Windows port of Source-highlight is available from
<a class="uref" href="http://gnuwin32.sourceforge.net">http://gnuwin32.sourceforge.net</a>; however, I don&rsquo;t maintain those
binaries personally, and they might be out of date.
</p>
<p>Archives are digitally signed by me (Lorenzo Bettini) with GNU gpg
(<a class="uref" href="http://www.gnupg.org">http://www.gnupg.org</a>). My GPG public key can be found at my home
page (<a class="uref" href="http://www.lorenzobettini.it">http://www.lorenzobettini.it</a>).
</p>
<p>You can also get the patches, if they are available for a particular
release (see below for patching from a previous version).
</p>
<hr>
</div>
<div class="section-level-extent" id="Anonymous-Git-Checkout">
<div class="nav-panel">
<p>
Next: <a href="#What-you-need-to-build-source_002dhighlight" accesskey="n" rel="next">What you need to build source-highlight</a>, Previous: <a href="#Download" accesskey="p" rel="prev">Download</a>, Up: <a href="#Installation" accesskey="u" rel="up">Installation</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Concept-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h3 class="section" id="Anonymous-Git-Checkout-1"><span>2.3 Anonymous Git Checkout<a class="copiable-link" href="#Anonymous-Git-Checkout-1"> &para;</a></span></h3>

<a class="index-entry-id" id="index-Git"></a>
<p>This project&rsquo;s git repository can be checked out through the following
clone instruction<a class="footnote" id="DOCF3" href="#FOOT3"><sup>3</sup></a>:
</p>
<div class="example">
<pre class="example-preformatted">git clone git://git.savannah.gnu.org/src-highlite.git
</pre></div>

<p>Further instructions can be found at the address:
</p>
<p><a class="uref" href="http://savannah.gnu.org/projects/src-highlite">http://savannah.gnu.org/projects/src-highlite</a>.
</p>
<p>And the git repository can also browsed on-line at
</p>
<p><a class="uref" href="http://git.savannah.gnu.org/cgit/src-highlite.git">http://git.savannah.gnu.org/cgit/src-highlite.git</a>.
</p>
<p>Please note that this way you will get the latest development sources
of Source-highlight, which may also be unstable.  This solution is the
best if you intend to correct/extend this program: you should send me
patches against the latest git repository sources.
</p>
<p>If, on the contrary, you want to get the sources of a given release,
through git, say, e.g., version X.Y.Z, you must specify the tag
<code class="code">rel_X_Y_Z</code>.
</p>
<p>When you compile the sources that you get from the git repository,
before running the <code class="code">configure</code> and <code class="code">make</code> commands, for the
first time, you must run the command:
</p>
<div class="example">
<pre class="example-preformatted">autoreconf -i
</pre></div>

<p>This will run the autotools commands in the correct order, and also copy
possibly missing files.  You should have installed recent versions of
<a class="index-entry-id" id="index-automake"></a>
<a class="index-entry-id" id="index-autoconf"></a>
<a class="index-entry-id" id="index-libtool"></a>
<code class="code">automake</code>, <code class="code">autoconf</code> and <code class="code">libtool</code> in order for this to
succeed.
</p>
<a class="index-entry-id" id="index-shadow-build-1"></a>
<p>We strongly suggest to use shadow builds, thus, create a build
directory, say <samp class="file">build</samp> and run configuration and make in that
directory:
</p>
<div class="example">
<pre class="example-preformatted">cd &lt;source code main directory&gt;
mkdir build
cd build
../configure
make
make install
</pre></div>

<p>To summarize, the steps to get the sources from git and make the first build
are:
</p>
<div class="example">
<pre class="example-preformatted">git clone git://git.savannah.gnu.org/src-highlite.git
cd src-highlite
autoreconf -i
mkdir build
cd build
../configure
make
</pre></div>

<hr>
</div>
<div class="section-level-extent" id="What-you-need-to-build-source_002dhighlight">
<div class="nav-panel">
<p>
Next: <a href="#Tips-on-installing-Boost-Regex-library" accesskey="n" rel="next">Tips on installing Boost Regex library</a>, Previous: <a href="#Anonymous-Git-Checkout" accesskey="p" rel="prev">Anonymous Git Checkout</a>, Up: <a href="#Installation" accesskey="u" rel="up">Installation</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Concept-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h3 class="section" id="What-you-need-to-build-source_002dhighlight-1"><span>2.4 What you need to build source-highlight<a class="copiable-link" href="#What-you-need-to-build-source_002dhighlight-1"> &para;</a></span></h3>

<a class="index-entry-id" id="index-compilation-requirements"></a>
<a class="index-entry-id" id="index-building-requirements"></a>

<a class="index-entry-id" id="index-boost-1"></a>
<p>Since version 2.0 Source-highlight relies on regular expressions as
provided by boost (<a class="uref" href="http://www.boost.org">http://www.boost.org</a>), so you need to install at
least the regex library from boost.  
</p>
<p>Most GNU/Linux distributions provide this library already in a compiled
form.  If you use your distribution packages, please be sure to install
also the development package of the boost libraries.
</p>
<p>If you experience problems in installing Boost Regex library, or in
compiling source-highlight because of this library, please take a look
at <a class="ref" href="#Tips-on-installing-Boost-Regex-library">Tips on installing Boost Regex library</a>.
</p>
<p>If you want to use a specific version of the Boost regex library
(because you have many versions of it), you can use the configure option
<code class="code">--with-boost-regex</code> to specify a particular suffix.  For instance,
</p>
<div class="example">
<pre class="example-preformatted">./configure --with-boost-regex=boost_regex-gcc-1_31
</pre></div>

<p>Source-highlight has been developed under GNU/Linux, using gcc (C++),
and bison (yacc) and flex (lex), and ported under Win32 with Cygwin
C/C++compiler, available at <a class="uref" href="http://www.cygwin.com">http://www.cygwin.com</a>.  
</p>
<p>I use the excellent 
<a class="index-entry-id" id="index-automake-1"></a>
<a class="index-entry-id" id="index-autoconf-1"></a>
<a class="index-entry-id" id="index-libtool-1"></a>
GNU Autoconf<a class="footnote" id="DOCF4" href="#FOOT4"><sup>4</sup></a>,
GNU Automake<a class="footnote" id="DOCF5" href="#FOOT5"><sup>5</sup></a> and
GNU Libtool<a class="footnote" id="DOCF6" href="#FOOT6"><sup>6</sup></a>.
<a class="index-entry-id" id="index-gnulib"></a>
Since version 2.6 I also started to use Gnulib - The GNU Portability
Library<a class="footnote" id="DOCF7" href="#FOOT7"><sup>7</sup></a>, &ldquo;a central
location for common GNU code, intended to be shared among GNU packages&rdquo;
(for instance, I rely on Gnulib for checking for the presence and
correctness of <code class="code">getopt_long</code> function).
</p>
<p>Finally I used <em class="emph">GNU gengetopt</em>
(<a class="uref" href="http://www.gnu.org/software/gengetopt">http://www.gnu.org/software/gengetopt</a>), for command line parsing.
</p>
<p>I started to use also <em class="emph">doublecpp</em>
(<a class="uref" href="http://doublecpp.sourceforge.net">http://doublecpp.sourceforge.net</a>) that permits achieving dynamic
overloading.
</p>
<p>Actually, apart from the boost regex library, you don&rsquo;t need the other
tools above to build source-highlight (indeed I provide the output
sources generated by the above mentioned tools), unless you want to
develop source-highlight.
</p>
<p>However, if you obtained sources through Git, you need some other tools,
see <a class="ref" href="#Anonymous-Git-Checkout">Anonymous Git Checkout</a>.
</p>
<hr>
</div>
<div class="section-level-extent" id="Tips-on-installing-Boost-Regex-library">
<div class="nav-panel">
<p>
Next: <a href="#Patching-from-a-previous-version" accesskey="n" rel="next">Patching from a previous version</a>, Previous: <a href="#What-you-need-to-build-source_002dhighlight" accesskey="p" rel="prev">What you need to build source-highlight</a>, Up: <a href="#Installation" accesskey="u" rel="up">Installation</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Concept-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h3 class="section" id="Tips-on-installing-Boost-Regex-library-1"><span>2.5 Tips on installing Boost Regex library<a class="copiable-link" href="#Tips-on-installing-Boost-Regex-library-1"> &para;</a></span></h3>

<a class="index-entry-id" id="index-Boost-regex"></a>

<p>If you experience no problem in compiling source-highlight, you can
happily skip this section<a class="footnote" id="DOCF8" href="#FOOT8"><sup>8</sup></a> :-)
</p>
<p>I created this section because many users reported some problems after
installing Boost Regex library from sources; other users had problems in
compiling source-highlight even if this library was already correctly
installed (especially windows users, using cygwin).  I hope this section
sheds some light in installing/using the Boost Regex library.  Please,
note that this section does not explain how to compile the Boost
libraries (the documentation you&rsquo;ll find on <a class="uref" href="http://www.boost.org">http://www.boost.org</a>
is well done); it explains how to tweak things if you have problems in
compiling source-highlight even after a successful installation of Boost
libraries.
</p>
<p>First of all, if your distribution provides packages for the Boost regex
library, please be sure to install also the development package of the
boost libraries, i.e., those providing also the header files needed to
compile a program using these libraries.  For instance, on my Debian
system I had to install the package <code class="code">libboost-regex-dev</code>, besides
the package <code class="code">libboost-regex</code>.
</p>
<p>If your distribution does not provide these packages then you have to
download the sources of Boost libraries from <a class="uref" href="http://www.boost.org">http://www.boost.org</a>
and follow the instructions for compilation and installation.  However,
I suggest you specify <samp class="file">/usr</samp> as prefix for installation, instead of
relying on the default prefix <samp class="file">/usr/local</samp> (unless
<samp class="file">/usr/local/include</samp> is already in the inclusion path of your C++
compiler), since this will make things easier when compiling
source-highlight.  I suggest this, since <samp class="file">/usr/include</samp> is usually
the place where C++ searches for header files during compilation.
</p>
<p>If you successfully compiled and installed the Boost Regex library, or
you installed the package from your distribution, but you STILL
experience problems in compiling source-highlight, then you simply have
to adjust some things as described in the following.
</p>
<p>If the <code class="code">./configure</code> command of source-highlight reports this
error:
</p>
<div class="example">
<pre class="example-preformatted">ERROR! Boost::regex library not installed.
</pre></div>

<p>then, the compiler cannot find the header files for this library.  In
this case, check that the directory <samp class="file">/usr/include/boost</samp> actually
exists; if it does not, then probably you&rsquo;ll find a similar directory,
e.g., <samp class="file">/usr/include/boost-1_33/boost</samp>, depending on the version of
the library you have installed.  Then, all you have to do is to create a
symbolic link as follows:
</p>
<div class="example">
<pre class="example-preformatted">ln -s /usr/include/boost-1_33/boost /usr/include/boost
</pre></div>

<a class="index-entry-id" id="index-CXXFLAGS"></a>
<p>Alternatively, you might run source-highlight&rsquo;s configure as follows:
</p>
<div class="example">
<pre class="example-preformatted">./configure CXXFLAGS=-I/usr/include/boost-1_33/
</pre></div>

<p>If you install (or build) the Boost Regex library in a non standard
path, e.g., somewhere in your home directory, say
<samp class="file">/home/myhome/boost-1_33</samp>, you&rsquo;ll have to update the
<code class="code">CXXFLAGS</code> variable accordingly on the <code class="code">configure</code> command
line; in this particular case, you might also have to specify the path
of actual library files (<code class="code">CXXFLAGS</code> will only specify the path of
header files).  In particular, you&rsquo;ll have to know where the lib files
are within the boost installation (or build directory); for instance,
if they are in <samp class="file">/home/myhome/boost-1_33/stage/lib</samp>, while the
header files (i.e., the <samp class="file">boost</samp> header files directory) are in
<samp class="file">/home/myhome/boost-1_33</samp>, the complete <code class="code">configure</code> command
should be
</p>
<a class="index-entry-id" id="index-LDFLAGS"></a>
<div class="example">
<pre class="example-preformatted">./configure CXXFLAGS=-I/home/myhome/boost-1_33 \
            LDFLAGS=-L/home/myhome/boost-1_33/stage/lib
</pre></div>

<p>If then <code class="code">./configure</code> command of source-highlight reports this
other error:
</p>
<div class="example">
<pre class="example-preformatted">ERROR! Boost::regex library is installed, but you
must specify the suffix with --with-boost-regex at configure
for instance, --with-boost-regex=boost_regex-gcc-1_31
</pre></div>

<p>then, there&rsquo;s still another thing to fix: you must find out the exact
names of the files of your installed Boost Regex libraries; you can do
this by using the command:
</p>
<div class="example">
<pre class="example-preformatted">$ ls -l /usr/lib/libboost_regex*
</pre></div>

<p>that, for instance, on one of my cygwin installation reports:
</p>
<div class="example">
<pre class="example-preformatted">-rwxr-x---+ Nov  9 23:29 /usr/lib/libboost_regex-gcc-mt-s-1_33.a
-rwxr-x---+ Nov 22 09:22 /usr/lib/libboost_regex-gcc-mt-s.a 
-rwxr-x---+ Nov  9 23:29 /usr/lib/libboost_regex-gcc-mt-s-1_33.so
-rwxr-x---+ Nov 22 09:22 /usr/lib/libboost_regex-gcc-mt-s.so
</pre></div>

<p>Now, you have all the information to correctly run the
source-highlight&rsquo;s configure command:
</p>
<div class="example">
<pre class="example-preformatted">./configure --with-boost-regex=boost_regex-gcc-mt-s-1_33
</pre></div>

<p>or, if you solved the first problem in the second way<a class="footnote" id="DOCF9" href="#FOOT9"><sup>9</sup></a>,
</p>
<div class="example">
<pre class="example-preformatted">./configure CXXFLAGS=-I/usr/include/boost-1_33/ \
            --with-boost-regex=boost_regex-gcc-mt-s-1_33
</pre></div>

<p>Of course, you have to modify this command according to the names of
your Boost Regex library installed files.
</p>
<p>These instructions managed to let many users, who were experiencing
problems, to compile source-highlight If you still have problems, please
send me an e-mail.
</p>
<hr>
</div>
<div class="section-level-extent" id="Patching-from-a-previous-version">
<div class="nav-panel">
<p>
Next: <a href="#Using-source_002dhighlight-with-less" accesskey="n" rel="next">Using source-highlight with less</a>, Previous: <a href="#Tips-on-installing-Boost-Regex-library" accesskey="p" rel="prev">Tips on installing Boost Regex library</a>, Up: <a href="#Installation" accesskey="u" rel="up">Installation</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Concept-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h3 class="section" id="Patching-from-a-previous-version-1"><span>2.6 Patching from a previous version<a class="copiable-link" href="#Patching-from-a-previous-version-1"> &para;</a></span></h3>
<a class="index-entry-id" id="index-patching"></a>

<p>If you downloaded a patch, say
<samp class="file">source-highlight-1.3-1.3.1-patch.gz</samp> (i.e., the patch to go from version
1.3 to version 1.3.1), cd to the directory with sources from the
previous version (source-highlight-1.3) and type:  
</p>
<div class="example">
<pre class="example-preformatted">gunzip -cd ../source-highlight-1.3-1.3.1.patch.gz | patch -p1 
</pre></div>

<p>and restart the compilation process (if you had already run configure a
simple make should do).
</p>
<hr>
</div>
<div class="section-level-extent" id="Using-source_002dhighlight-with-less">
<div class="nav-panel">
<p>
Next: <a href="#Using-source_002dhighlight-as-a-CGI" accesskey="n" rel="next">Using source-highlight as a CGI</a>, Previous: <a href="#Patching-from-a-previous-version" accesskey="p" rel="prev">Patching from a previous version</a>, Up: <a href="#Installation" accesskey="u" rel="up">Installation</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Concept-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h3 class="section" id="Using-source_002dhighlight-with-less-1"><span>2.7 Using source-highlight with less<a class="copiable-link" href="#Using-source_002dhighlight-with-less-1"> &para;</a></span></h3>

<a class="index-entry-id" id="index-src_002dhilite_002dlesspipe_002esh"></a>
<p>This was suggested by Konstantine Serebriany.   The script
<samp class="file">src-hilite-lesspipe.sh</samp> will be installed together with
source-highlight.  You can use the following environment variables:
</p>
<div class="example">
<pre class="example-preformatted">export LESSOPEN=&quot;| /path/to/src-hilite-lesspipe.sh %s&quot;
export LESS=' -R '
</pre></div>

<p>This way, when you use less to browse a file, if it is a source file
handled by source-highlight, it will be automatically highlighted.
</p>
<a class="index-entry-id" id="index-source_002dhighlight_002desc_002esh"></a>
<p>Xavier-Emmanuel Vincent recently provided an alternative version of
ANSI color scheme, <samp class="file">esc256.style</samp>: some terminals can handle 256
colors.  Xavier also provided a script which checks how many colors
your terminal can handle, and in case, uses the 256 variant.  The
script is called <samp class="file">source-highlight-esc.sh</samp> and it will be
installed together with the other binaries.
</p>
<hr>
</div>
<div class="section-level-extent" id="Using-source_002dhighlight-as-a-CGI">
<div class="nav-panel">
<p>
Next: <a href="#Building-_002erpm" accesskey="n" rel="next">Building .rpm</a>, Previous: <a href="#Using-source_002dhighlight-with-less" accesskey="p" rel="prev">Using source-highlight with less</a>, Up: <a href="#Installation" accesskey="u" rel="up">Installation</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Concept-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h3 class="section" id="Using-source_002dhighlight-as-a-CGI-1"><span>2.8 Using source-highlight as a CGI<a class="copiable-link" href="#Using-source_002dhighlight-as-a-CGI-1"> &para;</a></span></h3>

<a class="index-entry-id" id="index-CGI"></a>
<p>CGI support was enabled thanks to Robert Wetzel; I haven&rsquo;t tested it
personally.  If you want to use source-highlight as a CGI program, you
have to use the executable source-highlight-cgi.  You can build such
executable by issuing
</p>
<div class="example">
<pre class="example-preformatted">make source-highlight-cgi
</pre></div>

<p>in the <samp class="file">src</samp> directory.
</p>


<hr>
</div>
<div class="section-level-extent" id="Building-_002erpm">
<div class="nav-panel">
<p>
Previous: <a href="#Using-source_002dhighlight-as-a-CGI" accesskey="p" rel="prev">Using source-highlight as a CGI</a>, Up: <a href="#Installation" accesskey="u" rel="up">Installation</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Concept-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h3 class="section" id="Building-_002erpm-1"><span>2.9 Building .rpm<a class="copiable-link" href="#Building-_002erpm-1"> &para;</a></span></h3>
<a class="index-entry-id" id="index-rpm"></a>

<p>Christian W. Zuckschwerdt added support for building an .rpm and an
.rpm.src.  You can issue the following command
</p>
<div class="example">
<pre class="example-preformatted">rpmbuild -tb source-highlight-3.1.8.tar.gz
</pre></div>

<p>for building an .rpm with binaries and 
</p>
<div class="example">
<pre class="example-preformatted">rpmbuild -ts source-highlight-3.1.8.tar.gz
</pre></div>

<p>for building an .rpm.src with sources. 
</p>

<hr>
</div>
</div>
<div class="chapter-level-extent" id="Copying">
<div class="nav-panel">
<p>
Next: <a href="#Simple-Usage" accesskey="n" rel="next">Simple Usage</a>, Previous: <a href="#Installation" accesskey="p" rel="prev">Installation</a>, Up: <a href="#Top" accesskey="u" rel="up">GNU Source-highlight</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Concept-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h2 class="chapter" id="Copying-Conditions"><span>3 Copying Conditions<a class="copiable-link" href="#Copying-Conditions"> &para;</a></span></h2>
<a class="index-entry-id" id="index-Copying-conditions"></a>

<p>GNU Source-highlight is free software; you are free to use, share and modify it
under the terms of the GNU General Public License that accompanies this software
(see <samp class="file">COPYING</samp>).
</p>
<p>GNU <code class="command">source-highlight</code> was written and
maintained by Lorenzo Bettini <a class="uref" href="http://www.lorenzobettini.it">http://www.lorenzobettini.it</a>.
</p>
<hr>
</div>
<div class="chapter-level-extent" id="Simple-Usage">
<div class="nav-panel">
<p>
Next: <a href="#Configuration-files" accesskey="n" rel="next">Configuration files</a>, Previous: <a href="#Copying" accesskey="p" rel="prev">Copying Conditions</a>, Up: <a href="#Top" accesskey="u" rel="up">GNU Source-highlight</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Concept-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h2 class="chapter" id="Simple-Usage-1"><span>4 Simple Usage<a class="copiable-link" href="#Simple-Usage-1"> &para;</a></span></h2>
<a class="index-entry-id" id="index-sample"></a>

<p>Here are some realistic examples of running
<code class="command">source-highlight</code><a class="footnote" id="DOCF10" href="#FOOT10"><sup>10</sup></a>.
</p>
<p>Source-highlight only does a lexical analysis of the source code, so the
program source is assumed to be correct!
</p>
<p>Here&rsquo;s how to run source-highlight (for this example we will use
C/C++ input files, but this is valid also for other source-highlight
input languages):
</p>
<div class="example">
<pre class="example-preformatted">source-highlight --src-lang cpp --out-format html \
    --input <var class="var">&lt;C++ file&gt;</var> \
    --output <var class="var">&lt;html file&gt;</var> \
    --style-file <var class="var">&lt;style file&gt;</var> \
    <var class="var">options</var>
</pre></div>

<p>For input files, apart from the <code class="code">-i (--input)</code> option and the
standard input redirection, you can simply specify some files at the
command line and also use regular expressions (for instance
<samp class="file">*.java</samp>).  In this case the name for the output files will be
formed using the name of the source file with a .&lt;ext&gt; appended, where
&lt;ext&gt; is the extension chosen according to the output format specified
(in this example it would be .html).  The style file 
(<a class="ref" href="#Output-format-style">Output format style</a>) 
contains information on how to format specific language parts
(e.g., keywords in blue and boldface, etc.).
</p>
<p>IMPORTANT: you must choose one of the above two invocation modes: either
you use <code class="code">-i (--input)</code>, <code class="code">-o (--output)</code> (possibly replacing
them with standard input/output redirection), or you specify one or many
files without <code class="code">-i (--input)</code>; if you try to mix them you&rsquo;ll get an
error:
</p>
<div class="example">
<pre class="example-preformatted">source-highlight -o main.html main.cpp
Please, use one of the two syntaxes for invocation:
source-highlight [OPTIONS]... -i input_file -o output_file
source-highlight [OPTIONS]... [FILES]...
</pre></div>

<p>If <code class="code">STDOUT</code> string is passed as <code class="code">-o (--output)</code> option, then
the output is forced to the standard output anyway.
</p>
<p>If <code class="code">-s (--src-lang)</code> is not specified, the source language is
inferred by the extension of the input file or from the file name itself
(possibly using also lower case versions); this, of course, does not
work with standard input redirection.  For further details, see <a class="ref" href="#How-the-input-language-is-discovered">How the input language is discovered</a>.
</p>
<p>If <code class="code">-f (--out-format)</code> is not specified, the output will be
produced in HTML.
</p>
<p>If <code class="code">--style-file</code> is not specified, the <samp class="file">default.style</samp>, which
is included in the distribution, will be used (see <a class="ref" href="#Output-format-style">Output format style</a> 
for further information).
</p>

<ul class="mini-toc">
<li><a href="#HTML-and-XHTML-output" accesskey="1">HTML and XHTML output</a></li>
<li><a href="#LaTeX-output" accesskey="2">LaTeX output</a></li>
<li><a href="#Texinfo-output" accesskey="3">Texinfo output</a></li>
<li><a href="#DocBook-output" accesskey="4">DocBook output</a></li>
<li><a href="#ANSI-color-escape-sequences" accesskey="5">ANSI color escape sequences</a></li>
<li><a href="#Odf-output" accesskey="6">Odf output</a></li>
<li><a href="#Groff-output" accesskey="7">Groff output</a></li>
</ul>
<hr>
<div class="section-level-extent" id="HTML-and-XHTML-output">
<div class="nav-panel">
<p>
Next: <a href="#LaTeX-output" accesskey="n" rel="next">LaTeX output</a>, Previous: <a href="#Simple-Usage" accesskey="p" rel="prev">Simple Usage</a>, Up: <a href="#Simple-Usage" accesskey="u" rel="up">Simple Usage</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Concept-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h3 class="section" id="HTML-and-XHTML-output-1"><span>4.1 HTML and XHTML output<a class="copiable-link" href="#HTML-and-XHTML-output-1"> &para;</a></span></h3>
<a class="index-entry-id" id="index-HTML"></a>
<a class="index-entry-id" id="index-XHTML"></a>

<p>The default output format for HTML and XHTML uses fixed width fonts by
inserting all the formatted output between <code class="code">&lt;tt&gt;</code> and <code class="code">&lt;/tt&gt;</code>.
Thus, for instance, specification for fixed width and not fixed width
(see <a class="ref" href="#Output-format-style">Output format style</a>) will have no effect: every character
will have fixed width.  If you don&rsquo;t like this default behavior and
would like to have not fixed fonts by default (as it happens, e.g., with
LaTeX output) you can use the file <samp class="file">html_notfixed.outlang</samp> with
the command line argument <code class="code">--outlang-def</code>.  For XHTML output, the
corresponding file is <samp class="file">xhtml_notfixed.outlang</samp>
</p>
<p>Furthermore, the file <samp class="file">htmltable.outlang</samp> can be used to generate
HTML output enclosed in an HTML table (which will use also a background
color if specified in the style file).   The file
<samp class="file">xhtmltable.outlang</samp> does the same but for XHTML output.
</p>
<hr>
</div>
<div class="section-level-extent" id="LaTeX-output">
<div class="nav-panel">
<p>
Next: <a href="#Texinfo-output" accesskey="n" rel="next">Texinfo output</a>, Previous: <a href="#HTML-and-XHTML-output" accesskey="p" rel="prev">HTML and XHTML output</a>, Up: <a href="#Simple-Usage" accesskey="u" rel="up">Simple Usage</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Concept-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h3 class="section" id="LaTeX-output-1"><span>4.2 LaTeX output<a class="copiable-link" href="#LaTeX-output-1"> &para;</a></span></h3>
<a class="index-entry-id" id="index-LaTeX"></a>

<p>When using LaTeX output format you can choose between monochromatic
output (by using <code class="code">-f latex</code>) or colored output (by using <code class="code">-f
latexcolor</code>).  When using colored output, you need the
<code class="code">color</code> package (again this should be present in your system).
Of course, you are free to define your own LaTeX output format,
see <a class="ref" href="#Output-Language-Definitions">Output Language Definitions</a>.
</p>
<hr>
</div>
<div class="section-level-extent" id="Texinfo-output">
<div class="nav-panel">
<p>
Next: <a href="#DocBook-output" accesskey="n" rel="next">DocBook output</a>, Previous: <a href="#LaTeX-output" accesskey="p" rel="prev">LaTeX output</a>, Up: <a href="#Simple-Usage" accesskey="u" rel="up">Simple Usage</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Concept-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h3 class="section" id="Texinfo-output-1"><span>4.3 Texinfo output<a class="copiable-link" href="#Texinfo-output-1"> &para;</a></span></h3>
<a class="index-entry-id" id="index-Texinfo"></a>

<p>When using the Texinfo output format, you may want to use a dedicated
style file, <samp class="file">texinfo.style</samp>, which comes with the source-highlight
distribution, with the option <code class="code">--style-file</code>.  For instance, the
example in <a class="ref" href="#Examples">Examples</a> is formatted with this style file.
</p>
<hr>
</div>
<div class="section-level-extent" id="DocBook-output">
<div class="nav-panel">
<p>
Next: <a href="#ANSI-color-escape-sequences" accesskey="n" rel="next">ANSI color escape sequences</a>, Previous: <a href="#Texinfo-output" accesskey="p" rel="prev">Texinfo output</a>, Up: <a href="#Simple-Usage" accesskey="u" rel="up">Simple Usage</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Concept-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h3 class="section" id="DocBook-output-1"><span>4.4 DocBook output<a class="copiable-link" href="#DocBook-output-1"> &para;</a></span></h3>
<a class="index-entry-id" id="index-DocBook"></a>

<p>DocBook output is generated using the <code class="code">&lt;programlisting&gt;</code> tag.  If
the <code class="code">--doc</code> command line option is given, an <code class="code">&lt;article&gt;</code>
document is generated.
</p>
<hr>
</div>
<div class="section-level-extent" id="ANSI-color-escape-sequences">
<div class="nav-panel">
<p>
Next: <a href="#Odf-output" accesskey="n" rel="next">Odf output</a>, Previous: <a href="#DocBook-output" accesskey="p" rel="prev">DocBook output</a>, Up: <a href="#Simple-Usage" accesskey="u" rel="up">Simple Usage</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Concept-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h3 class="section" id="ANSI-color-escape-sequences-1"><span>4.5 ANSI color escape sequences<a class="copiable-link" href="#ANSI-color-escape-sequences-1"> &para;</a></span></h3>
<a class="index-entry-id" id="index-ANSI-color"></a>

<p>If you&rsquo;re using this output format, for instance together with
<code class="code">less</code> (see <a class="ref" href="#Using-source_002dhighlight-with-less">Using source-highlight with less</a>), you may want
to use the <samp class="file">esc.style</samp> (or <samp class="file">esc256.style</samp> if your terminal
can handle 256 colors), which comes with the source-highlight
distribution, with the option <code class="code">--style-file</code>.  This should result
in a more pleasant coloring output.
</p>
<hr>
</div>
<div class="section-level-extent" id="Odf-output">
<div class="nav-panel">
<p>
Next: <a href="#Groff-output" accesskey="n" rel="next">Groff output</a>, Previous: <a href="#ANSI-color-escape-sequences" accesskey="p" rel="prev">ANSI color escape sequences</a>, Up: <a href="#Simple-Usage" accesskey="u" rel="up">Simple Usage</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Concept-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h3 class="section" id="Odf-output-1"><span>4.6 Odf output<a class="copiable-link" href="#Odf-output-1"> &para;</a></span></h3>

<p>The ODF language output for GNU source-highlight enables the user to
generate color-highlighted ODF output of source code files. Or to
generate ODF color-highlighted snippets to be used by ODF back-ends
(like asciidoc-odf).  We create an <code class="code">.fodt</code> file, which is a Text
document that newer versions of LibreOffice can open.
</p>
<hr>
</div>
<div class="section-level-extent" id="Groff-output">
<div class="nav-panel">
<p>
Previous: <a href="#Odf-output" accesskey="p" rel="prev">Odf output</a>, Up: <a href="#Simple-Usage" accesskey="u" rel="up">Simple Usage</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Concept-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h3 class="section" id="Groff-output-1"><span>4.7 Groff output<a class="copiable-link" href="#Groff-output-1"> &para;</a></span></h3>

<p>The Groff language output for GNU source-highlight enables the user to
generate black and white or color-highlighted Groff output using using
groff&rsquo;s Memorandum Macros (the output formats to specify on the
command line are <code class="code">groff_mm</code> and <code class="code">groff_mm_color</code>,
respectively) or for Man pages (output format to specify on the
command line: <code class="code">groff_man</code>).  Such formats have been contributed
by this project <a class="url" href="https://github.com/papoanaya/emacs_utils">https://github.com/papoanaya/emacs_utils</a>.
</p>
<hr>
</div>
</div>
<div class="chapter-level-extent" id="Configuration-files">
<div class="nav-panel">
<p>
Next: <a href="#Invoking-source_002dhighlight" accesskey="n" rel="next">Invoking <code class="command">source-highlight</code></a>, Previous: <a href="#Simple-Usage" accesskey="p" rel="prev">Simple Usage</a>, Up: <a href="#Top" accesskey="u" rel="up">GNU Source-highlight</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Concept-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h2 class="chapter" id="Configuration-files-1"><span>5 Configuration files<a class="copiable-link" href="#Configuration-files-1"> &para;</a></span></h2>
<a class="index-entry-id" id="index-configuration-files"></a>

<p>During execution, source-highlight needs some files where it finds
directives on how to recognize the source language (if not  specified
explicitly with <code class="code">--src-lang</code> or <code class="code">--lang-def</code>), on which output
format to use (if not specified explicitly with <code class="code">--out-format</code> or
<code class="code">--outlang-def</code>), on how to format specific source elements (e.g.,
keywords, comments, etc.), and source and output language definitions.
These files will be explained in the next sections.
</p>
<a class="index-entry-id" id="index-_002d_002ddata_002ddir-1"></a>
<p>If the directory for such files is not explicitly specified with the
command line option <code class="code">--data-dir</code>, these files are searched for in
the following order:
</p>
<ul class="itemize mark-bullet">
<li>the current directory;
</li><li>the installation directory for conf files, see <a class="ref" href="#Installation">Installation</a>
(please keep in mind that this directory is hard-coded into
source-highlight during compilation).
</li><li>if the source-highlight command is specified with an
explicit path name, the installation directory name is
still used, but relative to the explicit path name.
</li></ul>

<p>In particular, the user can set the value also with the environment
variable
<a class="index-entry-id" id="index-SOURCE_005fHIGHLIGHT_005fDATADIR-1"></a>
<code class="code">SOURCE_HIGHLIGHT_DATADIR</code> (see also <a class="ref" href="#The-program-source_002dhighlight_002dsettings">The program <code class="code">source-highlight-settings</code></a>).
</p>
<p>If you want to be sure about which file is used during the
execution, you can use the command line option <code class="code">--verbose</code>.
</p>

<ul class="mini-toc">
<li><a href="#Output-format-style" accesskey="1">Output format style</a></li>
<li><a href="#Output-format-style-using-CSS" accesskey="2">Output format style using CSS</a></li>
<li><a href="#Default-Styles" accesskey="3">Default Styles</a></li>
<li><a href="#Language-map" accesskey="4">Language map</a></li>
<li><a href="#Language-definition-files" accesskey="5">Language definition files</a></li>
<li><a href="#Output-Language-map" accesskey="6">Output Language map</a></li>
<li><a href="#Output-Language-definition-files" accesskey="7">Output Language definition files</a></li>
<li><a href="#Developing-your-own-definition-files" accesskey="8">Developing your own definition files</a></li>
</ul>
<hr>
<div class="section-level-extent" id="Output-format-style">
<div class="nav-panel">
<p>
Next: <a href="#Output-format-style-using-CSS" accesskey="n" rel="next">Output format style using CSS</a>, Previous: <a href="#Configuration-files" accesskey="p" rel="prev">Configuration files</a>, Up: <a href="#Configuration-files" accesskey="u" rel="up">Configuration files</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Concept-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h3 class="section" id="Output-format-style-1"><span>5.1 Output format style<a class="copiable-link" href="#Output-format-style-1"> &para;</a></span></h3>
<a class="index-entry-id" id="index-output-style"></a>
<a class="index-entry-id" id="index-default_002estyle"></a>

<p>You must specify your options for syntax highlighting in the file
<samp class="file">default.style</samp><a class="footnote" id="DOCF11" href="#FOOT11"><sup>11</sup></a>.  
You can specify formatting options for each element defined
by a language definition file (you can get the list of such elements,
<a class="index-entry-id" id="index-_002d_002dshow_002dlang_002delements"></a>
by using <code class="code">--show-lang-elements</code>, see <a class="ref" href="#Listing-Language-Elements">Listing Language Elements</a>).
</p>
<a class="index-entry-id" id="index-bgcolor"></a>
<a class="index-entry-id" id="index-background-color"></a>
<p>Since version 2.6, you can also specify the background color for the
output document, using the keyword <code class="code">bgcolor</code> (this might be visible
only when the <code class="code">--doc</code> command line option is used).
</p>
<p>If many elements share the same formatting options, you can specify
these elements in the same line, separated by a comma<a class="footnote" id="DOCF12" href="#FOOT12"><sup>12</sup></a>.
</p>
<p>Here&rsquo;s the <samp class="file">default.style</samp> that comes with this distribution (this
is formatted by using the <samp class="file">style.lang</samp> that is shown in
<a class="ref" href="#Tutorials-on-Language-Definitions">Tutorials on Language Definitions</a>):
</p>
<div class="example">
<pre class="example-preformatted"><b class="b">bgcolor</b> <code class="t">&quot;white&quot;</code>; <span class="r"><i class="i">// the background color for documents</i></span>
<code class="t"><i class="i">context</i></code> <b class="b">gray</b>; <span class="r"><i class="i">// the color for context lines (when specified with line ranges)</i></span>

<code class="t"><i class="i">keyword</i></code> <b class="b">blue</b> <b class="b">b</b> ; <span class="r"><i class="i">// for language keywords</i></span>
<code class="t"><i class="i">type</i></code> <b class="b">darkgreen</b> ; <span class="r"><i class="i">// for basic types</i></span>
<code class="t"><i class="i">usertype</i></code> <b class="b">teal</b> ; <span class="r"><i class="i">// for user defined types</i></span>
<code class="t"><i class="i">string</i></code> <b class="b">red</b> <b class="b">f</b> ; <span class="r"><i class="i">// for strings and chars</i></span>
<code class="t"><i class="i">regexp</i></code> <b class="b">orange</b> <b class="b">f</b> ; <span class="r"><i class="i">// for strings and chars</i></span>
<code class="t"><i class="i">specialchar</i></code> <b class="b">pink</b> <b class="b">f</b> ; <span class="r"><i class="i">// for special chars, e.g., \n, \t, \\</i></span>
<code class="t"><i class="i">comment</i></code> <b class="b">brown</b> <b class="b">i</b>, <b class="b">noref</b>; <span class="r"><i class="i">// for comments</i></span>
<code class="t"><i class="i">number</i></code> <b class="b">purple</b> ;       <span class="r"><i class="i">// for literal numbers</i></span>
<code class="t"><i class="i">preproc</i></code> <b class="b">darkblue</b> <b class="b">b</b> ; <span class="r"><i class="i">// for preproc directives (e.g. #include, import)</i></span>
<code class="t"><i class="i">symbol</i></code> <b class="b">darkred</b> ; <span class="r"><i class="i">// for simbols (e.g. &lt;, &gt;, +)</i></span>
<code class="t"><i class="i">function</i></code> <b class="b">black</b> <b class="b">b</b>; <span class="r"><i class="i">// for function calls and declarations</i></span>
<code class="t"><i class="i">cbracket</i></code> <b class="b">red</b>; <span class="r"><i class="i">// for block brackets (e.g. {, })</i></span>
<code class="t"><i class="i">todo</i></code> <b class="b">bg:cyan</b> <b class="b">b</b>;       <span class="r"><i class="i">// for TODO and FIXME</i></span>
<code class="t"><i class="i">code</i></code> <b class="b">bg:brightgreen</b> <b class="b">b</b>; <span class="r"><i class="i">// for code snippets</i></span>

<span class="r"><i class="i">//Predefined variables and functions (for instance glsl)</i></span>
<code class="t"><i class="i">predef_var</i></code> <b class="b">darkblue</b> ;
<code class="t"><i class="i">predef_func</i></code> <b class="b">darkblue</b> <b class="b">b</b> ;

<span class="r"><i class="i">// for OOP</i></span>
<code class="t"><i class="i">classname</i></code> <b class="b">teal</b> ; <span class="r"><i class="i">// for class names, e.g., in Java and C++</i></span>

<span class="r"><i class="i">// line numbers</i></span>
<b class="b">linenum</b> <b class="b">black</b> <b class="b">f</b>;

<span class="r"><i class="i">// Internet related</i></span>
<code class="t"><i class="i">url</i></code> <b class="b">blue</b> <b class="b">u</b>, <b class="b">f</b>;

<span class="r"><i class="i">// other elements for ChangeLog and Log files</i></span>
<code class="t"><i class="i">date</i></code> <b class="b">blue</b> <b class="b">b</b> ;
<code class="t"><i class="i">time</i></code>, <code class="t"><i class="i">file</i></code> <b class="b">darkblue</b> <b class="b">b</b> ;
<code class="t"><i class="i">ip</i></code>, <code class="t"><i class="i">name</i></code> <b class="b">darkgreen</b> ;

<span class="r"><i class="i">// for Prolog, Perl...</i></span>
<code class="t"><i class="i">variable</i></code> <b class="b">darkgreen</b> ;

<span class="r"><i class="i">// explicit for Latex</i></span>
<code class="t"><i class="i">italics</i></code> <b class="b">darkgreen</b> <b class="b">i</b>;
<code class="t"><i class="i">bold</i></code> <b class="b">darkgreen</b> <b class="b">b</b>;
<code class="t"><i class="i">underline</i></code> <b class="b">darkgreen</b> <b class="b">u</b>;
<code class="t"><i class="i">fixed</i></code> <b class="b">green</b> <b class="b">f</b>;
<code class="t"><i class="i">argument</i></code> <b class="b">darkgreen</b>;
<code class="t"><i class="i">optionalargument</i></code> <b class="b">purple</b>;
<code class="t"><i class="i">math</i></code> <b class="b">orange</b>;
<code class="t"><i class="i">bibtex</i></code> <b class="b">blue</b>;

<span class="r"><i class="i">// for diffs</i></span>
<code class="t"><i class="i">oldfile</i></code> <b class="b">orange</b>;
<code class="t"><i class="i">newfile</i></code> <b class="b">darkgreen</b>;
<code class="t"><i class="i">difflines</i></code> <b class="b">blue</b>; 

<span class="r"><i class="i">// for css</i></span>
<code class="t"><i class="i">selector</i></code> <b class="b">purple</b>;
<code class="t"><i class="i">property</i></code> <b class="b">blue</b>;
<code class="t"><i class="i">value</i></code> <b class="b">darkgreen</b> <b class="b">i</b>;

<span class="r"><i class="i">// for oz</i></span>
<code class="t"><i class="i">atom</i></code> <b class="b">orange</b>;
<code class="t"><i class="i">meta</i></code> <b class="b">i</b>;

<span class="r"><i class="i">// for file system</i></span>
<code class="t"><i class="i">path</i></code> <b class="b">orange</b>;

<span class="r"><i class="i">// for C (or other language) labels</i></span>
<code class="t"><i class="i">label</i></code> <b class="b">teal</b> <b class="b">b</b>;

<span class="r"><i class="i">// for errors</i></span>
<code class="t"><i class="i">error</i></code> <b class="b">purple</b>;
<code class="t"><i class="i">warning</i></code> <b class="b">darkgreen</b>;

<span class="r"><i class="i">// for feature (Cucumber) files</i></span>
<code class="t"><i class="i">cuketag</i></code> <b class="b">green</b> ;
<code class="t"><i class="i">gherken</i></code> <b class="b">blue</b> ;
<code class="t"><i class="i">given</i></code> <b class="b">red</b> ;
<code class="t"><i class="i">when</i></code> <b class="b">cyan</b> ;
<code class="t"><i class="i">then</i></code> <b class="b">yellow</b> ;
<code class="t"><i class="i">and_but</i></code> <b class="b">pink</b> ;
<code class="t"><i class="i">table</i></code> <b class="b">gray</b> ;
</pre></div>

<p>This file tries to define a style for most elements defined in the
language definition files that comes with Source-highlight
distribution.
</p>
<a class="index-entry-id" id="index-_002d_002dstyle_002dfile"></a>
<p>You can specify your own file (it doesn&rsquo;t have to be named
<samp class="file">default.style</samp>) with the command line option
<code class="code">--style-file</code><a class="footnote" id="DOCF13" href="#FOOT13"><sup>13</sup></a>, see
<a class="ref" href="#Invoking-source_002dhighlight">Invoking <code class="command">source-highlight</code></a>.
</p>
<p>You can also specify the color of normal text by adding this line 
</p>
<div class="example">
<pre class="example-preformatted">normal darkblue ;
</pre></div>

<a class="index-entry-id" id="index-color"></a>
<a class="index-entry-id" id="index-background-color-1"></a>
<p>As you might see the syntax of this file is quite straightforward: after
the element (or elements, separated by commas) you can specify the
color, and the background color<a class="footnote" id="DOCF14" href="#FOOT14"><sup>14</sup></a> by using
the prefix <code class="code">bg:</code> (for instance, in the <samp class="file">default.style</samp> above
the background color is specified for the <code class="code">todo</code> element).
</p>
<p>Note that the background color might not be available for all output
formats: it is available for XHTML and LaTeX but not for
HTML<a class="footnote" id="DOCF15" href="#FOOT15"><sup>15</sup></a>.
</p>
<a class="index-entry-id" id="index-bold"></a>
<a class="index-entry-id" id="index-italics"></a>
<a class="index-entry-id" id="index-underline"></a>
<a class="index-entry-id" id="index-fixed"></a>
<a class="index-entry-id" id="index-notfixed"></a>
<p>Then, you can specify further formatting options such as bold, italics,
etc.; these are the keywords that can be used:
</p>
<div class="example">
<pre class="example-preformatted">b = bold
i = italics
u = underline
f = fixed
nf = not fixed
noref = no reference information is generated for these elements
</pre></div>

<a class="index-entry-id" id="index-color-1"></a>
<p>Since version 2.2, the color specification is not required.  For
instance, the <samp class="file">texinfo.style</samp> is as follows (we avoid colors for
Texinfo outputs):
</p>
<div class="example">
<pre class="example-preformatted"><code class="t"><i class="i">keyword</i></code>, <code class="t"><i class="i">type</i></code> <b class="b">b</b> ;
<code class="t"><i class="i">variable</i></code> <b class="b">f</b>, <b class="b">i</b> ;
<code class="t"><i class="i">string</i></code> <b class="b">f</b> ;
<code class="t"><i class="i">regexp</i></code> <b class="b">f</b> ;
<code class="t"><i class="i">comment</i></code> <b class="b">nf</b>, <b class="b">i</b>, <b class="b">noref</b> ;
<code class="t"><i class="i">preproc</i></code> <b class="b">b</b> ;

<span class="r"><i class="i">// line numbers</i></span>
<b class="b">linenum</b> <b class="b">f</b>;

<span class="r"><i class="i">// Internet related</i></span>
<code class="t"><i class="i">url</i></code> <b class="b">f</b>;

<span class="r"><i class="i">// for diffs</i></span>
<code class="t"><i class="i">oldfile</i></code>, <code class="t"><i class="i">newfile</i></code> <b class="b">i</b>;
<code class="t"><i class="i">difflines</i></code> <b class="b">b</b>; 

<span class="r"><i class="i">// for css</i></span>
<code class="t"><i class="i">selector</i></code>, <code class="t"><i class="i">property</i></code> <b class="b">b</b>;
<code class="t"><i class="i">value</i></code> <b class="b">i</b>;
</pre></div>

<p>You may also specify more than on of these options separated by commas,
e.g.
</p>
<div class="example">
<pre class="example-preformatted">keyword blue u, b ;
</pre></div>

<p>Please keep in mind that in this case the order of these specified
options is kept during the generation of the output; for instance,
depending on the specific output format, the sequences <code class="code">u, b</code> and
<code class="code">b, u</code> may lead to different results.  In particular, the style
that comes first is used after the ones that follow.  For instance, in
the case of HTML, the sequence <code class="code">u, b</code> will lead to the following
formatting: <code class="code">&lt;u&gt;&lt;b&gt;...&lt;/b&gt;&lt;/u&gt;</code>.
</p>
<a class="index-entry-id" id="index-noref"></a>
<p>The <code class="code">noref</code> option specifies that for this element reference
information are not generated (see <a class="ref" href="#Generating-References">Generating References</a>).  For
instance, this is used for the <code class="code">comment</code> element, since we do not
want that elements in a comment are searched for cross-references.
</p>
<p>These are all possible color logical names handled by
source-highlight<a class="footnote" id="DOCF16" href="#FOOT16"><sup>16</sup></a>:
</p>
<div class="example">
<pre class="example-preformatted">black 
red 
darkred 
brown 
yellow 
cyan 
blue 
pink 
purple 
orange 
brightorange 
green 
brightgreen 
darkgreen 
teal 
gray 
darkblue
white
</pre></div>

<a class="index-entry-id" id="index-direct-color-scheme"></a>
<p>You can also use the direct color scheme for the specific output format,
by using double quotes, such as, e.g., <code class="code">&quot;#00FF00&quot;</code> in
HTML<a class="footnote" id="DOCF17" href="#FOOT17"><sup>17</sup></a> or even string colors in double quotes<a class="footnote" id="DOCF18" href="#FOOT18"><sup>18</sup></a>, such as <code class="code">&quot;lightblue&quot;</code>.  Of course, the double quotes will be
discarded during the generation.
</p>
<p>For instance, this is the <samp class="file">syslog.style</samp> used in the <samp class="file">tests</samp>
directory.  This uses direct color schemes.
</p>
<div class="example">
<pre class="example-preformatted"><code class="t"><i class="i">date</i></code>, <code class="t"><i class="i">keyword</i></code> <b class="b">yellow</b> <b class="b">b</b> ;
<code class="t"><i class="i">time</i></code> <code class="t">&quot;#9999FF&quot;</code> ;
<code class="t"><i class="i">ip</i></code> <code class="t">&quot;lightblue&quot;</code> <b class="b">b</b> ;

<code class="t"><i class="i">type</i></code> <b class="b">cyan</b> <b class="b">b</b> ;
<code class="t"><i class="i">string</i></code> <code class="t">&quot;brown&quot;</code> <b class="b">b</b> ;
<code class="t"><i class="i">comment</i></code> <b class="b">teal</b> ;
<code class="t"><i class="i">number</i></code> <b class="b">red</b> ;
<code class="t"><i class="i">preproc</i></code> <b class="b">cyan</b> ;
<code class="t"><i class="i">symbol</i></code> <b class="b">green</b> ;
<code class="t"><i class="i">function</i></code> <code class="t">&quot;#CC66CC&quot;</code> <b class="b">b</b> ;
<code class="t"><i class="i">cbracket</i></code> <b class="b">green</b> <b class="b">b</b> ;
<code class="t"><i class="i">twonumbers</i></code> <b class="b">green</b> <b class="b">b</b> ;
<code class="t"><i class="i">port</i></code> <b class="b">green</b> <b class="b">b</b> ;
<code class="t"><i class="i">webmethod</i></code> <b class="b">teal</b> ;

<span class="r"><i class="i">// foo option</i></span>
<code class="t"><i class="i">foo</i></code> <b class="b">red</b> <b class="b">b</b> ; <span class="r"><i class="i">// foo entry</i></span>


</pre></div>

<p>Note that, if you use direct color schemes, source-highlight will
perform no transformation, and will output exactly the color scheme you
specified.  For instance, the specification <code class="code">&quot;brown&quot;</code> is different
from <code class="code">brown</code>: the former will be output as it is, while the latter
will be translated in the corresponding color of the output format (for
HTML the visible result is likely to be the same).
</p>
<p>It is up to you to specify a color scheme string that is handled by the
specific output format.  Thus, direct color schemes might not be
portable in different output formats; for instance, <code class="code">&quot;#00FF00&quot;</code> is
valid in HTML but not in LaTeX.
</p>
<hr>
</div>
<div class="section-level-extent" id="Output-format-style-using-CSS">
<div class="nav-panel">
<p>
Next: <a href="#Default-Styles" accesskey="n" rel="next">Default Styles</a>, Previous: <a href="#Output-format-style" accesskey="p" rel="prev">Output format style</a>, Up: <a href="#Configuration-files" accesskey="u" rel="up">Configuration files</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Concept-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h3 class="section" id="Output-format-style-using-CSS-1"><span>5.2 Output format style using CSS<a class="copiable-link" href="#Output-format-style-using-CSS-1"> &para;</a></span></h3>

<a class="index-entry-id" id="index-CSS"></a>
<p>Since version 2.6 you can specify the output format style also using
a limited CSS syntax.  Please, note that this has nothing to do
with output produced by source-highlight using the <code class="code">--css</code> option.
</p>
<a class="index-entry-id" id="index-_002d_002dstyle_002dcss_002dfile"></a>
<p>By using a CSS file as the style file (i.e., passing it to the
<code class="code">--style-css-file</code> command line option) you will only specify the
output format style using the same syntax of CSS.  This means that you
can use a css syntax for specifying the output format style
independently from the actual output (this is what the output format
style is for).  Thus, you can use a css file as the output format style
also for LaTeX output (just like you would do with a source-highlight
output format style, <a class="ref" href="#Output-format-style">Output format style</a>).
</p>
<p>This feature is provided basically for code re-use: you can specify the
output format style using a css file, and then re-use the same css file
as the actual style sheet of other HTML pages (or even output files
produced by source-highlight using the <code class="code">--css</code> option).
</p>
<p>Note that this feature is quite primordial, so only a limited subset
of CSS syntax is recognized.  In particular, selectors are always
intended as CSS class selectors, so they must start with a dot.
<code class="code">/* */</code> comments are handled.  Properties (and their values) not
handled by source-highlight are simply (and silently) discarded).
</p>
<p>This is an example of CSS specification handled correctly by
source-highlight as a style format specification:
</p>
<div class="example">
<pre class="example-preformatted">body { 
  <b class="b">background-color:</b> &lt;<i class="i">color</i> <i class="i">specification</i>&gt;;
 }

<b class="b">.selector</b> { 
  <b class="b">color:</b> &lt;<i class="i">color</i> <i class="i">specification</i>&gt;;
  <b class="b">background-color:</b> &lt;<i class="i">color</i> <i class="i">specification</i>&gt;;
  <b class="b">font-weight:</b> <i class="i">bold</i>; <span class="r"><i class="i">/* this is a comment */</i></span>
  <b class="b">font-family:</b> <i class="i">monospace</i>;
  <b class="b">font-style:</b> <i class="i">italic</i>;
  <b class="b">text-decoration:</b> <i class="i">underline</i>;
 }
</pre></div>

<p>Finally, this is the <samp class="file">default.css</samp> that corresponds to
<samp class="file">default.style</samp> presented in <a class="ref" href="#Output-format-style">Output format style</a>:
</p>
<div class="example">
<pre class="example-preformatted">body {  <b class="b">background-color:</b> <i class="i">white</i>;  }

<span class="r"><i class="i">/* the color for context lines (when specified with line ranges) */</i></span>
<b class="b">.context</b> {  <b class="b">color:</b> <i class="i">gray</i>; }

<b class="b">.keyword</b> { <b class="b">color:</b> <i class="i">blue</i>; <b class="b">font-weight:</b> <i class="i">bold</i>; }
<b class="b">.type</b> { <b class="b">color:</b> <i class="i">darkgreen</i>; }
<b class="b">.usertype</b>, <b class="b">.classname</b> { <b class="b">color:</b> <i class="i">teal</i>; }
<b class="b">.string</b> { <b class="b">color:</b> <i class="i">red</i>; <b class="b">font-family:</b> <i class="i">monospace</i>; }
<b class="b">.regexp</b> { <b class="b">color:</b> <i class="i">orange</i>; }
<b class="b">.specialchar</b> { <b class="b">color:</b> <i class="i">pink</i>; <b class="b">font-family:</b> <i class="i">monospace</i>; }
<b class="b">.comment</b> { <b class="b">color:</b> <i class="i">brown</i>; <b class="b">font-style:</b> <i class="i">italic</i>; }
<b class="b">.number</b> { <b class="b">color:</b> <i class="i">purple</i>; }
<b class="b">.preproc</b> { <b class="b">color:</b> <i class="i">darkblue</i>; <b class="b">font-weight:</b> <i class="i">bold</i>; }
<b class="b">.symbol</b> { <b class="b">color:</b> <i class="i">darkred</i>; }
<b class="b">.function</b> { <b class="b">color:</b> <i class="i">black</i>; <b class="b">font-weight:</b> <i class="i">bold</i>; }
<b class="b">.cbracket</b> { <b class="b">color:</b> <i class="i">red</i>; }
<b class="b">.todo</b> { <b class="b">font-weight:</b> <i class="i">bold</i>; <b class="b">background-color:</b> <i class="i">cyan</i>; }

<span class="r"><i class="i">/* line numbers */</i></span>
<b class="b">.linenum</b> { <b class="b">color:</b> <i class="i">black</i>; <b class="b">font-family:</b> <i class="i">monospace</i>; }

<span class="r"><i class="i">/* Internet related */</i></span>
<b class="b">.url</b> { <b class="b">color:</b> <i class="i">blue</i>; <b class="b">text-decoration:</b> <i class="i">underline</i>; <b class="b">font-family:</b> <i class="i">monospace</i>; }

<span class="r"><i class="i">/* other elements for ChangeLog and Log files */</i></span>
<b class="b">.date</b> { <b class="b">color:</b> <i class="i">blue</i>; <b class="b">font-weight:</b> <i class="i">bold</i>; }
<b class="b">.time</b>, <b class="b">.file</b> { <b class="b">color:</b> <i class="i">darkblue</i>; <b class="b">font-weight:</b> <i class="i">bold</i>; }
<b class="b">.ip</b>, <b class="b">.name</b> { <b class="b">color:</b> <i class="i">darkgreen</i>; }

<span class="r"><i class="i">/* for Prolog, Perl */</i></span>
<b class="b">.variable</b> { <b class="b">color:</b> <i class="i">darkgreen</i>; }
<b class="b">.italics</b> { <b class="b">color:</b> <i class="i">darkgreen</i>; <b class="b">font-style:</b> <i class="i">italic</i>; }
<b class="b">.bold</b> { <b class="b">color:</b> <i class="i">darkgreen</i>; <b class="b">font-weight:</b> <i class="i">bold</i>; }

<span class="r"><i class="i">/* for LaTeX */</i></span>
<b class="b">.underline</b> { <b class="b">color:</b> <i class="i">darkgreen</i>; <b class="b">text-decoration:</b> <i class="i">underline</i>; }
<b class="b">.fixed</b> { <b class="b">color:</b> <i class="i">green</i>; <b class="b">font-family:</b> <i class="i">monospace</i>; }
<b class="b">.argument</b>, <b class="b">.optionalargument</b> { <b class="b">color:</b> <i class="i">darkgreen</i>; }
<b class="b">.math</b> { <b class="b">color:</b> <i class="i">orange</i>; }
<b class="b">.bibtex</b> { <b class="b">color:</b> <i class="i">blue</i>; }

<span class="r"><i class="i">/* for diffs */</i></span>
<b class="b">.oldfile</b> { <b class="b">color:</b> <i class="i">orange</i>; }
<b class="b">.newfile</b> { <b class="b">color:</b> <i class="i">darkgreen</i>; }
<b class="b">.difflines</b> { <b class="b">color:</b> <i class="i">blue</i>; }

<span class="r"><i class="i">/* for css */</i></span>
<b class="b">.selector</b> { <b class="b">color:</b> <i class="i">purple</i>; }
<b class="b">.property</b> { <b class="b">color:</b> <i class="i">blue</i>; }
<b class="b">.value</b> { <b class="b">color:</b> <i class="i">darkgreen</i>; <b class="b">font-style:</b> <i class="i">italic</i>; }

<span class="r"><i class="i">/* for Oz */</i></span>
<b class="b">.atom</b> { <b class="b">color:</b> <i class="i">orange</i>; }
<b class="b">.meta</b> { <b class="b">font-style:</b> <i class="i">italic</i>; }

<span class="r"><i class="i">/* for feature/cucumber files */</i></span>
<b class="b">.cuketag</b> { <b class="b">color:</b> <i class="i">green</i>; }
<b class="b">.gherken</b> { <b class="b">color:</b> <i class="i">blue</i>; }
<b class="b">.given</b> { <b class="b">color:</b> <i class="i">red</i>; }
<b class="b">.when</b> { <b class="b">color:</b> <i class="i">cyan</i>; }
<b class="b">.then</b> { <b class="b">color:</b> <i class="i">yellow</i>; }
<b class="b">.and_but</b> { <b class="b">color:</b> <i class="i">pink</i>; }
<b class="b">.table</b> { <b class="b">color:</b> <i class="i">gray</i>; }
</pre></div>

<p>If you pass this file to the <code class="code">--style-css-file</code> command line option
and you produce an output file, you will get the same result of using
<samp class="file">default.style</samp>.
</p>
<p>Source-highlight comes with a lot of CSS files that can be used either
as standard CSS files for HTML documents, or as style files to pass to
<code class="code">--style-css-file</code>.  In the documentation installation directory
(see <a class="ref" href="#Installation">Installation</a>) you will find the file
<samp class="file">style_examples.html</samp> which shows many output examples, each one
with a different CSS style.
</p>
<hr>
</div>
<div class="section-level-extent" id="Default-Styles">
<div class="nav-panel">
<p>
Next: <a href="#Language-map" accesskey="n" rel="next">Language map</a>, Previous: <a href="#Output-format-style-using-CSS" accesskey="p" rel="prev">Output format style using CSS</a>, Up: <a href="#Configuration-files" accesskey="u" rel="up">Configuration files</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Concept-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h3 class="section" id="Default-Styles-1"><span>5.3 Default Styles<a class="copiable-link" href="#Default-Styles-1"> &para;</a></span></h3>

<p>This file<a class="footnote" id="DOCF19" href="#FOOT19"><sup>19</sup></a> (the default file is
<samp class="file">style.defaults</samp>) lists the default style for a language element
whose output style is not specified in the style file; in particular the
following line (comment lines start with <code class="code">#</code>):
</p>
<div class="example">
<pre class="example-preformatted">elem1 = elem2
</pre></div>

<p>tells that, if the style for an element, say elem1, is not specified in
the style file, then elem1 will have the same style of elem2.
</p>
<a class="index-entry-id" id="index-style_002edefaults"></a>
<p>For instance, this is the <samp class="file">style.defaults</samp> that comes with
Source-highlight:
</p>
<div class="example">
<pre class="example-preformatted"># defaults for styles
# the format is:
# elem1 = elem2
# meaning that if the style for elem1 is not specified, 
# then it will have the same style as elem2

classname = normal
usertype = normal
preproc = keyword
section = function
paren = cbracket
attribute = type
value = string
predef_var = type
predef_func = function
atom = regexp
meta = function
path = regexp
label = preproc
error = string
warning = type
code = preproc
</pre></div>

<p>In this case the style for the element <code class="code">preproc</code> will default to
the style of the element <code class="code">keyword</code>.
</p>
<p>This file is useful when you want to create your own style file and you
don&rsquo;t want to specify styles for all the elements that will have the
same output style in your style (e.g., the default style formats
<code class="code">preproc</code> elements differently from keywords, but if in your style
you don&rsquo;t specify a style for it, a <code class="code">preproc</code> element will still be
formatted as a <code class="code">keyword</code>).
</p>
<hr>
</div>
<div class="section-level-extent" id="Language-map">
<div class="nav-panel">
<p>
Next: <a href="#Language-definition-files" accesskey="n" rel="next">Language definition files</a>, Previous: <a href="#Default-Styles" accesskey="p" rel="prev">Default Styles</a>, Up: <a href="#Configuration-files" accesskey="u" rel="up">Configuration files</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Concept-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h3 class="section" id="Language-map-1"><span>5.4 Language map<a class="copiable-link" href="#Language-map-1"> &para;</a></span></h3>
<a class="index-entry-id" id="index-language-map"></a>

<p>This configuration file associates a file extension to a specific
language definition file.  You can also use such file extension to
specify the <code class="code">--src-lang</code> option (see <a class="ref" href="#Simple-Usage">Simple Usage</a>).
Source-highlight comes with such a file, called <samp class="file">lang.map</samp>.
</p>
<p>Of course, you can override the settings of this file by writing your
own language map file and specify such file with the command line option
<code class="code">--lang-map</code>).  Moreover, as explained above, if a file
<samp class="file">lang.map</samp> is present in the current directory, such version will
be used.  The format of such file is quite simple (comment lines start
with <code class="code">#</code>):
</p>
<div class="example">
<pre class="example-preformatted">extension = language definition file
</pre></div>

<p>The default language definition file is shown in <a class="ref" href="#Introduction">Introduction</a>.
</p>
<hr>
</div>
<div class="section-level-extent" id="Language-definition-files">
<div class="nav-panel">
<p>
Next: <a href="#Output-Language-map" accesskey="n" rel="next">Output Language map</a>, Previous: <a href="#Language-map" accesskey="p" rel="prev">Language map</a>, Up: <a href="#Configuration-files" accesskey="u" rel="up">Configuration files</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Concept-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h3 class="section" id="Language-definition-files-1"><span>5.5 Language definition files<a class="copiable-link" href="#Language-definition-files-1"> &para;</a></span></h3>

<p>These files are crucial for source-highlight since they specify the
source elements that have to be highlighted.   These files also allow to
specify your own language definitions in order to deal with a language
that is not handled by source-highlight<a class="footnote" id="DOCF20" href="#FOOT20"><sup>20</sup></a>.  The syntax for these files is explained in <a class="ref" href="#Language-Definitions">Language Definitions</a>.
</p>
<hr>
</div>
<div class="section-level-extent" id="Output-Language-map">
<div class="nav-panel">
<p>
Next: <a href="#Output-Language-definition-files" accesskey="n" rel="next">Output Language definition files</a>, Previous: <a href="#Language-definition-files" accesskey="p" rel="prev">Language definition files</a>, Up: <a href="#Configuration-files" accesskey="u" rel="up">Configuration files</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Concept-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h3 class="section" id="Output-Language-map-1"><span>5.6 Output Language map<a class="copiable-link" href="#Output-Language-map-1"> &para;</a></span></h3>
<a class="index-entry-id" id="index-output-language-map"></a>

<p>This configuration file associates an output format to a specific output
language definition file.  You can use the name of that output format to
specify the <code class="code">--out-format</code> option (see <a class="ref" href="#Simple-Usage">Simple Usage</a>).
Source-highlight comes with such a file, called <samp class="file">outlang.map</samp>.
</p>
<p>Of course, you can override the settings of this file by
writing your own output language map file and specify such file
with the command line option <code class="code">--outlang-map</code>).
Moreover, as explained above, if a file <samp class="file">outlang.map</samp>
is present in the current directory, such version will be used.
The format of such file is quite simple:
</p>
<div class="example">
<pre class="example-preformatted">output format name = language definition file
</pre></div>

<p>The default language definition file is shown in <a class="ref" href="#Introduction">Introduction</a>.
</p>
<p>In particular, there is a convention for the output format name in the
output language map: the one with <code class="code">-css</code> suffix is the one used
when <code class="code">--css</code> command line option is given
</p>

<hr>
</div>
<div class="section-level-extent" id="Output-Language-definition-files">
<div class="nav-panel">
<p>
Next: <a href="#Developing-your-own-definition-files" accesskey="n" rel="next">Developing your own definition files</a>, Previous: <a href="#Output-Language-map" accesskey="p" rel="prev">Output Language map</a>, Up: <a href="#Configuration-files" accesskey="u" rel="up">Configuration files</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Concept-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h3 class="section" id="Output-Language-definition-files-1"><span>5.7 Output Language definition files<a class="copiable-link" href="#Output-Language-definition-files-1"> &para;</a></span></h3>

<p>These files are crucial for source-highlight since they specify how the
source elements are highlighted.   These files also allow to specify
your own output format definitions in order to deal with an output
format that is not handled by source-highlight<a class="footnote" id="DOCF21" href="#FOOT21"><sup>21</sup></a>.  The syntax for these files is explained in <a class="ref" href="#Output-Language-Definitions">Output Language Definitions</a>.
</p>
<p>These files are part of source-highlight distribution, but they can
also be downloaded, independently, from here:
</p>
<p><a class="uref" href="http://www.gnu.org/software/src-highlite/outlang_files/">http://www.gnu.org/software/src-highlite/outlang_files/</a>
</p>
<hr>
</div>
<div class="section-level-extent" id="Developing-your-own-definition-files">
<div class="nav-panel">
<p>
Previous: <a href="#Output-Language-definition-files" accesskey="p" rel="prev">Output Language definition files</a>, Up: <a href="#Configuration-files" accesskey="u" rel="up">Configuration files</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Concept-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h3 class="section" id="Developing-your-own-definition-files-1"><span>5.8 Developing your own definition files<a class="copiable-link" href="#Developing-your-own-definition-files-1"> &para;</a></span></h3>

<p>I encourage those who write new language definitions or correct/modify
existing language definitions to send them to me so that they can be
added to the source-highlight distribution!
</p>
<p>Since these files require more explanations (that, however, are not
necessary to the standard usage of source-highlight), they are carefully
explained in separate parts: <a class="ref" href="#Language-Definitions">Language Definitions</a> and <a class="ref" href="#Output-Language-Definitions">Output Language Definitions</a>.
</p>
<p>These files are part of source-highlight distribution, but they can
also be downloaded, independently, from here:
</p>
<p><a class="uref" href="http://www.gnu.org/software/src-highlite/lang_files/">http://www.gnu.org/software/src-highlite/lang_files/</a>
</p>

<hr>
</div>
</div>
<div class="chapter-level-extent" id="Invoking-source_002dhighlight">
<div class="nav-panel">
<p>
Next: <a href="#Language-Definitions" accesskey="n" rel="next">Language Definitions</a>, Previous: <a href="#Configuration-files" accesskey="p" rel="prev">Configuration files</a>, Up: <a href="#Top" accesskey="u" rel="up">GNU Source-highlight</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Concept-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h2 class="chapter" id="Invoking-source_002dhighlight-1"><span>6 Invoking <code class="command">source-highlight</code><a class="copiable-link" href="#Invoking-source_002dhighlight-1"> &para;</a></span></h2>
<a class="index-entry-id" id="index-invoking"></a>
<a class="index-entry-id" id="index-version"></a>
<a class="index-entry-id" id="index-options"></a>
<a class="index-entry-id" id="index-usage"></a>
<a class="index-entry-id" id="index-help"></a>
<a class="index-entry-id" id="index-getting-help"></a>

<p>The format for running the <code class="command">source-highlight</code> program is:
</p>
<div class="example">
<pre class="example-preformatted">source-highlight <var class="var">option</var> ...
</pre></div>

<p><code class="code">source-highlight</code> supports the following options, shown by
the output of <code class="code">source-highlight --detailed-help</code>:
</p>
<div class="example smallexample">
<pre class="example-preformatted">source-highlight 

Highlight the syntax of a source file (e.g. Java) into a specific format (e.g. 
HTML)

Usage:  [OPTIONS]... &lt; input_file &gt; output_file
       source-highlight [OPTIONS]... -i input_file -o output_file
       source-highlight [OPTIONS]... [FILES]...

  -h, --help                    Print help and exit
      --detailed-help           Print help, including all details and hidden 
                                  options, and exit
  -V, --version                 Print version and exit
  -i, --input=filename          input file. default std input
  -o, --output=filename         output file. default std output (when the third 
                                  invocation form is used). If STDOUT is 
                                  specified, the output is directed to standard 
                                  output

you can simply specify some files at the command line and also use regular 
expressions (for instance *.java).  In this case the name for the output files 
will be formed using the name of the source file with a .&lt;ext&gt; appended, where 
&lt;ext&gt; is the extension chosen according to the output format specified (for 
instance .html).

  -s, --src-lang=STRING         source language (use --lang-list to get the 
                                  complete list).  If not specified, the source 
                                  language will be guessed from the file 
                                  extension.
      --lang-list               list all the supported language and associated 
                                  language definition file
      --outlang-list            list all the supported output language and 
                                  associated language definition file
  -f, --out-format=STRING       output format (use --outlang-list to get the 
                                  complete list)  (default=`html')
  -d, --doc                     create an output file that can be used as a 
                                  stand alone document (e.g., not to be 
                                  included in another one)
      --no-doc                  cancel the --doc option even if it is implied 
                                  (e.g., when css is given)
  -c, --css=filename            the external style sheet filename.  Implies 
                                  --doc
  -T, --title=STRING            give a title to the output document.  Implies 
                                  --doc
  -t, --tab=INT                 specify tab length.  (default=`8')
  -H, --header=filename         file to insert as header
  -F, --footer=filename         file to insert as footer
      --style-file=filename     specify the file containing format options  
                                  (default=`default.style')
      --style-css-file=filename specify the file containing format options (in 
                                  css syntax)
      --style-defaults=filename specify the file containing defaults for format 
                                  options  (default=`style.defaults')
      --outlang-def=filename    output language definition file
      --outlang-map=filename    output language map file  
                                  (default=`outlang.map')
      --data-dir=path           directory where language definition files and 
                                  language maps are searched for.  If not 
                                  specified these files are searched for in the 
                                  current directory and in the data dir 
                                  installation directory
      --output-dir=path         output directory
      --lang-def=filename       language definition file
      --lang-map=filename       language map file  (default=`lang.map')
      --show-lang-elements=filename
                                prints the language elements that are defined 
                                  in the language definition file
      --infer-lang              force to infer source script language 
                                  (overriding given language specification)

Lines:
  -n, --line-number[=padding]   number all output lines, using the specified 
                                  padding character  (default=`0')
      --line-number-ref[=prefix]
                                number all output lines and generate an anchor, 
                                  made of the specified prefix + the line 
                                  number  (default=`line')

Filtering output:

 Mode: linerange
  specifying line ranges
      --line-range=STRING       generate only the lines in the specified 
                                  range(s)
  each range can be of the shape: 
  	single line (e.g., --line-range=50)
  	full range (e.g., --line-range=2-10)
  	partial range (e.g., --line-range=-30, first 30 lines, 
  	--line-range=40- from line 40 to the end

      --range-separator=STRING  the optional separator to be printed among 
                                  ranges (e.g., &quot;...&quot;)
      --range-context=INT       number of (context) lines generated even if not 
                                  in range
  The optional --range-context specifies the number of lines that are not in
  	range that will be printed anyway (before and after the lines in range);
  	These lines will be formatted according to the &quot;context&quot; style.


 Mode: regexrange
  specifying regular expression delimited ranges
      --regex-range=STRING      generate only the lines within the specified 
                                  regular expressions
  when a line containing the specified regular expression is found, then
  the lines after this one are actually generated, until another line, 
  containing the same regular expression is found (this last line is not 
  generated).
  More than one regular expression can be specified.

reference generation:
      --gen-references=STRING   generate references  (possible 
                                  values=&quot;inline&quot;, &quot;postline&quot;, &quot;postdoc&quot; 
                                  default=`inline')
      --ctags-file=filename     specify the file generated by ctags that will 
                                  be used to generate references  
                                  (default=`tags')
      --ctags=cmd               how to run the ctags command.  If this option 
                                  is not specified, ctags will be executed with 
                                  the default value.  If it is specified with 
                                  an empty string, ctags will not be executed 
                                  at all  (default=`ctags --excmd=n 
                                  --tag-relative=yes')

testing:
  -v, --verbose                 verbose mode on
  -q, --quiet                   print no progress information
      --binary-output           write output files in binary mode
  This is useful for testing purposes, since you may want to make
  sure that output files are always generated with a final newline character 
  only
      --statistics              print some statistics (i.e., elapsed time)
      --gen-version             put source-highlight version in the generated 
                                  file  (default=on)
      --check-lang=filename     only check the correctness of a language 
                                  definition file
      --check-outlang=filename  only check the correctness of an output 
                                  language definition file
      --failsafe                if no language definition is found for the 
                                  input, it is simply copied to the output
  -g, --debug-langdef[=type]    debug a language definition.  In dump mode just 
                                  dumps all the steps; in interactive, at each 
                                  step, waits for some input (press ENTER to 
                                  step)  (possible values=&quot;interactive&quot;, 
                                  &quot;dump&quot; default=`dump')
      --show-regex=filename     show the regular expression automaton 
                                  corresponding to a language definition file
</pre></div>

<p>Let us explain some options in details (apart from those that should be
clear from the <code class="code">--help</code> output itself, and those already explained
in <a class="ref" href="#Simple-Usage">Simple Usage</a>).
</p>
<dl class="table">
<dt><a id="index-_002d_002ddata_002ddir-2"></a><span><code class="code">--data-dir</code><a class="copiable-link" href="#index-_002d_002ddata_002ddir-2"> &para;</a></span></dt>
<dd><p>Source-highlight, during the execution, will need some files, such as,
e.g., language definition files, output format definition files, etc.
These files are installed in <code class="code">prefix/share/source-highlight</code> where
<code class="code">prefix</code> is chosen at compilation time (see See <a class="xref" href="#Installation">Installation</a>).
Thus, source-highlight should be able to find all the files it needs
independently.  However, if you want to override this setting, e.g.,
because you have your own language definition files, or simply because
you installed a possible source-highlight binary in a different
directory from the one used during the compilation, you can use the
command line option <code class="code">--data-dir</code>.
</p>
</dd>
<dt><code class="code">--doc</code></dt>
<dt><code class="code">-d</code></dt>
<dd><p>If you want a stand alone output document (i.e., an output file that is
not thought to be included in another document), specify this option
(otherwise you just get some text that you can paste into another
document).  If you choose this option and do not provide a
<code class="code">--title</code>, the your source file name will be used as the title.
</p>
</dd>
<dt><code class="code">--no-doc</code></dt>
<dd><p>The <code class="code">--doc</code> option above is actually implied by other command line
options (e.g., <code class="code">--css</code>).  If you do not want this (e.g., you want
to include the output in an existing document containing the global
style sheet), you can disable this by using <code class="code">--no-doc</code>.
</p>
</dd>
<dt><code class="code">--css</code></dt>
<dt><code class="code">-c</code></dt>
<dd><p>Specify the style sheet file (e.g., a <samp class="file">.css</samp> for HTML<a class="footnote" id="DOCF22" href="#FOOT22"><sup>22</sup></a>) for the output document.  Note that source-highlight
will not use this file: it will simply use this file name when
generating the output file, so to specify that the output file uses this
file as the style sheet (e.g., if the generated HTML relies on this file
as the CSS file).
</p>
</dd>
<dt><code class="code">--tab</code></dt>
<dt><code class="code">-t</code></dt>
<dd><p>With this options, tab characters will be converted into specified
number of space characters (tabulation points will be preserved).  This
option is automatically selected when generating line numbers.
</p>
</dd>
<dt><code class="code">--style-file</code></dt>
<dt><code class="code">--style-css-file</code></dt>
<dd><p>Specify the file that source-highlight will use to produce (i.e.,
format) the output (e.g., colors and other styles for each  language
element).  The formats of these files are detailed in <a class="ref" href="#Output-format-style">Output format style</a> and in <a class="ref" href="#Output-format-style-using-CSS">Output format style using CSS</a>, respectively.
</p>
</dd>
<dt><code class="code">--style-defaults</code></dt>
<dd><p>Specify the file that contains the default styles for elements
whose styles are not found in the style file (see <a class="ref" href="#Default-Styles">Default Styles</a> for
further details).
</p>
</dd>
<dt><code class="code">--output-dir</code></dt>
<dd><p>You can pass to source-highlight more than one input file (see
<a class="ref" href="#Simple-Usage">Simple Usage</a>).  In this case you cannot specify the output file
name.  In such cases the output files will be automatically generated
into the directory where you invoked the command from; if you want the
output files to be generated into a different directory you can use this
option.
</p>
</dd>
<dt><a class="index-entry-id" id="index-_002d_002dinfer_002dlang-1"></a>
<a id="index-language-inference"></a><span><code class="code">--infer-lang</code><a class="copiable-link" href="#index-language-inference"> &para;</a></span></dt>
<dd><p>Force the inference mechanism for detecting the input language.  This is
detailed in <a class="ref" href="#How-the-input-language-is-discovered">How the input language is discovered</a>.
</p>
</dd>
<dt><code class="code">--line-number</code></dt>
<dd><p>Line numbers will be generated in the output, using the (optional)
specified padding character<a class="footnote" id="DOCF23" href="#FOOT23"><sup>23</sup></a> (the default padding character is <code class="code">0</code>).
</p>
</dd>
<dt><code class="code">--line-number-ref</code></dt>
<dd><p>As <code class="code">--line-number</code>, this option numbers all the output lines, and,
additionally, generates an anchor for each line.  The anchor consists of
the specified prefix (default is <code class="code">line</code>) and the line number (e.g.,
<code class="code">line25</code>).  For instance, as prefix, if you deal with many files,
you can use the file name.  Note that some output languages might not
support this feature (e.g., <code class="code">esc</code>, since it makes no sense in such
case).  See <a class="ref" href="#Anchors-and-References">Anchors and References</a> for defining how to generate an
anchor in a specific output language.
</p>
</dd>
<dt><a class="index-entry-id" id="index-range-context"></a>
<a class="index-entry-id" id="index-range-separator"></a>
<a id="index-line-ranges"></a><span><code class="code">--line-range</code><a class="copiable-link" href="#index-line-ranges"> &para;</a></span></dt>
<dt><code class="code">--range-context</code></dt>
<dt><code class="code">--range-separator</code></dt>
<dd><p>Since version 2.11, you can specify multiple line ranges: only the lines
in the source that are in these ranges will be output.  For instance, by
specifying
</p>
<div class="example">
<pre class="example-preformatted">--line-range=&quot;-5&quot;,&quot;10&quot;,&quot;20-25&quot;,&quot;50-&quot;
</pre></div>

<p>Only the following lines will be output: the first 5 lines, line 10,
lines 20 to 25 and from line 50 to the end of input.  (See also the
examples in <a class="ref" href="#Line-ranges">Line ranges</a>).
</p>
<p>Together with <code class="code">--line-range</code>, you can also specify
<code class="code">--range-context</code>: this is the number of lines that will be printed
before and after the lines of a range (i.e., the surrounding
&ldquo;context&rdquo;).  These lines will not be highlighted: they will be printed
according to the style <code class="code">context</code>.  For instance, extending the
previous example,
</p>
<div class="example">
<pre class="example-preformatted">--line-range=&quot;-5&quot;,&quot;10&quot;,&quot;20-25&quot;,&quot;50-&quot; --range-context=1
</pre></div>

<p>Also the following lines will be output: 6, 9, 11, 19, 26, 49.  (See
also the examples in <a class="ref" href="#Line-ranges-_0028with-context_0029">Line ranges (with context)</a>).
</p>
<p>Finally, you can specify a range separator line string with
<code class="code">--range-separator</code> that will be printed between ranges (See also
the examples in <a class="ref" href="#Line-ranges-_0028with-context_0029">Line ranges (with context)</a>).  The separator string
is preformatted automatically, so, e.g., you don&rsquo;t have to escape
special output characters, such as the { } in texinfo output.
</p>
</dd>
<dt><a id="index-regex-ranges"></a><span><code class="code">--regex-range</code><a class="copiable-link" href="#index-regex-ranges"> &para;</a></span></dt>
<dd>
<p>Ranges can be expressed also using regular expressions, with the command
line option <code class="code">--regex-range</code>.  In this case the beginning of the
range will be detected by a line containing (in any point) a string
matching the specified regular expression; the end will be detected by a
line containing a string matching the same regular expression that
started the range.  This feature is very useful when we want to document
some code (e.g., in this very manual) by showing only specific parts,
that are delimited in a ad-hoc way in the source code (e.g., with
specific comment patterns).  You can see some usage examples
in See <a class="xref" href="#Regex-ranges">Regex ranges</a>.
</p>
<p>The specified strings (this option accepts multiple occurrences) must be
valid regular expressions (thus you must escape special characters
accordingly), otherwise you will get an error.
</p>
<p>Furthermore, <code class="code">--line-range</code> and <code class="code">--regex-range</code> cannot coexist
in the same command line.
</p>
</dd>
<dt><a id="index-failsafe-1"></a><span><code class="code">--failsafe</code><a class="copiable-link" href="#index-failsafe-1"> &para;</a></span></dt>
<dd><p>If no language specification is found, an error will be printed and the
program exits.  With this option, instead, in such situations, the input
is simply formatted in the output format.  This is useful when
<code class="command">source-highlight</code> is used with many input files, and it is also
used in the <samp class="file">src-hilite-lesspipe.sh</samp> script.  Actually I failed to
find a good reason why one should not always use this option.  So my
suggestion is to always use it when you run source-highlight (and
indeed, in the future, this option might become the default one).  See
also <a class="ref" href="#Using-source_002dhighlight-with-less">Using source-highlight with less</a>, <a class="ref" href="#Using-source_002dhighlight-as-a-simple-formatter">Using source-highlight as a simple formatter</a>.
</p>
<a class="index-entry-id" id="index-default_002elang-1"></a>
<p>When using <code class="code">--failsafe</code>, if no input language can be established,
source-highlight will use the input language definition file
<samp class="file">default.lang</samp>, which is an empty file.  You might want to
customize such file, though.
</p>
</dd>
<dt><code class="code">--debug-lang</code></dt>
<dt><code class="code">--show-regex</code></dt>
<dd><p>Allows to debug a language definition file, <a class="ref" href="#Debugging">Debugging</a>.
</p>
</dd>
</dl>

<p>The other command line options dealing with references are explained in
more details in <a class="ref" href="#Generating-References">Generating References</a>.
</p>

<ul class="mini-toc">
<li><a href="#How-the-input-language-is-discovered" accesskey="1">How the input language is discovered</a></li>
</ul>
<hr>
<div class="section-level-extent" id="How-the-input-language-is-discovered">
<div class="nav-panel">
<p>
Previous: <a href="#Invoking-source_002dhighlight" accesskey="p" rel="prev">Invoking <code class="command">source-highlight</code></a>, Up: <a href="#Invoking-source_002dhighlight" accesskey="u" rel="up">Invoking <code class="command">source-highlight</code></a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Concept-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h3 class="section" id="How-the-input-language-is-discovered-1"><span>6.1 How the input language is discovered<a class="copiable-link" href="#How-the-input-language-is-discovered-1"> &para;</a></span></h3>

<p>As already explained, <a class="ref" href="#Simple-Usage">Simple Usage</a>, source-highlight uses a
language definition file according the language specified with the
option <code class="code">--src-lang</code>, or <code class="code">--lang-def</code>, or by using the input
file extension.
</p>
<p>Since version 2.5, source-highlight can use an inference mechanism to
deduce the input language.  For the moment, it can detect script
languages based on the &ldquo;sha-bang&rdquo; mechanism, i.e., when the first line
of a script contains a line such as, e.g.,
</p>
<div class="example">
<pre class="example-preformatted">#!/bin/sh
</pre></div>

<p>It detects script languages specified by using the <code class="code">env</code>
program<a class="footnote" id="DOCF24" href="#FOOT24"><sup>24</sup></a>:
</p>
<div class="example">
<pre class="example-preformatted">#!/usr/bin/env perl
</pre></div>

<p>It recognizes the Emacs convention, of declaring the Emacs
major mode using the format <code class="code">-*- lang -*-</code>.
</p>
<p>For instance, a script starting as the following one:
</p>
<div class="example">
<pre class="example-preformatted">#!/bin/bash
# -*- Tcl -*-
</pre></div>

<p>will be interpreted as a Tcl script, and not as bash script.
</p>
<p>Finally, it recognizes <code class="code">&lt;?</code> specifications (e.g.,
<code class="code">&lt;?php</code> and <code class="code">&lt;?xml</code>) and <code class="code">&lt;!doctype</code> (in that case,
it infers it is an xml file)<a class="footnote" id="DOCF25" href="#FOOT25"><sup>25</sup></a>.
</p>
<p>This inference mechanism is performed, by default, in case the input
language is neither explicitly specified nor found in the language map
file by using the input file extension or the filename itself, possibly
also the lowercase version (the input file may also have no extension at
all, but, for instance, a <samp class="file">ChangeLog</samp> input file will be
highlighted using <samp class="file">changelog.lang</samp>).
</p>
<a class="index-entry-id" id="index-_002d_002dinfer_002dlang-2"></a>
<p>Furthermore, this mechanism can be given priority with the command line
option <code class="code">--infer-lang</code>.  For instance, this is used in the script
<samp class="file">src-hilite-lesspipe.sh</samp> (<a class="ref" href="#Using-source_002dhighlight-with-less">Using source-highlight with less</a>)
when running source-highlight, in order to avoid the problem of
formatting a Perl script as a Prolog program (since the extension
<samp class="file">.pl</samp> is associated to Prolog programs in the language map file,
<a class="ref" href="#Perl">Perl</a>).
</p>
<hr>
</div>
</div>
<div class="chapter-level-extent" id="Language-Definitions">
<div class="nav-panel">
<p>
Next: <a href="#Output-Language-Definitions" accesskey="n" rel="next">Output Language Definitions</a>, Previous: <a href="#Invoking-source_002dhighlight" accesskey="p" rel="prev">Invoking <code class="command">source-highlight</code></a>, Up: <a href="#Top" accesskey="u" rel="up">GNU Source-highlight</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Concept-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h2 class="chapter" id="Language-Definitions-1"><span>7 Language Definitions<a class="copiable-link" href="#Language-Definitions-1"> &para;</a></span></h2>
<a class="index-entry-id" id="index-language-definition"></a>

<p>Since version 2.0 source-highlight uses a specific syntax
to specify source language elements (e.g., keywords, strings,
comments, etc.).  Before version 2.0, language elements were scanned
through Flex.  This had the drawback of writing a new flex file
to deal with a new language; even worse, a new language could
not be added &ldquo;dynamically&rdquo;: you had to recompile the whole
source-highlight program.
</p>
<p>Instead, now, language elements are specified in a file, loaded
dynamically, through a (hopefully) simple syntax.  Then, these
definitions are used internally to create, on-the-fly, regular
expressions that are used to highlight the elements (see also <a class="ref" href="#How-source_002dhighlight-works">How source-highlight works</a>).  In particular, we use the regular expressions
provided by the Boost library (see <a class="ref" href="#Installation">Installation</a>).   Thus, when
writing a language definition file you will surely have to deal with
regular expressions.  Don&rsquo;t be scared: for most of the languages you may
never have to deal with difficult regular expressions, and you can also
specify language keywords (such as, e.g., &ldquo;if&rdquo;, &ldquo;while&rdquo;, etc., see
<a class="ref" href="#Simple-definitions">Simple definitions</a>); moreover, for defining delimited language
elements you will not have to write a regular expression, but just the
delimiters (see <a class="ref" href="#Delimited-definitions">Delimited definitions</a>).  However, there might be
some language definitions that may require heavy use of more involved
regular expressions (e.g., Perl, just to mention one).
</p>
<p>Of course, we use the Boost regex library regular expression syntax.  We
refer to Boost documentation for such syntax,
<a class="uref" href="http://www.boost.org/libs/regex/doc/syntax.html">http://www.boost.org/libs/regex/doc/syntax.html</a>, however, in
<a class="ref" href="#Notes-on-regular-expressions">Notes on regular expressions</a>, we provide some notes on regular
expressions that might be helpful for those who never dealt with them.
By default, Boost regex library uses Perl regular expression syntax,
and, at the moment, this is the only syntax supported by
source-highlight.
</p>
<p>Here, we see such syntax in details, by relying on many examples.  This
allows a user to easily modify an existing language definition and
create a new one.  These files have, typically, extension <samp class="file">.lang</samp>.
</p>
<p>Each definition basically associates a regular expression to a language
element and defines a name for the language element.  Such name will be
used to associate a particular style (e.g., bold face, color, etc.) when
highlighting such elements.  You cannot use names that are the same
of keywords used in the language definition syntax (e.g., <code class="code">start</code>,
as shown later, is a reserved word).
</p>
<p>Comments can be given by using <code class="code">#</code>; the rest of the line is
considered as a comment.
</p>
<p>Source-highlight will scan each line of the input file separately.  So a
regular expression that tries to match new line characters is destined
to fail.  However, the language definition syntax provides means to deal
with multiple lines (see <a class="ref" href="#Delimited-definitions">Delimited definitions</a> and
<a class="ref" href="#State_002fEnvironment-Definitions">State/Environment Definitions</a>).
</p>

<ul class="mini-toc">
<li><a href="#Ways-of-specifying-regular-expressions" accesskey="1">Ways of specifying regular expressions</a></li>
<li><a href="#Simple-definitions" accesskey="2">Simple definitions</a></li>
<li><a href="#Line-wide-definitions" accesskey="3">Line wide definitions</a></li>
<li><a href="#Order-of-definitions" accesskey="4">Order of definitions</a></li>
<li><a href="#Delimited-definitions" accesskey="5">Delimited definitions</a></li>
<li><a href="#Variable-definitions" accesskey="6">Variable definitions</a></li>
<li><a href="#Dynamic-Backreferences" accesskey="7">Dynamic Backreferences</a></li>
<li><a href="#File-inclusion" accesskey="8">File inclusion</a></li>
<li><a href="#State_002fEnvironment-Definitions" accesskey="9">State/Environment Definitions</a></li>
<li><a href="#Explicit-subexpressions-with-names">Explicit subexpressions with names</a></li>
<li><a href="#Redefinitions-and-Substitutions">Redefinitions and Substitutions</a></li>
<li><a href="#How-source_002dhighlight-works">How source-highlight works</a></li>
<li><a href="#Notes-on-regular-expressions">Notes on regular expressions</a></li>
<li><a href="#The-program-check_002dregexp">The program <code class="command">check-regexp</code></a></li>
<li><a href="#Listing-Language-Elements">Listing Language Elements</a></li>
<li><a href="#Concluding-Remarks">Concluding Remarks</a></li>
<li><a href="#Debugging">Debugging</a></li>
<li><a href="#Tutorials-on-Language-Definitions">Tutorials on Language Definitions</a></li>
</ul>
<hr>
<div class="section-level-extent" id="Ways-of-specifying-regular-expressions">
<div class="nav-panel">
<p>
Next: <a href="#Simple-definitions" accesskey="n" rel="next">Simple definitions</a>, Previous: <a href="#Language-Definitions" accesskey="p" rel="prev">Language Definitions</a>, Up: <a href="#Language-Definitions" accesskey="u" rel="up">Language Definitions</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Concept-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h3 class="section" id="Ways-of-specifying-regular-expressions-1"><span>7.1 Ways of specifying regular expressions<a class="copiable-link" href="#Ways-of-specifying-regular-expressions-1"> &para;</a></span></h3>

<p>Before getting into details of language definition syntax, it is crucial
to describe the 3 possible ways of specifying a regular expression
string.  These 3 different ways, basically differ in the way they handle
regular expression special characters, such, e.g., parenthesis.  For
this reason, one mechanism can be more powerful than another one, but it
could also require more attention; furthermore, there can be situations
where you&rsquo;re forced to use only one mechanism, since the other ones
cannot accomplish the required goal.
</p>
<dl class="table">
<dt><a id="index-_0022expression_0022"></a><span><code class="code">&quot;expression&quot;</code><a class="copiable-link" href="#index-_0022expression_0022"> &para;</a></span></dt>
<dd>
<p>If you use double quotes (note, <code class="code">&quot;</code> and not <code class="code">``</code> or
<code class="code">''</code>) to specify a regular expression, then basically all the
characters, but the alternation symbol, i.e., the pipe symbol <code class="code">|</code>,
are considered literally, and thus will be automatically escaped (e.g.,
a dot <code class="code">.</code> is interpreted as the character <code class="code">.</code> not as the
regular expression wild card).  Thus, for instance, if you specify
</p>
<div class="example">
<pre class="example-preformatted">&quot;my(regular)ex.pre$$ion{*}&quot;
</pre></div>

<p>source-highlight will automatically transform it into
</p>
<div class="example">
<pre class="example-preformatted">my\(regular\)ex\.pre\$\$ion\{\*\}
</pre></div>

<p>The special character <code class="code">|</code>, unless it is meant to separate two
alternatives (<a class="ref" href="#Simple-definitions">Simple definitions</a>), must be escaped with the
character <code class="code">\</code>, e.g., <code class="code">\|</code>.  Also the character <code class="code">\</code>,
if it is intended literally, must be escaped, e.g., <code class="code">\\</code>.
</p>
</dd>
<dt><a id="index-_0027expression_0027"></a><span><code class="code">'expression'</code><a class="copiable-link" href="#index-_0027expression_0027"> &para;</a></span></dt>
<dd>
<p>If you want to enjoy (almost) the full power of regular expressions, you
need to use single quoted strings (<code class="code">'</code>), instead of double quoted
strings.  This way, you can specify special characters with their
intended meaning.
</p>
<p>However, marked subexpressions are automatically transformed in non
marked subexpressions, i.e., the parts in the expression of the shape
<code class="code">(...)</code> will be transformed into <code class="code">(?:...)</code>  (as explained in
<a class="ref" href="#Notes-on-regular-expressions">Notes on regular expressions</a>, <code class="code">(?:...)</code>  lexically groups
part of a regular expression, without generating a marked
sub-expression).
</p>
<p>Thus, for instance, if you specify
</p>
<div class="example">
<pre class="example-preformatted">'my(regular)ex.pre$ion*'
</pre></div>

<p>source-highlight will automatically transform it into
</p>
<div class="example">
<pre class="example-preformatted">my(?:regular)ex.pre$ion*
</pre></div>

<p>Since marked subexpressions cannot be specified with this syntax, then
<em class="emph">backreferences</em> (see <a class="ref" href="#Notes-on-regular-expressions">Notes on regular expressions</a>) are not
allowed.
</p>
</dd>
<dt><a id="index-_0060expression_0060"></a><span><code class="code">`expression`</code><a class="copiable-link" href="#index-_0060expression_0060"> &para;</a></span></dt>
<dd>
<a class="index-entry-id" id="index-marked-subexpressions"></a>
<a class="index-entry-id" id="index-backreference"></a>
<a class="index-entry-id" id="index-backtick"></a>
<p>This syntax<a class="footnote" id="DOCF26" href="#FOOT26"><sup>26</sup></a> (note the difference, this
one uses the <em class="emph">backtick</em> <code class="code">`</code> while the previous one uses
<code class="code">'</code>) for specifying a regular expression was introduced to overcome
the limitations of the other two syntaxes.  With this syntax, the marked
subexpressions are not transformed, and so you can use regular
expressions mechanisms that rely on marked subexpressions, such as
<em class="emph">backreferences</em> and <em class="emph">conditionals</em> (see <a class="ref" href="#Notes-on-regular-expressions">Notes on regular expressions</a>).
</p>
<p>This syntax is also crucial for highlighting specific program parts of
some programming languages, such as, e.g., Perl regular expressions
(e.g., in substitution expressions) that can be expressed in many forms,
in particular, separators for the part to be replaced and the part to
replace which can be any non alphanumerical characters<a class="footnote" id="DOCF27" href="#FOOT27"><sup>27</sup></a>,
for instance,
</p>
<div class="example">
<pre class="example-preformatted">s/foo/bar/g
s|foo|bar|g
s#foo#bar#g
s@foo@bar@g
</pre></div>

<p>Using this syntax, and backreferences, we can easily define a single
language element to deal with these expressions (without specifying all
the cases for each possible non alphanumerical character):
</p>
<div class="example">
<pre class="example-preformatted">regexp = `s([^[:alnum:][:blank:]]).*\1.*\1[ixsmogce]*`
</pre></div>

</dd>
</dl>

<p>Since version 2.11, in all kinds of regular expression specification, you
can insert newline characters, which will simply be ignored.  Thus,
e.g., the file:
</p>
<div class="example">
<pre class="example-preformatted"><span class="r"><i class="i"># test_newlines.lang</i></span>
<span class="r"><i class="i"># test that newlines in expressions are simply discarded</i></span>

<code class="t"><i class="i">keyword</i></code> = <code class="t">&quot;foo</code>
<code class="t">|</code>
<code class="t">lang&quot;</code>

(<code class="t"><i class="i">keyword</i></code>,<code class="t"><i class="i">normal</i></code>,<code class="t"><i class="i">classname</i></code>) = 
  <code class="t">`(\&lt;struct)</code>
<code class="t">([[:blank:]]+)</code>
<code class="t">([[:alnum:]_]+)`</code>

<code class="t"><i class="i">preproc</i></code> = <code class="t">'^[[:blank:]]*</code>
<code class="t">#([[:blank:]]*</code>
<code class="t">[[:word:]]*)'</code>
</pre></div>

<p>and the file:
</p>
<div class="example">
<pre class="example-preformatted"><span class="r"><i class="i"># test_nonewlines.lang</i></span>
<span class="r"><i class="i"># test that newlines in expressions are simply discarded</i></span>
<span class="r"><i class="i"># see the corresponding test_newlines.lang</i></span>

<code class="t"><i class="i">keyword</i></code> = <code class="t">&quot;foo|lang&quot;</code>

(<code class="t"><i class="i">keyword</i></code>,<code class="t"><i class="i">normal</i></code>,<code class="t"><i class="i">classname</i></code>) = <code class="t">`(\&lt;struct)([[:blank:]]+)([[:alnum:]_]+)`</code>

<code class="t"><i class="i">preproc</i></code> = <code class="t">'^[[:blank:]]*#([[:blank:]]*[[:word:]]*)'</code>
</pre></div>

<p>are equivalent.  However, the former is surely more readable.
</p>
<p>Note however, that space characters are NOT ignored in regular expression
definitions.
</p>
<hr>
</div>
<div class="section-level-extent" id="Simple-definitions">
<div class="nav-panel">
<p>
Next: <a href="#Line-wide-definitions" accesskey="n" rel="next">Line wide definitions</a>, Previous: <a href="#Ways-of-specifying-regular-expressions" accesskey="p" rel="prev">Ways of specifying regular expressions</a>, Up: <a href="#Language-Definitions" accesskey="u" rel="up">Language Definitions</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Concept-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h3 class="section" id="Simple-definitions-1"><span>7.2 Simple definitions<a class="copiable-link" href="#Simple-definitions-1"> &para;</a></span></h3>
<a class="index-entry-id" id="index-simple-language-definition"></a>

<p>The simplest way to specify language elements is to list the possible
alternatives.  This is the case, for instance, for keywords.  For
instance, in <samp class="file">java.lang</samp> you have:
</p>
<div class="example">
<pre class="example-preformatted">keyword = &quot;abstract|assert|break|case|catch|class|const&quot;,
          &quot;continue|default|do|else|extends|false|final&quot;,
          &quot;finally|for|goto|if|implements|instanceof|interface&quot;
keyword = &quot;native|new|null|private|protected|public|return&quot;,
          &quot;static|strictfp|super|switch|synchronized|throw&quot;,
          &quot;throws|true|this|transient|try|volatile|while&quot;
</pre></div>

<p>You can separate quoted definitions with commas.  Alternatively, within
a quoted definition, alternatives can be separated with the pipe symbol
<code class="code">|</code>.  The above definition defines the language element
<code class="code">keyword</code>.  Each time an element is found in the source file, it is
highlighted with the style for the element with the same name in the
output format style file (note that all elements shown in the example
are taken from the language definition files that come with
source-highlight and there is a style for each of such elements, see
<a class="ref" href="#Configuration-files">Configuration files</a>).  If such an element is not specified in the
output format style file, it is simply not highlighted (actually, it is
highlighted with style <code class="code">normal</code>, <a class="ref" href="#Configuration-files">Configuration files</a>) (so pay
attention to typos :-).
</p>
<p>From the above example you may have noted that language element
definitions are cumulative, so the second <code class="code">keyword</code> definition does
not replace the first one.   (Indeed, in some cases you may want to
actually redefine a language element; this is possible as explained in
<a class="ref" href="#Redefinitions-and-Substitutions">Redefinitions and Substitutions</a>).
</p>
<p>Note that words specified in double quotes have to match exactly in a
source file, and they must be isolated (not surrounded by anything but
spaces).  Thus for instance <code class="code">class</code> is matched as a keyword, but in
<code class="code">my_class</code> the substring <code class="code">class</code> is not matched as keyword.
From the point of view of regular expressions a string such as
<code class="code">class</code> in a double quote simple definition is intended as
<code class="code">\&lt;(class)\&gt;</code>.
</p>
<p>Special characters have to be escaped with the character <code class="code">\</code>.  So
for instance if you want to specify the character <code class="code">|</code>, which is
normally used to separate alternatives in double quoted strings, you
have to specify <code class="code">\|</code>.
</p>
<p>As explained in <a class="ref" href="#Ways-of-specifying-regular-expressions">Ways of specifying regular expressions</a>,
definitions in double quotes are interpreted literally (thus, e.g., a
dot <code class="code">.</code> is interpreted as the character <code class="code">.</code> not as the regular
expression wild card).   If you want to enjoy the full power of regular
expressions to specify a language alternative, you have to use single
quoted strings (<code class="code">'</code>), instead of double quoted strings, or strings
quoted with backticks (<code class="code">`</code>).
</p>
<p>For instance, the following is the definition for a preprocessor
directive in C/C++:
</p>
<div class="example">
<pre class="example-preformatted">preproc = '^[[:blank:]]*#([[:blank:]]*[[:word:]]*)'
</pre></div>

<p>Note that the definition <code class="code">'class'</code> is different from
<code class="code">&quot;class&quot;</code>, as explained above.  Thus, for instance <code class="code">'class'</code>
matches also the sub-expression <code class="code">class</code> inside <code class="code">my_class</code>.
</p>
<p>Furthermore, you are not allowed to specify, in the same list, double
quoted strings and single quoted strings: you need to split such list
definitions.  Thus, for instance, the following definition is wrong:
</p>
<div class="example">
<pre class="example-preformatted">preproc = &quot;#define&quot;,'^[[:blank:]]*#([[:blank:]]*[[:word:]]*)'
</pre></div>

<p>while the following one is correct:
</p>
<div class="example">
<pre class="example-preformatted">preproc = &quot;#define&quot;
preproc = '^[[:blank:]]*#([[:blank:]]*[[:word:]]*)'
</pre></div>

<a class="index-entry-id" id="index-nonsensitive"></a>
<p>Finally, at the end of a list of definitions, one can specify the
keyword <code class="code">nonsensitive</code>; in that case, the specified strings will be
interpreted in a non case sensitive way.  For instance, we use this
feature in Pascal language definition, <samp class="file">pascal.lang</samp> where keywords
are parsed in a non sensitive way:
</p>
<div class="example">
<pre class="example-preformatted">keyword = &quot;alfa|and|array|begin|case|const|div&quot;,
      &quot;do|downto|else|end|false|file|for|function|get|goto|if|in&quot;,
      &quot;label|mod|new|not|of|or|pack|packed|page|program&quot;,
      &quot;put|procedure|read|readln|record|repeat|reset|rewrite|set&quot;,
      &quot;text|then|to|true|type|unpack|until|var|while|with|writeln|write&quot;
  nonsensitive
</pre></div>

<hr>
</div>
<div class="section-level-extent" id="Line-wide-definitions">
<div class="nav-panel">
<p>
Next: <a href="#Order-of-definitions" accesskey="n" rel="next">Order of definitions</a>, Previous: <a href="#Simple-definitions" accesskey="p" rel="prev">Simple definitions</a>, Up: <a href="#Language-Definitions" accesskey="u" rel="up">Language Definitions</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Concept-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h3 class="section" id="Line-wide-definitions-1"><span>7.3 Line wide definitions<a class="copiable-link" href="#Line-wide-definitions-1"> &para;</a></span></h3>
<a class="index-entry-id" id="index-lines"></a>

<p>It is often useful to define a language element that affects all the
remaining characters up to the end of the line.   For such definitions,
instead of the <code class="code">=</code> you must use the keyword <code class="code">start</code>.   For
instance, the following is the definition of a single line comment in
C++:
</p>
<div class="example">
<pre class="example-preformatted">comment start &quot;//&quot;
</pre></div>

<p>This means that when the two characters <code class="code">//</code> are encountered in the
source file, everything from these characters on, up to the end of
the line, will be highlighted according to the style <code class="code">comment</code>.
</p>
<hr>
</div>
<div class="section-level-extent" id="Order-of-definitions">
<div class="nav-panel">
<p>
Next: <a href="#Delimited-definitions" accesskey="n" rel="next">Delimited definitions</a>, Previous: <a href="#Line-wide-definitions" accesskey="p" rel="prev">Line wide definitions</a>, Up: <a href="#Language-Definitions" accesskey="u" rel="up">Language Definitions</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Concept-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h3 class="section" id="Order-of-definitions-1"><span>7.4 Order of definitions<a class="copiable-link" href="#Order-of-definitions-1"> &para;</a></span></h3>
<a class="index-entry-id" id="index-definition-order"></a>

<p>It is important to observe that the order of language definitions is
important since it will be used during regular expression matching (this
will be detailed in <a class="ref" href="#How-source_002dhighlight-works">How source-highlight works</a>).  You then have to
make sure that, if there are definitions that start with same
characters, the longest expression is specified first in the file.  For
instance if you write
</p>
<div class="example">
<pre class="example-preformatted">symbol = &quot;/&quot;
comment start &quot;//&quot;
</pre></div>

<p>The first expression will always be matched first, and the
second expression will never be matched.  The right order is
</p>
<div class="example">
<pre class="example-preformatted">comment start &quot;//&quot;
symbol = &quot;/&quot;
</pre></div>

<hr>
</div>
<div class="section-level-extent" id="Delimited-definitions">
<div class="nav-panel">
<p>
Next: <a href="#Variable-definitions" accesskey="n" rel="next">Variable definitions</a>, Previous: <a href="#Order-of-definitions" accesskey="p" rel="prev">Order of definitions</a>, Up: <a href="#Language-Definitions" accesskey="u" rel="up">Language Definitions</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Concept-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h3 class="section" id="Delimited-definitions-1"><span>7.5 Delimited definitions<a class="copiable-link" href="#Delimited-definitions-1"> &para;</a></span></h3>
<a class="index-entry-id" id="index-delimited-definitions"></a>

<p>Many elements are delimited by specific character sequences.
For instance, strings and multiline comments.  The syntax for
such an element definition is
</p>
<div class="example">
<pre class="example-preformatted">&lt;name&gt; delim &lt;left delimited&gt; &lt;right delimiter&gt; \
        {escape &lt;escape character&gt;} \
        {multiline} {nested}
</pre></div>

<p>The <code class="code">escape</code> statement specifies the escape character that may
precede one of the delimiters inside the element.  This is optional.
</p>
<p>For instance, this is the definition of C-like strings:
</p>
<div class="example">
<pre class="example-preformatted">string delim &quot;\&quot;&quot; &quot;\&quot;&quot; escape &quot;\\&quot;
</pre></div>

<p>Note that <code class="code">\</code> is a special characters in definitions so it has to
be escaped.  If the <code class="code">escape</code> specification was omitted, the C
string <code class="code">&quot;write \&quot;hello\&quot; string&quot;</code> would have been highlight
incorrectly (it would have been highlighted as the string
<code class="code">&quot;write \&quot;</code>, the normal character sequence <code class="code">hello\</code> and
the string <code class="code">&quot; string&quot;</code>).
</p>
<p>The option <code class="code">multiline</code> specifies that the element can spawn
multiple lines.  For instance, PHP strings are defined as follows:
</p>
<div class="example">
<pre class="example-preformatted">string delim &quot;\&quot;&quot; &quot;\&quot;&quot; escape &quot;\\&quot; multiline
</pre></div>

<p>The option <code class="code">nested</code> instructs to count possible multiple
occurrences of delimited characters and to match relative multiple
occurrences (using a stack).  For instance, if we wanted to highlight
C-like multiline comments in a nested way<a class="footnote" id="DOCF28" href="#FOOT28"><sup>28</sup></a>, we could use the following definition:
</p>
<div class="example">
<pre class="example-preformatted">comment delim &quot;/*&quot; &quot;*/&quot; multiline nested 
</pre></div>

<p>If <code class="code">nested</code> was not used, then the closing <code class="code">*/</code> of the
following nested comment would conclude the comment (and the second
<code class="code">*/</code> would not be highlighted as a comment):
</p>
<div class="example">
<pre class="example-preformatted">/*
   This is a /* nested comment */
*/
</pre></div>

<p>Note that, in order for a delimited language element to be nested, its
starting and ending elements must be different; thus, for instance, the
following definition is not correct:
</p>
<div class="example">
<pre class="example-preformatted">string delim &quot;\&quot;&quot; &quot;\&quot;&quot; nested # WRONG!
</pre></div>

<p>As said above, definitions are cumulative, and they are also cumulative
even when using different syntactic forms.  Thus, for instance, the
complete definition for C++-style comments are the following (actually,
the definition of C-style comment is more involved, see the file
<samp class="file">c_comment.lang</samp>):
</p>
<div class="example">
<pre class="example-preformatted">comment start &quot;//&quot;
comment delim &quot;/*&quot; &quot;*/&quot; multiline
</pre></div>

<hr>
</div>
<div class="section-level-extent" id="Variable-definitions">
<div class="nav-panel">
<p>
Next: <a href="#Dynamic-Backreferences" accesskey="n" rel="next">Dynamic Backreferences</a>, Previous: <a href="#Delimited-definitions" accesskey="p" rel="prev">Delimited definitions</a>, Up: <a href="#Language-Definitions" accesskey="u" rel="up">Language Definitions</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Concept-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h3 class="section" id="Variable-definitions-1"><span>7.6 Variable definitions<a class="copiable-link" href="#Variable-definitions-1"> &para;</a></span></h3>
<a class="index-entry-id" id="index-variables"></a>

<p>It is possible to define variables to be re-used in
many parts in a language definition file.
A variable is defined by using 
</p>
<p><code class="code">vardef</code> &lt;name of the variable&gt; <code class="code">=</code> &lt;list of definitions&gt;
</p>
<p>Once defined, a variable can be used by prepending the
symbol <code class="code">$</code> to its name.  For instance,
</p>
<div class="example">
<pre class="example-preformatted">vardef FUNCTION = '(?:[[:alpha:]]|_)[[:word:]]*(?=[[:blank:]]*\()'
function = $FUNCTION
</pre></div>

<p>The capital letters are used only for readability.
</p>
<p>It is also possible to concatenate variables and expressions, and reuse
variables inside further variable definitions:
</p>
<div class="example">
<pre class="example-preformatted">vardef basic_time = '[[:digit:]]{2}:[[:digit:]]{2}:[[:digit:]]{2}'
vardef time = '\&lt;' + $basic_time + '\&gt;'
</pre></div>

<hr>
</div>
<div class="section-level-extent" id="Dynamic-Backreferences">
<div class="nav-panel">
<p>
Next: <a href="#File-inclusion" accesskey="n" rel="next">File inclusion</a>, Previous: <a href="#Variable-definitions" accesskey="p" rel="prev">Variable definitions</a>, Up: <a href="#Language-Definitions" accesskey="u" rel="up">Language Definitions</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Concept-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h3 class="section" id="Dynamic-Backreferences-1"><span>7.7 Dynamic Backreferences<a class="copiable-link" href="#Dynamic-Backreferences-1"> &para;</a></span></h3>
<a class="index-entry-id" id="index-dynamic-backreference"></a>

<p>With <em class="emph">dynamic backreferences</em> you can refer to a string matched by
the regular expression of the first element of a <code class="code">delim</code>
specification<a class="footnote" id="DOCF29" href="#FOOT29"><sup>29</sup></a>.  I called these
backreferences dynamic in order to distinguish them by the
backreferences of regular expression syntax, <a class="ref" href="#Ways-of-specifying-regular-expressions">Ways of specifying regular expressions</a>.  This is crucial in cases when the right delimiter
depends on a subexpression matched by the left delimiter; for instance,
Lua comments can be of the shape <code class="code">--[[ comment ]]</code> or <code class="code">--[=[
comment ]=]</code>, but not <code class="code">--[=[ comment ]]</code> neither <code class="code">--[[ comment
]=]</code> (furthermore, they can be nested)<a class="footnote" id="DOCF30" href="#FOOT30"><sup>30</sup></a>.  Thus, the regular expression of
the right element depends on the one of the left element.
</p>
<p>A dynamic backreference is similar to a variable (<a class="ref" href="#Variable-definitions">Variable definitions</a>),
but there&rsquo;s no declaration, and have the shape of
</p>
<div class="example">
<pre class="example-preformatted">@{number}
</pre></div>

<p>where <code class="code">number</code> is the number of the marked subexpression in the
left delimiter (source-highlight will actually check that such a marked
subexpression exists in the left delimiter).
</p>
<p>For instance, this is the definition of Lua comments (see also
<samp class="file">lua.lang</samp>):
</p>
<div class="example">
<pre class="example-preformatted">environment comment delim `--\[(=*)\[` &quot;]&quot; + @{1} + &quot;]&quot; 
            multiline nested begin
  include &quot;url.lang&quot;
  ...
end
</pre></div>

<p>Note how the left delimiter can match an optional <code class="code">=</code>, as a
marked subexpression, and the right delimiter refers to that with @{1}.
</p>
<p>Source-highlight will take care of escaping possible special characters
during dynamic backreference substitutions.  For instance, suppose that
you must substitute <code class="code">|</code> for @{1}, because we matched <code class="code">|</code>
with the subexpression <code class="code">[^[:alnum:]]</code> in a delim element like the
following one:
</p>
<div class="example">
<pre class="example-preformatted">comment delim `([^[:alnum:]])` @{1} 
</pre></div>

<p>Since <code class="code">|</code> is a special character in regular expression syntax
source-highlight will actually replace <code class="code">@{1}</code> with <code class="code">\|</code>.
</p>
<p>IMPORTANT: the right delimiter can only refer to subexpressions of its
left delimiter; thus, in case of nested delim element definitions (e.g.,
in states or environment, <a class="ref" href="#State_002fEnvironment-Definitions">State/Environment Definitions</a>), the left
delimiter acts as a binder and hides possible subexpressions defined in
outer delim elements.
</p>
<p>This is crucial to correctly match nested delimited elements with
backreferences: source-highlight will correctly recognize this nested
(and syntactically correct) Lua comment:
</p>
<div class="example">
<pre class="example-preformatted">--[[
  first level comment
  --[=[
    second level
     --[[
       third level
    ]]
  ]=]
]]
</pre></div>

<hr>
</div>
<div class="section-level-extent" id="File-inclusion">
<div class="nav-panel">
<p>
Next: <a href="#State_002fEnvironment-Definitions" accesskey="n" rel="next">State/Environment Definitions</a>, Previous: <a href="#Dynamic-Backreferences" accesskey="p" rel="prev">Dynamic Backreferences</a>, Up: <a href="#Language-Definitions" accesskey="u" rel="up">Language Definitions</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Concept-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h3 class="section" id="File-inclusion-1"><span>7.8 File inclusion<a class="copiable-link" href="#File-inclusion-1"> &para;</a></span></h3>
<a class="index-entry-id" id="index-file-inclusion"></a>

<p>It is possible to include other language definition files into another
file.  This is inclusion actually physically includes the contents of
the included file into the current file during parsing, at the exact
point of inclusion (just like the <code class="code">#include</code> in C/C++).   This is
useful for re-using definitions in many files.   For instance, C++
comment definitions are given in a file <samp class="file">c_comment.lang</samp>, and this
file is included in the Java and C++ definition files.  The same happens
for number and functions.  For instance, the file <samp class="file">java.lang</samp>
contains the following include instructions:
</p>
<div class="example">
<pre class="example-preformatted">include &quot;c_comment.lang&quot;

include &quot;number.lang&quot;

keywords ...

include &quot;function.lang&quot;
</pre></div>

<p>Note that the order of inclusion is crucial since the order of
definition is crucial.  If function definition was included before
keyword definitions, then the sentence <code class="code">if (exp)</code> would be
highlighted as a function invocation (see <a class="ref" href="#Order-of-definitions">Order of definitions</a> and
<a class="ref" href="#How-source_002dhighlight-works">How source-highlight works</a>).
</p>
<hr>
</div>
<div class="section-level-extent" id="State_002fEnvironment-Definitions">
<div class="nav-panel">
<p>
Next: <a href="#Explicit-subexpressions-with-names" accesskey="n" rel="next">Explicit subexpressions with names</a>, Previous: <a href="#File-inclusion" accesskey="p" rel="prev">File inclusion</a>, Up: <a href="#Language-Definitions" accesskey="u" rel="up">Language Definitions</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Concept-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h3 class="section" id="State_002fEnvironment-Definitions-1"><span>7.9 State/Environment Definitions<a class="copiable-link" href="#State_002fEnvironment-Definitions-1"> &para;</a></span></h3>
<a class="index-entry-id" id="index-states"></a>
<a class="index-entry-id" id="index-environments"></a>

<p>Sometimes you want some source element to be highlighted only if they
are surrounded by other elements.  Source-highlight language definitions
provides also this feature.
</p>
<div class="example">
<pre class="example-preformatted">state|environment &lt;standard definition&gt; begin
  &lt;other definitions&gt;
end
</pre></div>

<p>This structure is recursive (so other state/environment definitions can
be given within a state/environment).   The meaning of a
state/environment is that the definitions within the <code class="code">begin
... end</code> are matched only if the definitions that define the
state/environment have been matched.  When entering a state/environment,
however, the definitions given outside the state/environment are not
matched.  The difference between <code class="code">state</code> and <code class="code">environment</code> is
that in the latter, normal parts of the source language (i.e., those
that do not match any definition) are highlighted according to the style
of the definition that defines the environment.
</p>
<p>As an example, the following defines the multiline  nested C comment,
and highlights URL and e-mail addresses only when they appear inside a
comment (note that this uses file inclusion):
</p>
<div class="example">
<pre class="example-preformatted">environment comment delim &quot;/*&quot; &quot;*/&quot; multiline nested begin
      include &quot;url.lang&quot;
end
</pre></div>

<p>Note that we used <code class="code">environment</code> because everything else inside a
comment has to be formatted according to the comment style.
</p>
<p>While for programming language definitions states/environments can be
avoided (although they allow to highlight some parts only if inside a
specific environment, e.g., URLs inside comments, or documentation tags
in Javadoc comments), they are pretty important for highlighting files
such as logs and ChangeLog files, since elements have to be highlighted
when they appear in a specific position.   For instance, for ChangeLog
(see <samp class="file">changelog.lang</samp>), we use a state for highlighting the date,
name, e-mail or URL (taken from <samp class="file">url.lang</samp>):
</p>
<div class="example">
<pre class="example-preformatted">state date start '[[:digit:]]{2,4}-?[[:digit:]]{2}-?[[:digit:]]{2}' begin
  include &quot;url.lang&quot;
  name = '([[:word:]]|[[:punct:]])+'
end
</pre></div>

<p>Note that definitions that appear inside a state/environment have the
same scope of the expressions that define the environment.  While this
makes sense for <code class="code">start</code> and <code class="code">delim</code> definitions, it may make
less sense for simple definitions (i.e., those that simply lists all
possible expressions): in fact, in this case, such expressions do not
define a scope.  For such definitions, the semantics of
state/environment is that the state/environment starts after matching one
of the alternatives.  And where will it end?   In this case you must
explicitly exit the environment.   For instance, you can say that, when
inside a state/environment, a specific language definition, when
encountered also exits the environment, with the keyword <code class="code">exit</code>
(you can also specify the number of states to exit).
You can even exit all the environments with <code class="code">exitall</code>.   For
instance, the following definition, highlights a non empty string
following a web method:
</p>
<div class="example">
<pre class="example-preformatted">vardef non_empty = '[^[:blank:]]+'

state webmethod = &quot;OPTIONS|GET|HEAD|POST|PUT|DELETE&quot;,
          &quot;TRACE|CONNECT|PROPFIND|MKCOL|COPY|MOVE|LOCK|UNLOCK&quot; begin
  string = $non_empty exit
end
</pre></div>

<p>If you ever need such advanced features, you may want to take a look at
the <samp class="file">log.lang</samp> definition file that defines highlighting for
several log files (access logs, Apache logs, etc.).  Moreover, there
might be cases, and the above one is one of such cases, explicit
subexpressions with names will be enough (see <a class="ref" href="#Explicit-subexpressions-with-names">Explicit subexpressions with names</a>).
</p>
<p>We conclude this section with an interesting example: comments in
M4 files can start with the <code class="code">dnl</code> keyword (up to the end of line),
e.g.,
</p>
<div class="example">
<pre class="example-preformatted">dnl @synopsis AC_CTAGS_FLAGS
</pre></div>

<p>Now if we want to highlight the <code class="code">dnl</code> as a keyword, and the rest of
line as a comment, we cannot simply rely on an environment, since this
would highlight all the line with the same style.  Moreover, we want
to highlight elements starting with <code class="code">@</code> differently, so we actually
need a state (this would allow us also to highlight urls inside a comment
just like in C++ comments in the example above).  Thus, we need
to simulate an environment with a state, and we do this for M4 as follows
(see the file <samp class="file">m4.lang</samp>):
</p>
<div class="example">
<pre class="example-preformatted">state keyword start &quot;dnl&quot; begin
  # avoid spaces in front of urls or @[[:alpha:]]+ be captured as prefixes
  comment = '[[:blank:]]+'
  include &quot;url.lang&quot;
  include &quot;html.lang&quot;
  type = '@[[:alpha:]]+'
  # everything else is a comment
  comment = '.+'
end
</pre></div>

<p>Once entered the state, every isolated space character is highlighted as
a comment; then we have rules for URLs and @ elements; then everything
else (<code class="code">.+</code>) is highlighted as a comment.
</p>
<p>One might think that a smarter way would be to have simply the following
definition (after all, why bothering highlighting spaces as comments):
</p>
<div class="example">
<pre class="example-preformatted">state keyword start &quot;dnl&quot; begin
  include &quot;url.lang&quot;
  include &quot;html.lang&quot;
  type = '@[[:alpha:]]+'
  comment = '.+'
end
</pre></div>

<p>Well, with this definition spaces in front of matched URLs or @
elements would be highlighted as normal, being considered as prefixes.
This is due to how source-highlight searches for matching rules; we refer
to <a class="ref" href="#How-source_002dhighlight-works">How source-highlight works</a> for further details.
</p>
<hr>
</div>
<div class="section-level-extent" id="Explicit-subexpressions-with-names">
<div class="nav-panel">
<p>
Next: <a href="#Redefinitions-and-Substitutions" accesskey="n" rel="next">Redefinitions and Substitutions</a>, Previous: <a href="#State_002fEnvironment-Definitions" accesskey="p" rel="prev">State/Environment Definitions</a>, Up: <a href="#Language-Definitions" accesskey="u" rel="up">Language Definitions</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Concept-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h3 class="section" id="Explicit-subexpressions-with-names-1"><span>7.10 Explicit subexpressions with names<a class="copiable-link" href="#Explicit-subexpressions-with-names-1"> &para;</a></span></h3>

<p>Often, you need to specify two program elements in the same regular
expressions, because they are tightly related, but you also need to
highlight them differently.
</p>
<p>For instance, you might want to highlight the name of a class (or
interface) in a class (or interface)
definition (e.g., in Java).  Thus, you can rely on the preceding
<code class="code">class</code> keyword which will then be followed by an identifier.
</p>
<p>A definition such as
</p>
<div class="example">
<pre class="example-preformatted">keyword = '(\&lt;(?:class|interface))([[:blank:]]+)([$[:alnum:]]+)'
</pre></div>

<p>will not produce a good final result, since the name of the class will
be highlighted as a keyword, which is not what you might have wanted:
for instance, the class name should be highlighted as a <code class="code">type</code>.
</p>
<p>Up to version 2.6, the only way to do this was to use state or
environments (<a class="ref" href="#State_002fEnvironment-Definitions">State/Environment Definitions</a>) but this tended to be
quite difficult to write.
</p>
<p>Since version 2.7, you can specify a regular expression with marked
subexpressions and bind each of them to a specific language element (the
regular expression must be enclosed in <code class="code">`</code>, see <a class="ref" href="#Ways-of-specifying-regular-expressions">Ways of specifying regular expressions</a>):
</p>
<div class="example">
<pre class="example-preformatted">(elem1,...,elemn) = `(subexp1)(...)(subexpn)`
</pre></div>

<p>Now, with this syntax, we can accomplish our previous goal:
</p>
<div class="example">
<pre class="example-preformatted">(keyword,normal,type) = 
  `(\&lt;(?:class|interface))([[:blank:]]+)([$[:alnum:]]+)`
</pre></div>

<p>This way, the <code class="code">class</code> (or <code class="code">interface</code>) will be highlighted as
a keyword, the separating blank characters are formatted as
<code class="code">normal</code>, and the name of the class as a <code class="code">type</code>.
</p>
<p>Note that the number of element names must be equal to the number of
subexpressions in the expression; furthermore, at least in the current
version, the expression can contain only marked subexpressions (no
character outside is allowed) and no nested subexpressions are allowed.
</p>
<p>Thus, the following specifications are NOT correct:
</p>
<div class="example">
<pre class="example-preformatted">(keyword,symbol) = `(...)(...)(...)` # number of elements doesn't match
(keyword,symbol) = `(...(...)...)(...)` # contains nested subexpressions
(keyword,symbol) = `...(...)...(...)` # outside characters
</pre></div>

<p>This mechanism permits expressing regular expressions for some situation
in a much more compact and probably more readable way.  For instance,
for highlighting ChangeLog parts (the optional <code class="code">*</code> as a symbol, the
optional file name and the element specified in parenthesis as a
<code class="code">file</code> element, and the rest as <code class="code">normal</code>) such as
</p>
<div class="example">
<pre class="example-preformatted">  * src/Makefile.am (source_highlight_SOURCES): correctly include
  changelog_scanner.ll

  * this is a comment without a file name
</pre></div>

<p>before version 2.6, we used to use these two language definitions:
</p>
<div class="example">
<pre class="example-preformatted">state symbol start '^(?:[[:blank:]]+)\*[[:blank:]]+' begin
  state file start '[^:]+\:' begin
    normal start '.'
  end
end

state normal start '^(?:[[:blank:]]+)' begin
  state file start '[^:]+\:' begin
    normal start '.'
  end
end
</pre></div>

<p>which can be hard to read after having written them.  Now, we can write
them more easily (see <samp class="file">changelog.lang</samp>):
</p>
<div class="example">
<pre class="example-preformatted">(normal,symbol,normal,file)= 
  `(^[[:blank:]]+)(\*)([[:blank:]]+)((?:[^:]+\:)?)` 
(normal,file)= `(^[[:blank:]]+)((?:[^:]+\:)?)` 
</pre></div>

<p>Since a language element definition using explicit subexpressions with
names consists of more than one element, and thus of more than one
formatting style, it cannot be used to start an environment (what would
the default element be?); while, as seen above, they can be used to
start a state.
</p>
<hr>
</div>
<div class="section-level-extent" id="Redefinitions-and-Substitutions">
<div class="nav-panel">
<p>
Next: <a href="#How-source_002dhighlight-works" accesskey="n" rel="next">How source-highlight works</a>, Previous: <a href="#Explicit-subexpressions-with-names" accesskey="p" rel="prev">Explicit subexpressions with names</a>, Up: <a href="#Language-Definitions" accesskey="u" rel="up">Language Definitions</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Concept-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h3 class="section" id="Redefinitions-and-Substitutions-1"><span>7.11 Redefinitions and Substitutions<a class="copiable-link" href="#Redefinitions-and-Substitutions-1"> &para;</a></span></h3>

<p>These two features are useful when you want to define
a language by re-using an existing language definition
with some changes.  Typically you <code class="code">include</code> another
language definition file and you redefine/substitute some
elements.
</p>
<a class="index-entry-id" id="index-redef"></a>
<p>When you use <code class="code">redef</code> you erase all the previous
definitions of that language elements with the new one.
The new language element definition will be placed exactly
in the point of the new definition.
We use this feature, for instance, when we define the
<code class="code">sml</code> language by re-using the <code class="code">caml</code> one:
they differ only for the keywords<a class="footnote" id="DOCF31" href="#FOOT31"><sup>31</sup></a>.  In fact, the contents of
<samp class="file">sml.lang</samp> is summarized as follows:
</p>
<div class="example">
<pre class="example-preformatted">include &quot;caml.lang&quot;

redef keyword = &quot;abstraction|abstype|and|andalso...&quot;

redef type = &quot;int|byte|boolean|char|long|float|double|short|void&quot;
</pre></div>

<p>Since the new language element definition appears in the
exact point of the redefinition, this means that
such a regular expression will be matched only if all
the previous ones (the ones of the included file) cannot
be matched.  This may lead to unwanted results in some
cases (not in the <code class="code">sml</code> case though).
In other words the following code
</p>
<div class="example">
<pre class="example-preformatted">keyword = &quot;foo&quot;
keyword = &quot;bar&quot;
type = &quot;int&quot;
redef keyword = &quot;myfoo&quot;
</pre></div>

<p>is equivalent to the following one
</p>
<div class="example">
<pre class="example-preformatted">type = &quot;int&quot;
keyword = &quot;myfoo&quot;
</pre></div>

<a class="index-entry-id" id="index-subst"></a>
<p>If this is not what you want, you can use <code class="code">subst</code>,
which is similar to <code class="code">redef</code> apart from that it
replaces the previous first definition of that language
element in the exact point of that first definition
(all other possible definitions are simply erased).
That is to say that the following code
</p>
<div class="example">
<pre class="example-preformatted">keyword = &quot;foo&quot;
keyword = &quot;bar&quot;
type = &quot;int&quot;
subst keyword = &quot;myfoo&quot;
</pre></div>

<p>is equivalent to the following one
</p>
<div class="example">
<pre class="example-preformatted">keyword = &quot;myfoo&quot;
type = &quot;int&quot;
</pre></div>

<p>It is up to you to decide which one fits best your needs.
We could use this feature to define <code class="code">javascript</code> in terms
of <code class="code">java</code>, e.g.:
</p>
<div class="example">
<pre class="example-preformatted">include &quot;java.lang&quot;

subst keyword = &quot;abstract|break|case|catch|class|if...&quot;
</pre></div>

<p>Here using <code class="code">redef</code> would have led to the unwanted behavior that
<code class="code">if (exp)</code> would have been highlighted as a function call, since
the function element definition would have come first (and then
matched first) than the redefinition of <code class="code">if</code> as a keyword.
Another example is the language definition for C# by reusing the one
for C/C++, <a class="ref" href="#Highlighting-C_002fC_002b_002b-and-C_0023">Highlighting C/C++ and C#</a>.
</p>
<hr>
</div>
<div class="section-level-extent" id="How-source_002dhighlight-works">
<div class="nav-panel">
<p>
Next: <a href="#Notes-on-regular-expressions" accesskey="n" rel="next">Notes on regular expressions</a>, Previous: <a href="#Redefinitions-and-Substitutions" accesskey="p" rel="prev">Redefinitions and Substitutions</a>, Up: <a href="#Language-Definitions" accesskey="u" rel="up">Language Definitions</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Concept-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h3 class="section" id="How-source_002dhighlight-works-1"><span>7.12 How source-highlight works<a class="copiable-link" href="#How-source_002dhighlight-works-1"> &para;</a></span></h3>

<p>As hinted at the beginning of <a class="ref" href="#Language-Definitions">Language Definitions</a>,
source-highlight uses the definitions in the language definition file to
internally create, on-the-fly, regular expressions that are used to
highlight the tokens of an input file.  Here we provide some internal
details that are crucial to understand how to write language definition
files correctly<a class="footnote" id="DOCF32" href="#FOOT32"><sup>32</sup></a>.
</p>
<p>First of all, for each element definition an highlighting rule is
created by source-highlight (even if they correspond to the same
language element); thus, each language definition file will correspond
to a list of highlighting rules.  For each line of the input file,
source-highlight will try to match all these rules against the whole
line (more formally, against the part of the line that has not been
highlighted yet).  It will not stop as soon as an highlighting rule
matched, since there might be another rule that matches &ldquo;better&rdquo;.
Now, everything basically reduces to the semantics of that <em class="emph">better
match</em>.
</p>
<a class="index-entry-id" id="index-matching-strategy"></a>
<p>The strategy used by source-highlight is to select the first matching rule
</p>
<ul class="itemize mark-bullet">
<li>with empty prefix (or prefix containing only space characters, i.e.,
spaces or tabs) or

</li><li>with the smallest prefix,

</li></ul>

<a class="index-entry-id" id="index-prefix"></a>
<p>where the <em class="emph">prefix</em> of a matched rule is the part of the examined
string that did not match<a class="footnote" id="DOCF33" href="#FOOT33"><sup>33</sup></a>.  Thus, for instance, if we try to match
the simple regular expression <code class="code">=</code> against the string
</p>
<div class="example">
<pre class="example-preformatted">i = 10;
</pre></div>

<a class="index-entry-id" id="index-suffix"></a>
<p>then the prefix is <code class="code">i </code>, including the space.  Following the
terminology of regular expression, the remaining part that did not
match, i.e., <code class="code"> 10;</code>, is the <em class="emph">suffix</em>.  When source-highlight
finds a matching rule, according to the above strategy, it formats the
matched part (and the prefix as <code class="code">normal</code>), and then it starts again
searching for a matching rule on the suffix, until it processed the
whole line.
</p>

<p>Let us explain this strategy a little bit further with an example.
Consider the following language definition file:
</p>
<div class="example">
<pre class="example-preformatted"><span class="r"><i class="i"># an example for explaining the strategy of source-highlight</i></span>
<code class="t"><i class="i">type</i></code> = <code class="t">&quot;int&quot;</code>
<code class="t"><i class="i">keyword</i></code> = <code class="t">&quot;null&quot;</code>
<code class="t"><i class="i">symbol</i></code> = <code class="t">&quot;=&quot;</code>
</pre></div>

<p>and the following line to be highlighted:
</p>
<div class="example">
<pre class="example-preformatted">int i = null
</pre></div>

<p>Then source-highlight performs these steps:
</p>
<ol class="enumerate">
<li> The first matching rule is the one for <code class="code">type</code>; since it has
an empty prefix, there&rsquo;s no need to look any further: it highlights
<code class="code">int</code> as <code class="code">type</code>; the remaining part to be processed is now
<code class="code"> i = null</code>;

</li><li> the first matching rule is the one for <code class="code">keyword</code>, with the prefix
<code class="code"> i = </code>; since the prefix is not empty (nor it contain only
spaces), we inspect other rules;

</li><li> the next matching rule is the one for <code class="code">symbol</code>, with prefix <code class="code">
i </code>, which is smaller than the one for <code class="code">keyword</code>, and since there
are no other matching rules, the one for <code class="code">symbol</code> is better, and we
highlight <code class="code">=</code> as symbol; the remaining part to be processed is now
<code class="code"> null</code>;

</li><li> the first matching rule is the one for <code class="code">keyword</code>, and, since it has
a prefix with only spaces, we look no further, and we highlight
<code class="code">null</code> as <code class="code">keyword</code>.

</li></ol>

<p>We conclude this section by showing the following language definition,
which summarizes what we said about the highlighting strategy:
</p>
<div class="example">
<pre class="example-preformatted"><code class="t"><i class="i">keyword</i></code> = <code class="t">&quot;if|class&quot;</code>

<code class="t"><i class="i">type</i></code> = <code class="t">'int'</code>

<code class="t"><i class="i">comment</i></code> <b class="b">delim</b> <code class="t">&quot;/*&quot;</code> <code class="t">&quot;*/&quot;</code>

<span class="r"><i class="i"># thus this won&rsquo;t catch &quot;/* */ /&quot; as a regexp,</i></span>
<span class="r"><i class="i"># since comment elem definition comes first</i></span>
<code class="t"><i class="i">regexp</i></code> = <code class="t">'/.*/.*/'</code>

<span class="r"><i class="i"># this won&rsquo;t match if ( ) as a function,</i></span>
<span class="r"><i class="i"># since keyword elem definition comes first</i></span>
<code class="t"><i class="i">function</i></code> = <code class="t">'([[:alpha:]]|_)[[:word:]]*[[:blank:]]*\(*[[:blank:]]*\)'</code>

<span class="r"><i class="i"># the following order is conceptually wrong,</i></span>
<span class="r"><i class="i"># since &quot;//&quot; won&rsquo;t be highlighted as a comment, but as two symbols</i></span>
<code class="t"><i class="i">symbol</i></code> = <code class="t">&quot;/&quot;</code>
<code class="t"><i class="i">comment</i></code> <b class="b">start</b> <code class="t">&quot;//&quot;</code>
</pre></div>


<hr>
</div>
<div class="section-level-extent" id="Notes-on-regular-expressions">
<div class="nav-panel">
<p>
Next: <a href="#The-program-check_002dregexp" accesskey="n" rel="next">The program <code class="command">check-regexp</code></a>, Previous: <a href="#How-source_002dhighlight-works" accesskey="p" rel="prev">How source-highlight works</a>, Up: <a href="#Language-Definitions" accesskey="u" rel="up">Language Definitions</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Concept-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h3 class="section" id="Notes-on-regular-expressions-1"><span>7.13 Notes on regular expressions<a class="copiable-link" href="#Notes-on-regular-expressions-1"> &para;</a></span></h3>
<a class="index-entry-id" id="index-regular-expressions"></a>

<p>Although we refer to Boost documentation for such
syntax<a class="footnote" id="DOCF34" href="#FOOT34"><sup>34</sup></a>,
we want to provide here some explanations of some forms of regular
expressions that might be unknown but that are pretty useful in language
definitions.
</p>
<a class="index-entry-id" id="index-non_002dmarking-parenthesis"></a>
<p>Typically, when you need to group sub-expressions with parenthesis,  but
you don&rsquo;t want the parenthesis to spit out another marked
sub-expression,  you can use a <em class="emph">non-marking parenthesis</em>
<code class="code">(?:expression)</code>.  This is not necessary in the language definition
syntax: even though you use standard parenthesis, source-highlight will
transform it into a non-marking parenthesis.
</p>
<a class="index-entry-id" id="index-marked-subexpressions-1"></a>
<p>Source-highlight translates possible <em class="emph">marked subexpressions</em>, i.e.,
those enclosed in <code class="code">(</code> and <code class="code">)</code>, into non-marked subexpressions
(i.e., those explained above).  Since version 2.7, if you specify the
expression inside <code class="code">`</code> the marked subexpressions are left as such
(see also <a class="ref" href="#Ways-of-specifying-regular-expressions">Ways of specifying regular expressions</a>).  This is useful
for <em class="emph">backreferences</em> and <em class="emph">conditionals</em>.
</p>
<a class="index-entry-id" id="index-backreference-1"></a>
<p>An escape character followed by a digit n, where n is in the range 1-9,
is a <em class="emph">backreference</em> matches the same string that was matched by
sub-expression n.  For example the expression <code class="code">^(a*).*\1$</code> will
match the string: <code class="code">aaabbaaa</code> but not the string <code class="code">aaabba</code>.
Backreferences are useful to write compact language elements, such
as in the case of Perl&rsquo;s substitution modifiers; thus
</p>
<div class="example">
<pre class="example-preformatted">regexp = `s([^[:alnum:][:blank:]]).*\1.*\1[ixsmogce]*`
</pre></div>

<p>will match all these forms
</p>
<div class="example">
<pre class="example-preformatted">s/foo/bar/g
s|foo|bar|g
s#foo#bar#g
s@foo@bar@g
</pre></div>

<a class="index-entry-id" id="index-lookahead-asserts"></a>
<p>A useful regular expression form is the <em class="emph">Forward Lookahead Asserts</em>
that come in two forms, one for positive forward lookahead asserts, and
one for negative lookahead asserts:
</p>
<dl class="table">
<dt><code class="code">(?=abc)</code></dt>
<dd><p>matches zero characters only if they are followed by the expression
&ldquo;abc&rdquo;.
</p></dd>
<dt><code class="code">(?!abc)</code></dt>
<dd><p>matches zero characters only if they are not followed by the expression
&ldquo;abc&rdquo;.
</p></dd>
</dl>

<p>For instance, in the definition of a function (<samp class="file">function.lang</samp>) we
use the following regular expression:
</p>
<div class="example">
<pre class="example-preformatted">([[:alpha:]]|_)[[:word:]]*(?=[[:blank:]]*\()
</pre></div>

<p>Thus after the name of a function we test, with the regular expression
<code class="code">(?=\()</code> whether an open parenthesis <code class="code">(</code> can be matched.  If
it can be matched, however, we leave that part in the input, so that the
parenthesis will not be formatted the same way of a function name (see
also <a class="ref" href="#How-source_002dhighlight-works">How source-highlight works</a> to understand better this language
element definition).
</p>
<p>Please, be careful when using such regular expression forms: since part
of the input is not actually removed you may end up always scanning the
same input part (thus looping) if you do not write the regular
expressions well.  For instance, consider this language definition
</p>
<div class="example">
<pre class="example-preformatted">state foo = '(?=foo)' begin
  foo = '(?=foo)'
end
</pre></div>

<p>and the following input file:
</p>
<div class="example">
<pre class="example-preformatted">hello
foo
bar
</pre></div>

<p>As soon as we match the word <code class="code">foo</code> we leave it in the input and we
enter a state where we try to match the word <code class="code">foo</code> still leaving it
in the input.  As you might have guess this will make source-highlight
loop forever.  Probably one might have wanted to write this
language definition:
</p>
<div class="example">
<pre class="example-preformatted">state foo = '(?=foo)' begin
  foo = 'foo'
end
</pre></div>

<p>but a cut-and-paste error had its way ;-)
</p>
<a class="index-entry-id" id="index-lookbehind-asserts"></a>
<p>You can also use <em class="emph">Lookbehind Asserts</em>:
</p>
<dl class="table">
<dt><code class="code">(?&lt;=pattern)</code></dt>
<dd><p>consumes zero characters, only if pattern could be matched against the
 characters preceding the current position (pattern must be of fixed
 length).
</p></dd>
<dt><code class="code">(?&lt;!pattern)</code></dt>
<dd><p>consumes zero characters, only if pattern could not be matched against the
 characters preceding the current position (pattern must be of fixed
 length).
</p></dd>
</dl>

<a class="index-entry-id" id="index-conditional-expressions"></a>
<p>Another advanced regular expression mechanism is the one of
<em class="emph">conditional expressions</em>
</p>
<dl class="table">
<dt><code class="code">(?(condition)yes-pattern|no-pattern)</code></dt>
<dd><p>attempts to match yes-pattern if the condition is true, otherwise
attempts to match no-pattern.
</p></dd>
<dt><code class="code">(?(condition)yes-pattern)</code></dt>
<dd><p>attempts to match yes-pattern if the condition is true, otherwise fails.
</p></dd>
</dl>

<p>Condition may be either a forward lookahead assert, or the
index<a class="footnote" id="DOCF35" href="#FOOT35"><sup>35</sup></a> of a
marked sub-expression (the condition becomes true if the sub-expression
has been matched).  For instance, the following expression<a class="footnote" id="DOCF36" href="#FOOT36"><sup>36</sup></a>,
that we wrote on more lines to try to make it more readable
</p>
<div class="example">
<pre class="example-preformatted">(?:
  (\()
  |(\[)
  |(\{)
)
[[:alpha:]]*
(?:
  (?(1)
    \)
    |(?:(?(2)
      \]
      |(?:\}
)))))
</pre></div>

<p>will match <code class="code">(foo)</code>, <code class="code">[foo]</code> and <code class="code">{foo}</code> but not
<code class="code">(foo]</code>, <code class="code">{foo]</code> or <code class="code">{foo)</code>.
</p>
<hr>
</div>
<div class="section-level-extent" id="The-program-check_002dregexp">
<div class="nav-panel">
<p>
Next: <a href="#Listing-Language-Elements" accesskey="n" rel="next">Listing Language Elements</a>, Previous: <a href="#Notes-on-regular-expressions" accesskey="p" rel="prev">Notes on regular expressions</a>, Up: <a href="#Language-Definitions" accesskey="u" rel="up">Language Definitions</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Concept-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h3 class="section" id="The-program-check_002dregexp-1"><span>7.14 The program <code class="command">check-regexp</code><a class="copiable-link" href="#The-program-check_002dregexp-1"> &para;</a></span></h3>

<a class="index-entry-id" id="index-check_002dregexp"></a>
<p>Since version 2.7, the source-highlight package comes with a
small additional program, <code class="command">check-regexp</code>, that permits
testing regular expressions on the command line.
</p>
<p>You simply pass as the first command line argument the regular
expression and then the strings you want to try to match (actually, the
program searches the string for the given regular expression, so it is
not required to match the whole string).  It is crucial, in order to
avoid shell substitutions, to enclose both the expression and the
strings in single quotes.
</p>
<p>The program then prints some information about the (possibly successful
matching).  The <code class="code">what[0]</code> part represents the whole match, and
<code class="code">what[i]</code> part represents the i-th marked subexpression that
matched.  The program also prints possible prefix and suffix.
</p>
<p>Here&rsquo;s an example of output of the program:
</p>
<div class="example">
<pre class="example-preformatted">check-regexp '(a+)(.*)\1' 'aabcdaa' 'babbbacc'

searching      : aabcdaa
for the regexp : (a+)(.*)\1
what[0]: aabcdaa
  what[1]: aa
  length: 2
  what[2]: bcd
  length: 3
total number of matches: 1

searching      : babbbacc
for the regexp : (a+)(.*)\1
prefix: b
what[0]: abbba
  what[1]: a
  length: 1
  what[2]: bbb
  length: 3
suffix: cc
total number of matches: 1
</pre></div>

<p>And here&rsquo;s the example of matching parenthesis we saw in <a class="ref" href="#Notes-on-regular-expressions">Notes on regular expressions</a>:
</p>
<div class="example smallexample">
<pre class="example-preformatted">check-regexp \
   '(?:(\()|(\[)|(\{))[[:alnum:]]*(?:(?(1)\)|(?:(?(2)\]|(?:\})))))' \
   '{ciao}' '(foo]' '[hithere]'

searching      : {ciao}
for the regexp : (?:(\()|(\[)|(\{))[[:alnum:]]*(?:(?(1)\)|(?:(?(2)\]|(?:\})))))
what[0]: {ciao}
  what[3]: {
  length: 1
total number of matches: 1

searching      : (foo]
for the regexp : (?:(\()|(\[)|(\{))[[:alnum:]]*(?:(?(1)\)|(?:(?(2)\]|(?:\})))))
total number of matches: 0

searching      : [hithere]
for the regexp : (?:(\()|(\[)|(\{))[[:alnum:]]*(?:(?(1)\)|(?:(?(2)\]|(?:\})))))
what[0]: [hithere]
  what[2]: [
  length: 1
total number of matches: 1
</pre></div>

<hr>
</div>
<div class="section-level-extent" id="Listing-Language-Elements">
<div class="nav-panel">
<p>
Next: <a href="#Concluding-Remarks" accesskey="n" rel="next">Concluding Remarks</a>, Previous: <a href="#The-program-check_002dregexp" accesskey="p" rel="prev">The program <code class="command">check-regexp</code></a>, Up: <a href="#Language-Definitions" accesskey="u" rel="up">Language Definitions</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Concept-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h3 class="section" id="Listing-Language-Elements-1"><span>7.15 Listing Language Elements<a class="copiable-link" href="#Listing-Language-Elements-1"> &para;</a></span></h3>

<p>In order for language definitions to be really useful they must be
used in proper combination with formatting styles (see <a class="ref" href="#Output-format-style">Output format style</a>).  However, these different files might not be developed
by the same person, or simply some one may want to customize one of
these.  In order to define good output formatting style files you should
be aware of each language element defined by a language definition file.
Instead of having to look inside the language definition file itself
(and recursively in each included file) you can use the command line
<a class="index-entry-id" id="index-_002d_002dshow_002dlang_002delements-1"></a>
option <code class="code">--show-lang-elements</code><a class="footnote" id="DOCF37" href="#FOOT37"><sup>37</sup></a>, that
simply prints to the standard output all the language elements that
can be highlighted with a specific language definition file.
</p>
<p>For instance, for <code class="code">cpp.lang</code> you get:
</p>
<div class="example">
<pre class="example-preformatted">cbracket
classname
comment
function
keyword
label
normal
number
preproc
specialchar
string
symbol
todo
type
url
usertype
</pre></div>

<p>while for <code class="code">log.lang</code> you get:
</p>
<div class="example">
<pre class="example-preformatted">cbracket
comment
date
function
ip
normal
number
port
string
symbol
time
twonumbers
webmethod
</pre></div>

<hr>
</div>
<div class="section-level-extent" id="Concluding-Remarks">
<div class="nav-panel">
<p>
Next: <a href="#Debugging" accesskey="n" rel="next">Debugging</a>, Previous: <a href="#Listing-Language-Elements" accesskey="p" rel="prev">Listing Language Elements</a>, Up: <a href="#Language-Definitions" accesskey="u" rel="up">Language Definitions</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Concept-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h3 class="section" id="Concluding-Remarks-1"><span>7.16 Concluding Remarks<a class="copiable-link" href="#Concluding-Remarks-1"> &para;</a></span></h3>

<p>By mixing all these features you can unleash your imagination and define
highlighting for complex source languages such as Flex and Bison by
writing few lines of code and re-use existing ones.  For instance, Flex
and Bison have their own syntax and lets you write C/C++ code in
specific parts of the source language, e.g., the code between  the
outmost brackets, in the following example, is C++ code, and should be
highlighted following C++ language definitions (apart from variables
that are prefixed with <code class="code">$</code>):
</p>
<div class="example">
<pre class="example-preformatted">globaltags : options { if (...) { setTags( $1 ); } }
</pre></div>

<p>This is easy to do (taken from <samp class="file">flex.lang</samp>):
</p>
<div class="example">
<pre class="example-preformatted">state cbracket delim &quot;{&quot; &quot;}&quot; multiline nested begin
  variable = '\$.'
  include &quot;cpp.lang&quot;
end
</pre></div>

<p>Note that, since we used <code class="code">nested</code> we can be sure
that the C++ language definitions are not considered
anymore when we matched the last closing <code class="code">}</code>.
</p>
<hr>
</div>
<div class="section-level-extent" id="Debugging">
<div class="nav-panel">
<p>
Next: <a href="#Tutorials-on-Language-Definitions" accesskey="n" rel="next">Tutorials on Language Definitions</a>, Previous: <a href="#Concluding-Remarks" accesskey="p" rel="prev">Concluding Remarks</a>, Up: <a href="#Language-Definitions" accesskey="u" rel="up">Language Definitions</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Concept-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h3 class="section" id="Debugging-1"><span>7.17 Debugging<a class="copiable-link" href="#Debugging-1"> &para;</a></span></h3>
<a class="index-entry-id" id="index-debug"></a>

<p>When writing a language definition file, it is quite useful to be able
to debug it (by using complex regular expressions one may experience
unwanted behaviors).  Since version 2.1 the command line option
<code class="code">--debug-lang</code> is available.  When using this option, some
additional information are printed to the standard output.  
</p>
<p>Since version 2.5 this option also accepts the a sub specification (see
<a class="ref" href="#Invoking-source_002dhighlight">Invoking <code class="command">source-highlight</code></a>).  When using <code class="code">dump</code> (the default)
all the additional information explained below will be dumped without
interaction with the user.  When using <code class="code">interactive</code>, for each
formatted string the program will stop waiting for a command from the
user.  In this very primordial version of interactive debug, the user
will only have to press <code class="code">ENTER</code> to make the program continue until
the next formatted string.  This way, the programmer will have the
chance to step the highlighting of each part of the input file.
Moreover, when debugging is enabled, no buffering will be performed by
the program, thus each formatted element will be immediately available
in the output.  For instance, you can use the command <code class="command">tail -f</code>
to see the modifications on the output file on-the-fly.
</p>
<p>When using this command line option the additional information produced
has the following format:
</p>
<div class="example">
<pre class="example-preformatted">&lt;.lang filename&gt;:&lt;line number&gt;
expression: &lt;matched subexpression&gt;
formatting: &lt;source file string to be formatted&gt;
entering: &lt;next state's id&gt;
exiting state, level: &lt;number of states&gt; 
</pre></div>

<p>The lines starting with <code class="code">entering</code>, <code class="code">exiting</code> and
<code class="code">exitingall</code> are related to entering a new state/environment and
exiting one and all states/environments (<code class="code">current state</code>, if shown,
comes after <code class="code">entering</code> and prints the same state&rsquo;s regular
expression but after the substitution of dynamic backreferences,
<a class="ref" href="#Dynamic-Backreferences">Dynamic Backreferences</a>).  The first line shows a link to the
<samp class="file">.lang</samp> definition file and the line number, i.e., and the
sub-expression that matched and the line starting with <code class="code">formatting</code>
shows the source file string that matched with that expression.  If a
line starting with <code class="code">formatting</code> is not preceded by a line with the
link to the sub-expression, it means that no particular regular
expression has matched, and thus the style <code class="code">normal</code> will be used to
format that string.
</p>
<p>Consider the following (simplified) Java source file:
</p>
<div class="example">
<pre class="example-preformatted"><code class="t">01:</code> <span class="r"><i class="i">/*</i></span>
<code class="t">02:</code> <span class="r"><i class="i">  This is to demonstrate &ndash;debug-lang</i></span>
<code class="t">03:</code> <span class="r"><i class="i">  </i></span><code class="t">http://www.lorenzobettini.it</code>
<code class="t">04:</code> <span class="r"><i class="i">*/</i></span>
<code class="t">05:</code> 
<code class="t">06:</code> <b class="b">package</b> hello;
<code class="t">07:</code> 
<code class="t">08:</code> <b class="b">public</b> <b class="b">class</b> Hello {
<code class="t">09:</code>         <span class="r"><i class="i">// just some greetings ;-)  /*</i></span>
<code class="t">10:</code>     <b class="b">int</b> i = 10;
<code class="t">11:</code>     System.out.println(<code class="t">&quot;Hello World!&quot;</code>);
<code class="t">12:</code> }
<code class="t">13:</code> 
</pre></div>

<p>Now you can debug the <samp class="file">java.lang</samp> file by using the
<code class="code">--debug-lang</code> command line option.  And the output is as follows:
</p>
<div class="example">
<pre class="example-preformatted">c_comment.lang:24
expression: &quot;/\*&quot;
formatting &quot;/*&quot; as comment
entering state: 23
formatting &quot;  This is to demonstrate --debug-lang&quot; as default
formatting &quot;  &quot; as default
url.lang:3
expression: &quot;(?:(?:&lt;?)[[:word:]]+://[[:word:]\./\-_]+(?:&gt;?))&quot;
formatting &quot;http://www.lorenzobettini.it&quot; as url
c_comment.lang:24
expression: &quot;\*/&quot;
formatting &quot;*/&quot; as comment
exiting state, level: 1
java.lang:1
expression: &quot;\&lt;(?:import|package)\&gt;&quot;
formatting &quot;package&quot; as preproc
formatting &quot; hello&quot; as default
symbols.lang:1
expression: &quot;(?:~|!|%|\^|\*|\(|\)|-|\+|=|\[|\]|\\|:|;|,|\.|/|\?|&amp;|&lt;|&gt;|\|)&quot;
formatting &quot;;&quot; as symbol
... omissis ...
c_comment.lang:13
expression: &quot;//&quot;
formatting &quot;//&quot; as comment
entering state: 12
formatting &quot; just some greetings ;-)  /*&quot; as default
c_comment.lang:13
expression: &quot;\z&quot;
formatting &quot;&quot; as comment
exiting state, level: 1
... omissis ...
</pre></div>

<p>This should provide enough information to understand how the regular
expressions are used and how the states/environments are entered and
exited.  Please note that the sub-expressions that are shown may
differ from the original ones specified in the <samp class="file">.lang</samp> file.  This
is due to the preprocessing that is performed by Source-highlight.
Moreover, some sub-expressions are not defined at all in the
<samp class="file">.lang</samp> file: for instance, this is the case for line wide
definitions, i.e., those that are defined with the keyword <code class="code">start</code>,
<a class="ref" href="#Line-wide-definitions">Line wide definitions</a>.  The last lines above, showing
<code class="code">expression: &quot;\z&quot;</code>, means that we matched the end of a line.
</p>
<p>Another useful feature in debugging is the option <code class="code">--show-regex</code>
that shows, on the standard output, the regular expression automaton
that source-highlight creates.
</p>
<p>For instance, consider this language definition
(<samp class="file">comment-show.lang</samp>):
</p>
<div class="example">
<pre class="example-preformatted"><b class="b">vardef</b> <code class="t"><i class="i">TODO</i></code> = <code class="t">'(TODO|FIXME)([:]?)'</code>

<b class="b">environment</b> <code class="t"><i class="i">comment</i></code> <b class="b">delim</b> <code class="t">&quot;/**&quot;</code> <code class="t">&quot;*/&quot;</code> <b class="b">multiline</b> <b class="b">begin</b>
  <code class="t"><i class="i">type</i></code> = <code class="t">'@[[:alpha:]]+'</code>
  <code class="t"><i class="i">todo</i></code> = <code class="t"><i class="i">$TODO</i></code>
<b class="b">end</b>

<b class="b">state</b> <code class="t"><i class="i">cbracket</i></code> <b class="b">delim</b> <code class="t">&quot;{&quot;</code> <code class="t">&quot;}&quot;</code> <b class="b">escape</b> <code class="t">&quot;\\&quot;</code> <b class="b">multiline</b> <b class="b">nested</b> <b class="b">begin</b>
  <code class="t"><i class="i">keyword</i></code> = <code class="t">&quot;if|then|else|endif&quot;</code>
<b class="b">end</b>

<code class="t"><i class="i">string</i></code> <b class="b">delim</b> <code class="t">&quot;&lt;&quot;</code> <code class="t">&quot;&gt;&quot;</code>

<code class="t"><i class="i">string2</i></code> <b class="b">delim</b> <code class="t">&quot;&lt;&lt;&quot;</code> <code class="t">&quot;&gt;&gt;&quot;</code> <b class="b">multiline</b>
</pre></div>

<p>If you now execute the following command:
</p>
<div class="example">
<pre class="example-preformatted">source-highlight --show-regex=comment-show.lang
</pre></div>

<p>you will get, on the standard output, the following output<a class="footnote" id="DOCF38" href="#FOOT38"><sup>38</sup></a>:
</p>
<div class="example">
<pre class="example-preformatted">STATE 1 default: normal
  rule (comment) &quot;/\*\*&quot; (exit level: 0, next: 2)
    STATE 2 default: comment
      rule (comment) &quot;\*/&quot; (exit level: 1, next: 0)
      rule (type) &quot;(?:\@[[:alpha:]]+)&quot; (exit level: 0, next: 0)
      rule (todo) &quot;(?:(?:TODO|FIXME)(?:[:]?))&quot; (exit level: 0, next: 0)
  rule (cbracket) &quot;\{&quot; (exit level: 0, next: 3)
    STATE 3 default: normal
      rule (cbracket) &quot;\}&quot; (exit level: 1, next: 0)
      rule (cbracket) &quot;\\.&quot; (exit level: 0, next: 0)
      rule (cbracket) &quot;\{&quot; (exit level: 0, next: 0, nested)
      rule (keyword) &quot;\&lt;(?:if|then|else|endif)\&gt;&quot; (exit level: 0, next: 0)
  rule (string) &quot;&lt;(?:[^&lt;&gt;])*&gt;&quot; (exit level: 0, next: 0)
  rule (string2) &quot;&lt;&lt;&quot; (exit level: 0, next: 4)
    STATE 4 default: string2
      rule (string2) &quot;&gt;&gt;&quot; (exit level: 1, next: 0)

</pre></div>

<p>This shows the states and highlight rules of the regular expression
automaton that source-highlight creates and will use to format an input
source.
</p>
<p>Each state is associated a unique number in order to identify it;
moreover, the default element of the state is shown (i.e., if none of
the state&rsquo;s rule match, then that part is highlighted with the default
element style). For instance, in the initial state the default style is
normal.  Then for each state it shows the rules for that state.  
For each rule you can see the corresponding element of the rule, 
the regular expression for the rule and some other information, that we
explain in the following.
</p>
<p>We can see that if we match a <code class="code">/**</code> (it is shown as a string with
escaped special characters, <code class="code">/\*\*</code>) we enter a new state, in this
case the state 2 (<code class="code">next: 2</code>).  This corresponds to the delimited
element defining a new environment (<a class="ref" href="#State_002fEnvironment-Definitions">State/Environment Definitions</a>).  The fact that it is actually an environment and not a
state<a class="footnote" id="DOCF39" href="#FOOT39"><sup>39</sup></a> can be seen by the fact
that the default element is the same of the environment itself.  If we
match a <code class="code">*/</code>, i.e., the end of the delimited element, we exit one
level (<code class="code">exit level: 1</code>) meaning that we go back to state 1.  Then
we have the state for <code class="code">cbracket</code>, which is not an environment, in
fact its default state is normal.  The second rule of this state,
<code class="code">\\.</code> represents the <code class="code">escape</code> string of the state definition.
Since the delimited element is defined as nested, we have a third rule
<code class="code">{</code> which has the <code class="code">nested</code> information; thus, if we match it,
we simply enter a new instance of state 3 itself.
</p>
<p>The <code class="code">string</code> and <code class="code">string2</code> show the difference implied by the
<code class="code">multiline</code> option: since source-highlight handles a line of input
separately, the first delimited definition can be handled with a single
regular expression while the multiline version cannot.
</p>
<p>Note that the states/environments are indented so that it&rsquo;s
easier to understand the outer and the inner states.
</p>
<p>Let us now consider a variation of the previous example:
</p>
<div class="example">
<pre class="example-preformatted"><b class="b">vardef</b> <code class="t"><i class="i">TODO</i></code> = <code class="t">'(TODO|FIXME)([:]?)'</code>

<b class="b">environment</b> <code class="t"><i class="i">comment</i></code> <b class="b">delim</b> <code class="t">&quot;/**&quot;</code> <code class="t">&quot;*/&quot;</code> <b class="b">multiline</b> <b class="b">nested</b> <b class="b">begin</b>
  <code class="t"><i class="i">type</i></code> = <code class="t">'@[[:alpha:]]+'</code>
  <code class="t"><i class="i">todo</i></code> = <code class="t"><i class="i">$TODO</i></code>
<b class="b">end</b>

<code class="t"><i class="i">regexp</i></code> = <code class="t">`([^[:alnum:]]).*(\1)`</code>

<code class="t"><i class="i">string</i></code> <b class="b">delim</b> <code class="t">&quot;&lt;&quot;</code> <code class="t">&quot;&gt;&quot;</code>

<code class="t"><i class="i">string2</i></code> <b class="b">delim</b> <code class="t">&quot;&lt;&lt;&quot;</code> <code class="t">&quot;&gt;&gt;&quot;</code> <b class="b">multiline</b>

(<code class="t"><i class="i">paren</i></code>,<code class="t"><i class="i">normal</i></code>,<code class="t"><i class="i">paren</i></code>) = <code class="t">`(\[)(.*)(\])`</code>
</pre></div>

<p>and let us see the output of <code class="code">--show-regex</code>
</p>
<div class="example">
<pre class="example-preformatted">STATE 1 default: normal
  rule (comment) &quot;/\*\*&quot; (exit level: 0, next: 2)
    STATE 2 default: comment
      rule (comment) &quot;\*/&quot; (exit level: 1, next: 0)
      rule (comment) &quot;/\*\*&quot; (exit level: 0, next: 0, nested)
      rule (type) &quot;(?:\@[[:alpha:]]+)&quot; (exit level: 0, next: 0)
      rule (todo) &quot;(?:(?:TODO|FIXME)(?:[:]?))&quot; (exit level: 0, next: 0)
  rule (regexp) &quot;(?:([^[:alnum:]]).*(\1))&quot; (exit level: 0, next: 0)
  rule (string) &quot;&lt;(?:[^&lt;&gt;])*&gt;&quot; (exit level: 0, next: 0)
  rule (string2) &quot;&lt;&lt;&quot; (exit level: 0, next: 3)
    STATE 3 default: string2
      rule (string2) &quot;&gt;&gt;&quot; (exit level: 1, next: 0)
  rule (paren normal paren) &quot;(\[)(.*)(\])&quot; (exit level: 0, next: 0)

</pre></div>

<p>Since in the rule <code class="code">regexp</code> we used the <code class="code">`</code> regular expression
(see <a class="ref" href="#Ways-of-specifying-regular-expressions">Ways of specifying regular expressions</a>), then, the marked
subexpressions are not translated in order to make backreferences work
correctly.
</p>
<p>The last rule uses explicit subexpressions with names (see <a class="ref" href="#Explicit-subexpressions-with-names">Explicit subexpressions with names</a>); although that expression is made up of
different elements, the expression is matched as a whole.
</p>
<hr>
</div>
<div class="section-level-extent" id="Tutorials-on-Language-Definitions">
<div class="nav-panel">
<p>
Previous: <a href="#Debugging" accesskey="p" rel="prev">Debugging</a>, Up: <a href="#Language-Definitions" accesskey="u" rel="up">Language Definitions</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Concept-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h3 class="section" id="Tutorials-on-Language-Definitions-1"><span>7.18 Tutorials on Language Definitions<a class="copiable-link" href="#Tutorials-on-Language-Definitions-1"> &para;</a></span></h3>

<p>Now we provide some examples of language definitions.   In the previous
sections we have already provided some code snippets, while here we
provide complete examples of language definitions that are included in
the source-highlight distribution itself.
</p>
<p>In particular we will first show the language definition for the
language definition syntax itself (file <samp class="file">langdef.lang</samp>).  This will
be used to highlight the examples of language definitions that we will
show in this section (the highlighting will not be visible if you are
viewing this manual with the <code class="code">info</code> command).  Of course, this
example is highlighted itself.
</p>
<div class="example">
<pre class="example-preformatted"><span class="r"><i class="i"># this is the language definition for the</i></span>
<span class="r"><i class="i"># language definition syntax itself</i></span>
<code class="t"><i class="i">comment</i></code> <b class="b">start</b> <code class="t">&quot;#&quot;</code>

<code class="t"><i class="i">preproc</i></code> = <code class="t">&quot;include&quot;</code>

<code class="t"><i class="i">string</i></code> <b class="b">delim</b> <code class="t">&quot;\&quot;&quot;</code> <code class="t">&quot;\&quot;&quot;</code> <b class="b">escape</b> <code class="t">&quot;\\&quot;</code> <b class="b">multiline</b>
<code class="t"><i class="i">regexp</i></code> <b class="b">delim</b> <code class="t">&quot;'&quot;</code> <code class="t">&quot;'&quot;</code> <b class="b">escape</b> <code class="t">&quot;\\&quot;</code> <b class="b">multiline</b>
<code class="t"><i class="i">regexp</i></code> <b class="b">delim</b> <code class="t">&quot;`&quot;</code> <code class="t">&quot;`&quot;</code> <b class="b">escape</b> <code class="t">&quot;\\&quot;</code> <b class="b">multiline</b>

<code class="t"><i class="i">keyword</i></code> = <code class="t">&quot;state|environment|begin|end|delim|escape|start&quot;</code>,
          <code class="t">&quot;multiline|nested|vardef|exitall|exit&quot;</code>,
          <code class="t">&quot;redef|subst|nonsensitive&quot;</code>

<code class="t"><i class="i">symbol</i></code> = <code class="t">&quot;=|+|,|(|)&quot;</code>

<b class="b">vardef</b> <code class="t"><i class="i">ID</i></code> = <code class="t">'[[:word:]]+'</code>

<code class="t"><i class="i">variable</i></code> = <code class="t">'\$'</code> + <code class="t"><i class="i">$ID</i></code>

<code class="t"><i class="i">variable</i></code> = <code class="t"><i class="i">$ID</i></code>

</pre></div>

<p>The style that is used to highlight these examples in Texinfo is
<samp class="file">texinfo.style</samp> that is shown in <a class="ref" href="#Output-format-style">Output format style</a>.  The
language definition for the style syntax (file <samp class="file">style.lang</samp>) is
even simpler:
</p>
<div class="example">
<pre class="example-preformatted"><span class="r"><i class="i"># this is the language definition for the</i></span>
<span class="r"><i class="i"># style definition syntax</i></span>
<code class="t"><i class="i">comment</i></code> <b class="b">start</b> <code class="t">&quot;//&quot;</code>

<code class="t"><i class="i">string</i></code> <b class="b">delim</b> <code class="t">&quot;\&quot;&quot;</code> <code class="t">&quot;\&quot;&quot;</code> <b class="b">escape</b> <code class="t">&quot;\\&quot;</code>

<code class="t"><i class="i">keyword</i></code> = <code class="t">&quot;bgcolor|purple|orange|brightorange|brightgreen|darkgreen&quot;</code>,
          <code class="t">&quot;green|darkred|red|brown|pink|yellow|cyan&quot;</code>,
          <code class="t">&quot;black|teal|gray|darkblue|blue&quot;</code>,
          <code class="t">&quot;normal|linenum&quot;</code>,
          <code class="t">&quot;noref|nf|f|u|i|b&quot;</code>
<code class="t"><i class="i">keyword</i></code> = <code class="t">'bg\:'</code>

<code class="t"><i class="i">symbol</i></code> = <code class="t">&quot;,|;&quot;</code>

<code class="t"><i class="i">variable</i></code> = <code class="t">'[[:word:]]+'</code>

</pre></div>

<p>Note that this definition is pretty simple since the language
definition syntax is simple.  In the next examples we will see how to
use more complex features to highlight more complex language syntaxes.
</p>

<ul class="mini-toc">
<li><a href="#Highlighting-C_002fC_002b_002b-and-C_0023" accesskey="1">Highlighting C/C++ and C#</a></li>
<li><a href="#Highlighting-Diff-files" accesskey="2">Highlighting Diff files</a></li>
<li><a href="#Pseudo-semantic-analysis" accesskey="3">Pseudo semantic analysis</a></li>
</ul>
<hr>
<div class="subsection-level-extent" id="Highlighting-C_002fC_002b_002b-and-C_0023">
<div class="nav-panel">
<p>
Next: <a href="#Highlighting-Diff-files" accesskey="n" rel="next">Highlighting Diff files</a>, Previous: <a href="#Tutorials-on-Language-Definitions" accesskey="p" rel="prev">Tutorials on Language Definitions</a>, Up: <a href="#Tutorials-on-Language-Definitions" accesskey="u" rel="up">Tutorials on Language Definitions</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Concept-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h4 class="subsection" id="Highlighting-C_002fC_002b_002b-and-C_0023-1"><span>7.18.1 Highlighting C/C++ and C#<a class="copiable-link" href="#Highlighting-C_002fC_002b_002b-and-C_0023-1"> &para;</a></span></h4>

<p>This is the language definition for C, included in the file
<samp class="file">c.lang</samp>:
</p>
<div class="example">
<pre class="example-preformatted"><span class="r"><i class="i"># definitions for C</i></span>
<b class="b">include</b> <code class="t">&quot;c_comment.lang&quot;</code>

<code class="t"><i class="i">label</i></code> = <code class="t">'^[[:blank:]]*[[:alnum:]]+:[[:blank:]]*\z'</code>

(<code class="t"><i class="i">keyword</i></code>,<code class="t"><i class="i">normal</i></code>,<code class="t"><i class="i">classname</i></code>) = 
  <code class="t">`(\&lt;struct)([[:blank:]]+)([[:alnum:]_]+)`</code>

<b class="b">state</b> <code class="t"><i class="i">preproc</i></code> <b class="b">start</b> <code class="t">'^[[:blank:]]*#(?:[[:blank:]]*include)'</code> <b class="b">begin</b>
        <code class="t"><i class="i">string</i></code> <b class="b">delim</b> <code class="t">&quot;&lt;&quot;</code> <code class="t">&quot;&gt;&quot;</code> 
        <code class="t"><i class="i">string</i></code> <b class="b">delim</b> <code class="t">&quot;\&quot;&quot;</code> <code class="t">&quot;\&quot;&quot;</code> <b class="b">escape</b> <code class="t">&quot;\\&quot;</code>
        <b class="b">include</b> <code class="t">&quot;c_comment.lang&quot;</code>
<b class="b">end</b>

<code class="t"><i class="i">preproc</i></code> = <code class="t">'^[[:blank:]]*#([[:blank:]]*[[:word:]]*)'</code>

<b class="b">include</b> <code class="t">&quot;number.lang&quot;</code>

<b class="b">include</b> <code class="t">&quot;c_string.lang&quot;</code>

<code class="t"><i class="i">keyword</i></code> = <code class="t">&quot;__asm|__cdecl|__declspec|__export|__far16&quot;</code>,
  <code class="t">&quot;__fastcall|__fortran|__import&quot;</code>,
  <code class="t">&quot;__pascal|__rtti|__stdcall|_asm|_cdecl&quot;</code>,
  <code class="t">&quot;__except|_export|_far16|_fastcall&quot;</code>,
  <code class="t">&quot;__finally|_fortran|_import|_pascal|_stdcall|__thread|__try|asm|auto&quot;</code>,
  <code class="t">&quot;break|case|catch|cdecl|const|continue|default&quot;</code>,
  <code class="t">&quot;do|else|enum|extern|for|goto&quot;</code>,
  <code class="t">&quot;if|pascal&quot;</code>,
  <code class="t">&quot;register|return|sizeof|static&quot;</code>,
  <code class="t">&quot;struct|switch&quot;</code>,
  <code class="t">&quot;typedef|union&quot;</code>,
  <code class="t">&quot;volatile|while&quot;</code>

<code class="t"><i class="i">type</i></code> = <code class="t">&quot;bool|char|double|float|int|long&quot;</code>,
  <code class="t">&quot;short|signed|unsigned|void|wchar_t&quot;</code>

<b class="b">include</b> <code class="t">&quot;symbols.lang&quot;</code>

<code class="t"><i class="i">cbracket</i></code> = <code class="t">&quot;{|}&quot;</code>

<b class="b">include</b> <code class="t">&quot;function.lang&quot;</code>

<b class="b">include</b> <code class="t">&quot;clike_vardeclaration.lang&quot;</code>

</pre></div>

<p>Note that this makes use of lots of <code class="code">include</code>s since these parts
are reused in other language definitions (e.g., Java has lots of parts
that are in common with C/C++ so we wrote these parts in separate
files).  In particular the comments definitions:
</p>
<div class="example">
<pre class="example-preformatted"><span class="r"><i class="i"># c_comment.lang</i></span>

<span class="r"><i class="i"># comments with documentation tags</i></span>
<b class="b">environment</b> <code class="t"><i class="i">comment</i></code> <b class="b">start</b> <code class="t">&quot;///&quot;</code> <b class="b">begin</b>
  <b class="b">include</b> <code class="t">&quot;url.lang&quot;</code>
  <b class="b">include</b> <code class="t">&quot;html_simple.lang&quot;</code>
  <code class="t"><i class="i">type</i></code> = <code class="t">'@[[:alpha:]]+'</code>
  <b class="b">include</b> <code class="t">&quot;todo.lang&quot;</code>
<b class="b">end</b>

<code class="t"><i class="i">comment</i></code> <b class="b">start</b> <code class="t">&quot;//&quot;</code>

<span class="r"><i class="i"># comments with documentation tags</i></span>
<b class="b">environment</b> <code class="t"><i class="i">comment</i></code> <b class="b">delim</b> <code class="t">&quot;/**&quot;</code> <code class="t">&quot;*/&quot;</code> <b class="b">multiline</b> <b class="b">begin</b>
  <b class="b">include</b> <code class="t">&quot;url.lang&quot;</code>
  <b class="b">include</b> <code class="t">&quot;html_simple.lang&quot;</code>
  <code class="t"><i class="i">type</i></code> = <code class="t">'@[[:alpha:]]+'</code>
  <b class="b">include</b> <code class="t">&quot;todo.lang&quot;</code>
<b class="b">end</b>

<span class="r"><i class="i"># standard comments</i></span>
<b class="b">environment</b> <code class="t"><i class="i">comment</i></code> <b class="b">delim</b> <code class="t">&quot;/*&quot;</code> <code class="t">&quot;*/&quot;</code> <b class="b">multiline</b> <b class="b">begin</b>
  <b class="b">include</b> <code class="t">&quot;url.lang&quot;</code>
  <b class="b">include</b> <code class="t">&quot;todo.lang&quot;</code>
<b class="b">end</b>
</pre></div>

<p>Here we have the definitions for line-wide comments (<code class="code">//</code>) and
for multi line comments where we highlight also URL addresses and
e-mail addresses (defined in the file <samp class="file">url.lang</samp> not shown here).
Moreover, for comments that are used in automatic documentation
generation tools (such as Doxygen or Javadoc), i.e., those that start
with <code class="code">/**</code> or <code class="code">///</code>) we also highlight the complete HTML
syntax (defined in the file <samp class="file">html.lang</samp> not shown here).
</p>
<p>Going back to <samp class="file">c.lang</samp> we see that we use subexpressions with names
(see <a class="ref" href="#Explicit-subexpressions-with-names">Explicit subexpressions with names</a>) for highlighting the
struct name (when preceded by <code class="code">struct</code>, highlighted as a keyword).
</p>
<p>For preprocessor directives <code class="code">#include</code> we use a state definition
since in this case the file included with the <code class="code">&lt;file&gt;</code> syntax must
be formatted as strings (and only in this context the <code class="code">&lt;&gt;</code> must be
considered as strings, anywhere else they are operators).  Since a state
erases definitions defined outside the state we must include
<samp class="file">c_comment.lang</samp> again in order to highlight comments also in this
context<a class="footnote" id="DOCF40" href="#FOOT40"><sup>40</sup></a>.  Then we
have a definition of <code class="code">preproc</code> that catches all the other
preprocessor directives.
</p>
<p>The included file <samp class="file">number.lang</samp> defines the regular expression that
catches number constants (not shown here), then we include the file
<samp class="file">c_string.lang</samp> that define strings (again shared by Java):
</p>
<div class="example">
<pre class="example-preformatted"><b class="b">vardef</b> <code class="t"><i class="i">SPECIALCHAR</i></code> = <code class="t">'\\.'</code>

<b class="b">environment</b> <code class="t"><i class="i">string</i></code> <b class="b">delim</b> <code class="t">&quot;\&quot;&quot;</code> <code class="t">&quot;\&quot;&quot;</code> <b class="b">begin</b>
  <code class="t"><i class="i">specialchar</i></code> = <code class="t"><i class="i">$SPECIALCHAR</i></code>
<b class="b">end</b>

<b class="b">environment</b> <code class="t"><i class="i">string</i></code> <b class="b">delim</b> <code class="t">&quot;'&quot;</code> <code class="t">&quot;'&quot;</code> <b class="b">begin</b>
  <code class="t"><i class="i">specialchar</i></code> = <code class="t"><i class="i">$SPECIALCHAR</i></code>
<b class="b">end</b>

</pre></div>

<p>inside a string we want to highlight in a different way the special
characters (such as, e.g., <code class="code">\n</code>, <code class="code">\t</code>, etc.)  and in general
escaped characters, matched by the regular expression &lsquo;<code class="code">\\.</code>&rsquo;.
</p>
<p>The included file <samp class="file">symbols.lang</samp> defines all the symbols (shared
also by other languages):
</p>
<div class="example">
<pre class="example-preformatted"><code class="t"><i class="i">symbol</i></code> = <code class="t">&quot;~&quot;</code>,<code class="t">&quot;!&quot;</code>,<code class="t">&quot;%&quot;</code>,<code class="t">&quot;^&quot;</code>,<code class="t">&quot;*&quot;</code>,<code class="t">&quot;(&quot;</code>,<code class="t">&quot;)&quot;</code>,<code class="t">&quot;-&quot;</code>,<code class="t">&quot;+&quot;</code>,<code class="t">&quot;=&quot;</code>,<code class="t">&quot;[&quot;</code>,
        <code class="t">&quot;]&quot;</code>,<code class="t">&quot;\\&quot;</code>,<code class="t">&quot;:&quot;</code>,<code class="t">&quot;;&quot;</code>,<code class="t">&quot;,&quot;</code>,<code class="t">&quot;.&quot;</code>,<code class="t">&quot;/&quot;</code>,<code class="t">&quot;?&quot;</code>,<code class="t">&quot;&amp;&quot;</code>,<code class="t">&quot;&lt;&quot;</code>,<code class="t">&quot;&gt;&quot;</code>,<code class="t">&quot;\|&quot;</code>
</pre></div>

<p>This has nothing interesting but the fact that it shows that
the character <code class="code">\</code> and <code class="code">|</code> have to be escaped.
</p>
<p>The included file <samp class="file">function.lang</samp> defines the regular expression to
match a function definition or invocation:
</p>
<div class="example">
<pre class="example-preformatted"><b class="b">vardef</b> <code class="t"><i class="i">FUNCTION</i></code> = <code class="t">'([[:alpha:]]|_)[[:word:]]*(?=[[:blank:]]*\()'</code>
<code class="t"><i class="i">function</i></code> = <code class="t"><i class="i">$FUNCTION</i></code>
</pre></div>

<p>that shows an example of forward lookahead assert for the opening
parenthesis (see <a class="ref" href="#Notes-on-regular-expressions">Notes on regular expressions</a>).  As noted in
<a class="ref" href="#File-inclusion">File inclusion</a>, it is crucial that this file is included after the
keyword definition.
</p>
<p>Finally, <samp class="file">c.lang</samp> includes the file
<samp class="file">clike_vardeclaration.lang</samp>:
</p>
<div class="example">
<pre class="example-preformatted">(<code class="t"><i class="i">usertype</i></code>,<code class="t"><i class="i">usertype</i></code>,<code class="t"><i class="i">normal</i></code>) = 
<code class="t">`([[:alpha:]_](?:[^[:punct:][:space:]]|[_])*)</code>
<code class="t">((?:&lt;.*&gt;)?)</code>
<code class="t">(\s+(?=[*&amp;]*[[:alpha:]_][^[:punct:][:space:]]*\s*[[:punct:]\[\]]+))`</code>

</pre></div>

<p>This definition, using subexpressions with names (see <a class="ref" href="#Explicit-subexpressions-with-names">Explicit subexpressions with names</a>), tries<a class="footnote" id="DOCF41" href="#FOOT41"><sup>41</sup></a> to match
user types (e.g., struct names) in function parameter and variable
declarations.  It basically tries to match a type identifier, then a
possible template specification<a class="footnote" id="DOCF42" href="#FOOT42"><sup>42</sup></a> and then we have a complete lookahead assert
(<a class="ref" href="#Notes-on-regular-expressions">Notes on regular expressions</a>) that tries to match the variable
identifier, possibly with <code class="code">&amp;</code> and <code class="code">*</code> reference and pointer
specification, followed by an assignment <code class="code">=</code> or a <code class="code">;</code>, more
generally a <code class="code">[:punct:]</code> or <code class="code">[]</code> (for array specifications).
This should catch the user types in the correct contexts, as in the
following (where we intentionally highlighted <code class="code">usertype</code> in
italics):
</p>
<div class="example">
<pre class="example-preformatted"><span class="r"><i class="i">Integer</i></span> i = 10;
<span class="r"><i class="i">Boolean</i></span> b;
<span class="r"><i class="i">String</i></span> args[];
<b class="b">const</b> <span class="r"><i class="i">MyType</i></span> args[];
<b class="b">const</b> <span class="r"><i class="i">My_Type</i></span> args[];
<span class="r"><i class="i">List&lt;Integer&gt;</i></span> mylist;
<span class="r"><i class="i">List&lt;List&lt;Integer&gt; &gt;</i></span> mylist;
myspace::<span class="r"><i class="i">InputStream</i></span> iStream ;
<span class="r"><i class="i">MyType</i></span> *t;
<span class="r"><i class="i">MyType</i></span> **t;
<b class="b">const</b> <span class="r"><i class="i">MyType</i></span> &amp;t;
<b class="b">if</b> (argc &gt; 0) { }
<span class="r"><i class="i">__mytype</i></span> _i;
<b class="b">typedef</b> <span class="r"><i class="i">_mytype</i></span> __i;

</pre></div>

<p>Note that since for the third group we use a lookahead assert, what is
matched is not actually formatted but it is put back in the input stream
so that it can be formatted using other rules (e.g., <code class="code">symbol</code> for
<code class="code">*</code> and <code class="code">=</code>).
</p>
<p>Since, at least syntactically, C++ is an extension of C, the language
definition for C++, included in the file <samp class="file">cpp.lang</samp>, relies on
<samp class="file">c.lang</samp><a class="footnote" id="DOCF43" href="#FOOT43"><sup>43</sup></a>:
</p>
<div class="example">
<pre class="example-preformatted"><span class="r"><i class="i"># definitions for C++</i></span>
<span class="r"><i class="i"># most of it is shared with c.lang</i></span>

(<code class="t"><i class="i">keyword</i></code>,<code class="t"><i class="i">normal</i></code>,<code class="t"><i class="i">classname</i></code>) = 
  <code class="t">`(\&lt;(?:class|struct|typename))([[:blank:]]+)([[:alnum:]_]+)`</code>

<code class="t"><i class="i">keyword</i></code> = <code class="t">&quot;class|const_cast|delete&quot;</code>,
  <code class="t">&quot;dynamic_cast|explicit|false|friend&quot;</code>,
  <code class="t">&quot;inline|mutable|namespace|new|operator|private|protected&quot;</code>,
  <code class="t">&quot;public|reinterpret_cast|static_cast&quot;</code>,
  <code class="t">&quot;template|this|throw|true&quot;</code>,
  <code class="t">&quot;try|typeid|typename&quot;</code>,
  <code class="t">&quot;using|virtual&quot;</code>

<b class="b">include</b> <code class="t">&quot;c.lang&quot;</code>

</pre></div>

<p>In particular, it extends the set of keywords.  Moreover, note that we
use subexpressions with names (see <a class="ref" href="#Explicit-subexpressions-with-names">Explicit subexpressions with names</a>) for highlighting the class (or struct) name (when preceded by
<code class="code">class</code>, <code class="code">struct</code> or <code class="code">typename</code>, highlighted as a
keyword).  A similar rule was also present in <samp class="file">c.lang</samp>, but it
concerned only <code class="code">struct</code>.
</p>
<p>Now that we wrote the language definition for C/C++, writing the one
for C# is straightforward, since we only need to add the keyword
<code class="code">using</code> as a preprocessor element, and redefine  (or better,
&ldquo;substitute&rdquo;, <a class="ref" href="#Redefinitions-and-Substitutions">Redefinitions and Substitutions</a>) the keywords
and types:
</p>
<div class="example">
<pre class="example-preformatted"><span class="r"><i class="i"># definitions for C-sharp</i></span>
<span class="r"><i class="i"># by S. HEMMI, updated by L. Bettini.</i></span>
<code class="t"><i class="i">preproc</i></code> = <code class="t">&quot;using&quot;</code>

<code class="t"><i class="i">number</i></code> = 
<code class="t">'\&lt;[+-]?((0x[[:xdigit:]]+)|(([[:digit:]]*\.)?</code>
<code class="t">[[:digit:]]+([eE][+-]?[[:digit:]]+)?))([FfDdMmUulL]+)?\&gt;'</code>

<b class="b">include</b> <code class="t">&quot;cpp.lang&quot;</code>

<b class="b">subst</b> <code class="t"><i class="i">keyword</i></code> = <code class="t">&quot;abstract|event|new|struct&quot;</code>,
 <code class="t">&quot;as|explicit|null|switch&quot;</code>,
 <code class="t">&quot;base|extern|this&quot;</code>,
 <code class="t">&quot;false|operator|throw&quot;</code>,
 <code class="t">&quot;break|finally|out|true&quot;</code>,
 <code class="t">&quot;fixed|override|try&quot;</code>,
 <code class="t">&quot;case|params|typeof&quot;</code>,
 <code class="t">&quot;catch|for|private&quot;</code>,
 <code class="t">&quot;foreach|protected&quot;</code>,
 <code class="t">&quot;checked|goto|public|unchecked&quot;</code>,
 <code class="t">&quot;class|if|readonly|unsafe&quot;</code>,
 <code class="t">&quot;const|implicit|ref&quot;</code>,
 <code class="t">&quot;continue|in|return&quot;</code>,
 <code class="t">&quot;virtual&quot;</code>,
 <code class="t">&quot;default|interface|sealed|volatile&quot;</code>,
 <code class="t">&quot;delegate|internal&quot;</code>,
 <code class="t">&quot;do|is|sizeof|while&quot;</code>,
 <code class="t">&quot;lock|stackalloc&quot;</code>,
 <code class="t">&quot;else|static&quot;</code>,
 <code class="t">&quot;enum|namespace&quot;</code>,
 <code class="t">&quot;get|partial|set&quot;</code>,
 <code class="t">&quot;value|where|yield&quot;</code>

<b class="b">subst</b> <code class="t"><i class="i">type</i></code> = <code class="t">&quot;bool|byte|sbyte|char|decimal|double&quot;</code>,
 <code class="t">&quot;float|int|uint|long|ulong|object&quot;</code>,
 <code class="t">&quot;short|ushort|string|void&quot;</code>

</pre></div>

<hr>
</div>
<div class="subsection-level-extent" id="Highlighting-Diff-files">
<div class="nav-panel">
<p>
Next: <a href="#Pseudo-semantic-analysis" accesskey="n" rel="next">Pseudo semantic analysis</a>, Previous: <a href="#Highlighting-C_002fC_002b_002b-and-C_0023" accesskey="p" rel="prev">Highlighting C/C++ and C#</a>, Up: <a href="#Tutorials-on-Language-Definitions" accesskey="u" rel="up">Tutorials on Language Definitions</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Concept-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h4 class="subsection" id="Highlighting-Diff-files-1"><span>7.18.2 Highlighting Diff files<a class="copiable-link" href="#Highlighting-Diff-files-1"> &para;</a></span></h4>

<p>Now we want to highlight files that are generated by <code class="code">diff</code>
(typically used to create patches).  This program can generate outputs
in three different formats (at least at best of my knowledge).
</p>
<p>With the option <code class="code">-u|--unified</code> the differences among files
are shown in the same context, for instance (the examples of the
diff files shown here are manually modified so that they can
fit in the page width):
</p>
<div class="example">
<pre class="example-preformatted">diff -ruP source-highlight-2.1.1/source-highlight.spec ...
<i class="i">--- source-highlight-2.1.1/source-highlight.spec ...</i>
<i class="i">+++ source-highlight-2.1.2/source-highlight.spec ...</i>
<b class="b">@@ -6,8 +6,8 @@</b>
 
 Summary:   syntax highlighting for source documents
 Name:      source-highlight
<i class="i">-Version:   2.1.1</i>
<i class="i">-Release:   2.1.1</i>
<i class="i">+Version:   2.1.2</i>
<i class="i">+Release:   2.1.2</i>
 License:   GPL
 Group:     Utilities/Console
 Source:    ftp://ftp.gnu.org/gnu/source-highlight/%{name}-%{version}.tar.gz

</pre></div>

<p>With the option <code class="code">-c--context</code> the differences are shown into
two different parts:
</p>
<div class="example">
<pre class="example-preformatted">diff -rc2P source-highlight-2.1.1/source-highlight.spec ...
<i class="i">*** source-highlight-2.1.1/source-highlight.spec ...</i>
<i class="i">--- source-highlight-2.1.2/source-highlight.spec ...</i>
<i class="i">***************</i>
<i class="i">*** 7,12 ****</i>
  Summary:   syntax highlighting for source documents
  Name:      source-highlight
<i class="i">! Version:   2.1.1</i>
<i class="i">! Release:   2.1.1</i>
  License:   GPL
  Group:     Utilities/Console
<i class="i">--- 7,12 ----</i>
  Summary:   syntax highlighting for source documents
  Name:      source-highlight
<i class="i">! Version:   2.1.2</i>
<i class="i">! Release:   2.1.2</i>
  License:   GPL
  Group:     Utilities/Console
diff -rc2P source-highlight-2.1.1/src/latex.outlang ...
<i class="i">*** source-highlight-2.1.1/src/latex.outlang ...</i>
<i class="i">--- source-highlight-2.1.2/src/latex.outlang ...</i>
<i class="i">***************</i>
<i class="i">*** 35,37 ****</i>
<i class="i">--- 35,38 ----</i>
  &quot;--&quot; &quot;-\\/-&quot;
  &quot;---&quot; &quot;-\\/-\\/-&quot;
<i class="i">+ &quot;\&quot;&quot; &quot;\&quot;{}&quot; # avoids problems with some inputenc</i>
  end

</pre></div>

<p>Without options it generates only the essential difference
information without any addition context lines:
</p>
<div class="example">
<pre class="example-preformatted">diff -rP source-highlight-2.1.1/source-highlight.spec ...
<b class="b">9,10c9,10</b>
<i class="i">&lt; Version:   2.1.1</i>
<i class="i">&lt; Release:   2.1.1</i>
---
<i class="i">&gt; Version:   2.1.2</i>
<i class="i">&gt; Release:   2.1.2</i>
</pre></div>

<p>Summarizing, we would like to be able to handle all these three
different syntaxes; note that the first format and the second format
have something conflicting: the first one uses the <code class="code">---</code> to
indicate the new version of a file while the second format uses it to
indicate the old version of a file.  Since we want to highlight
differently the old parts and the new parts (this is not visible in the
Texinfo highlighting due to the lack of enhanced formatting features,
but it is visible for instance in HTML output where we use two
different colors), this behavior adds some difficulties.  Of course, we
could define three different language definitions, one for each diff
output format.  However, we prefer to handle them all in the same
file!
</p>
<p>This is the language definition for diff files:
</p>
<div class="example">
<pre class="example-preformatted"><span class="r"><i class="i"># language definition for files created with &rsquo;diff&rsquo;</i></span>

<span class="r"><i class="i"># diff created with -u option</i></span>
<b class="b">state</b> <code class="t"><i class="i">oldfile</i></code> = <code class="t">'(?=^[-]{3})'</code> <b class="b">begin</b>
  <code class="t"><i class="i">oldfile</i></code> <b class="b">start</b> <code class="t">'^[-]{3}'</code>
  <code class="t"><i class="i">oldfile</i></code> <b class="b">start</b> <code class="t">'^[-]'</code>
  <code class="t"><i class="i">newfile</i></code> <b class="b">start</b> <code class="t">'^[+]'</code>
  <code class="t"><i class="i">difflines</i></code> <b class="b">start</b> <code class="t">'^@@'</code>
<b class="b">end</b>

<span class="r"><i class="i"># diff created with -c option</i></span>
<b class="b">state</b> <code class="t"><i class="i">oldfile</i></code> = <code class="t">'(?=^[*]{3})'</code> <b class="b">begin</b>
  <b class="b">environment</b> <code class="t"><i class="i">oldfile</i></code> = <code class="t">'^[*]{3}[[:blank:]]+[[:digit:]]'</code> <b class="b">begin</b>
    <code class="t"><i class="i">normal</i></code> <b class="b">start</b> <code class="t">'^[[:space:]]'</code>
    <code class="t"><i class="i">newfile</i></code> = <code class="t">'(?=^[-]{3})'</code> <b class="b">exit</b>
  <b class="b">end</b>
  <code class="t"><i class="i">oldfile</i></code> <b class="b">start</b> <code class="t">'^[*]{3}'</code>

  <b class="b">environment</b> <code class="t"><i class="i">newfile</i></code> = <code class="t">'^[-]{3}[[:blank:]]+[[:digit:]]'</code> <b class="b">begin</b>
    <code class="t"><i class="i">normal</i></code> <b class="b">start</b> <code class="t">'^[[:space:]]'</code>
    <code class="t"><i class="i">newfile</i></code> = <code class="t">'(?=^[*]{3})'</code> <b class="b">exit</b>
    <code class="t"><i class="i">normal</i></code> <b class="b">start</b> <code class="t">'^diff'</code> <b class="b">exit</b>
  <b class="b">end</b>
  <code class="t"><i class="i">newfile</i></code> <b class="b">start</b> <code class="t">'^[-]{3}'</code>
<b class="b">end</b>

<span class="r"><i class="i"># otherwise, created without options</i></span>
<b class="b">state</b> <code class="t"><i class="i">difflines</i></code> = <code class="t">'(?=^[[:digit:]])'</code> <b class="b">begin</b>
  <code class="t"><i class="i">difflines</i></code> <b class="b">start</b> <code class="t">'^[[:digit:]]'</code>
  <code class="t"><i class="i">oldfile</i></code> <b class="b">start</b> <code class="t">'^[&lt;]'</code>
  <code class="t"><i class="i">newfile</i></code> <b class="b">start</b> <code class="t">'^[&gt;]'</code>
<b class="b">end</b>

</pre></div>

<p>Since we can safely assume that when we process a diff file it contains
only information created with the same diff command line switch, we
define three different states that correspond to the three diff output
formats.  Note that these states are entered with a simple definition;
as noted in <a class="ref" href="#State_002fEnvironment-Definitions">State/Environment Definitions</a>, this means that no
automatic exit means are provided, and since no explicit exit condition
is specified, this means that once one of this state is entered it will
never be exited.  This is consistent with our goal.  Of course, the
expression that makes us enter a state must be defined correctly, and in
particular we first search for an initial <code class="code">---</code> sequence since this
is used as the first difference specification by the <code class="code">-u|--unified</code>
option, so this is a distinguishing feature to be used to
infer which diff format file we are processing.
</p>
<p>Another interesting thing, is that we use the forward lookahead assert
for the opening parenthesis (see <a class="ref" href="#Notes-on-regular-expressions">Notes on regular expressions</a>),
since we only want to see which file format we are processing.  Once we
entered the right state we can define the regular expressions for the
elements of the specific diff file format.
</p>
<p>For the files created with the option <code class="code">-c|--context</code> we define two
inner environments, one for the new file part and one for the old file
part (these are delimited by a <code class="code">---</code> or <code class="code">***</code> and line number
information).  Note that these are environments, so anything that is
not matched by any expression is formatted according to the style of the
element that defines the environment.  Thus, we provide an expression
for text that must be formatted as normal.  For diff files this
corresponds to a line that start with a space or with <code class="code">diff</code> (take
a look at the examples above).  In particular the latter case can take
place only during the new file part.  In both environments we must
define the exit conditions.  In both cases these correspond to the
beginning of the complementary part; also in this case we use forward
lookahead assertions, since we use it only to exit the environment.  The
outer definitions for <code class="code">oldfile</code> and <code class="code">newfile</code> are used to
match the lines with source file information information.
</p>
<p>The third state, corresponding to the normal diff output format, should
be straightforward by now.
</p>
<hr>
</div>
<div class="subsection-level-extent" id="Pseudo-semantic-analysis">
<div class="nav-panel">
<p>
Previous: <a href="#Highlighting-Diff-files" accesskey="p" rel="prev">Highlighting Diff files</a>, Up: <a href="#Tutorials-on-Language-Definitions" accesskey="u" rel="up">Tutorials on Language Definitions</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Concept-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h4 class="subsection" id="Pseudo-semantic-analysis-1"><span>7.18.3 Pseudo semantic analysis<a class="copiable-link" href="#Pseudo-semantic-analysis-1"> &para;</a></span></h4>

<p>Source-highlight, by means of regular expressions can only perform
lexical analysis of the input source.  In particular, it is based on the
assumption that the input source is syntactically correct with respect
to the input language.  However, by using the language definition syntax
and by writing the right regular expression it is  possible to simulate
some sort of semantic analysis of the input source.
</p>
<p>For instance, consider the following C (or C++) source file:
</p>
<div class="example">
<pre class="example-preformatted"><span class="r"><i class="i">// test special #if 0 treatment</i></span>

<b class="b">int</b> main() {
<b class="b">#if</b> 0 <span class="r"><i class="i">// equivalent to a comment</i></span>
  <b class="b">int</b> i = 10;
  printf(<code class="t">&quot;this should never be executed</code>\n<code class="t">&quot;</code>);
  <b class="b">return</b> 1;
<b class="b">#else</b>
  printf(<code class="t">&quot;Hello world!</code>\n<code class="t">&quot;</code>);
  <b class="b">return</b> 0;
<b class="b">#endif</b>

  printf(<code class="t">&quot;never reach here!</code>\n<code class="t">&quot;</code>);
}

</pre></div>

<p>It is easy to verify that the code between <code class="code">#if 0</code> and 
<code class="code">#else</code> will be never executed (indeed it will not even
be compiled).  Thus, we might want to format it as a comment.
</p>
<p>We then write another language definition file, based on the file
<samp class="file">cpp.lang</samp>:
</p>
<div class="example">
<pre class="example-preformatted"><b class="b">environment</b> <code class="t"><i class="i">comment</i></code> <b class="b">start</b> <code class="t">'^[[:blank:]]*#if[[:blank:]]+0'</code> <b class="b">begin</b>
  <code class="t"><i class="i">comment</i></code> <b class="b">start</b> <code class="t">'^[[:blank:]]*#(else|endif)'</code> <b class="b">exit</b>
<b class="b">end</b>

<b class="b">include</b> <code class="t">&quot;cpp.lang&quot;</code>

</pre></div>

<p>We intentionally included an error in this first version:
we used the <code class="code">start</code> element to start the environment,
but such element has the scope of a single line, thus,
it does not have the desired behavior:
</p>
<div class="example">
<pre class="example-preformatted"><span class="r"><i class="i">// test special #if 0 treatment</i></span>

<b class="b">int</b> main() {
<span class="r"><i class="i">#if 0 // equivalent to a comment</i></span>
  <b class="b">int</b> i = 10;
  printf(<code class="t">&quot;this should never be executed</code>\n<code class="t">&quot;</code>);
  <b class="b">return</b> 1;
<b class="b">#else</b>
  printf(<code class="t">&quot;Hello world!</code>\n<code class="t">&quot;</code>);
  <b class="b">return</b> 0;
<b class="b">#endif</b>

  printf(<code class="t">&quot;never reach here!</code>\n<code class="t">&quot;</code>);
}

</pre></div>

<p>A better solution is the following one:
</p>
<div class="example">
<pre class="example-preformatted"><b class="b">environment</b> <code class="t"><i class="i">comment</i></code> = <code class="t">'^[[:blank:]]*#[[:blank:]]*if[[:blank:]]+0'</code> <b class="b">begin</b>
  <code class="t"><i class="i">comment</i></code> <b class="b">start</b> <code class="t">'^[[:blank:]]*#[[:blank:]]*(else|endif)'</code> <b class="b">exit</b>
<b class="b">end</b>

<b class="b">include</b> <code class="t">&quot;cpp.lang&quot;</code>

</pre></div>

<p>here we enter the <code class="code">comment</code> environment by not using a delimited
element, but simply the regular expression to match <code class="code">#ifdef 0</code>.
Then we exit the environment either when we match an <code class="code">#else</code> or a
<code class="code">#endif</code>.  This seems to work:
</p>
<div class="example">
<pre class="example-preformatted"><span class="r"><i class="i">// test special #if 0 treatment</i></span>

<b class="b">int</b> main() {
<span class="r"><i class="i">#if 0 // equivalent to a comment</i></span>
<span class="r"><i class="i">  int i = 10;</i></span>
<span class="r"><i class="i">  printf(&quot;this should never be executed\n&quot;);</i></span>
<span class="r"><i class="i">  return 1;</i></span>
<span class="r"><i class="i">#else</i></span>
  printf(<code class="t">&quot;Hello world!</code>\n<code class="t">&quot;</code>);
  <b class="b">return</b> 0;
<b class="b">#endif</b>

  printf(<code class="t">&quot;never reach here!</code>\n<code class="t">&quot;</code>);
}

</pre></div>

<p>However, it does not work if we consider nested <code class="code">#if...#else</code>; for
instance consider the following code, formatted with the previous
language definition:
</p>
<div class="example">
<pre class="example-preformatted"><span class="r"><i class="i">// test special #if 0 treatment</i></span>

<b class="b">int</b> main() {
<span class="r"><i class="i">#if 0 // equivalent to a comment</i></span>
<span class="r"><i class="i">  int i = 10;</i></span>
<span class="r"><i class="i">  printf(&quot;this should never be executed\n&quot;);</i></span>
<span class="r"><i class="i">#  ifdef FOO</i></span>
<span class="r"><i class="i">  printf(&quot;foo\n&quot;);</i></span>
<span class="r"><i class="i">#     ifndef BAR</i></span>
<span class="r"><i class="i">  printf(&quot;no bar\n&quot;);</i></span>
<span class="r"><i class="i">#     else</i></span>
<b class="b">#     endif</b>
<b class="b">#  else</b>
  printf(<code class="t">&quot;no foo</code>\n<code class="t">&quot;</code>);
<b class="b">#  endif</b> <span class="r"><i class="i">// FOO</i></span>
  <b class="b">return</b> 1;
<b class="b">#else</b>
  printf(<code class="t">&quot;Hello world!</code>\n<code class="t">&quot;</code>);
  <b class="b">return</b> 0;
<b class="b">#endif</b>

  printf(<code class="t">&quot;never reach here!</code>\n<code class="t">&quot;</code>);
}

</pre></div>

<p>The problem is that the previous language definition does not consider
nested <code class="code">#if</code> and thus, the first time it matches a <code class="code">#else</code> or
an <code class="code">#endif</code> it exits the <code class="code">comment</code> environment.
</p>
<p>We must then take into account possible nested occurrences.  This can be
done by using a delimited element with the <code class="code">nested</code> option
(<a class="ref" href="#Delimited-definitions">Delimited definitions</a>):
</p>
<div class="example">
<pre class="example-preformatted"><span class="r"><i class="i"># treat the preprocess statement</i></span>
<span class="r"><i class="i">#  #if 0</i></span>
<span class="r"><i class="i">#    ...</i></span>
<span class="r"><i class="i">#  #else</i></span>
<span class="r"><i class="i"># as a comment</i></span>

<b class="b">environment</b> <code class="t"><i class="i">comment</i></code> = <code class="t">'^[[:blank:]]*#[[:blank:]]*if[[:blank:]]+0'</code> <b class="b">begin</b>
  <code class="t"><i class="i">comment</i></code> <b class="b">start</b> <code class="t">'^[[:blank:]]*#[[:blank:]]*else'</code> <b class="b">exit</b>
  <code class="t"><i class="i">comment</i></code> <b class="b">delim</b> <code class="t">'^[[:blank:]]*#[[:blank:]]*if'</code> 
                <code class="t">'^[[:blank:]]*#[[:blank:]]*endif'</code> <b class="b">multiline</b> <b class="b">nested</b>
  
<b class="b">end</b>

<b class="b">include</b> <code class="t">&quot;cpp.lang&quot;</code>


</pre></div>

<p>This time the right block of code is correctly formatted as a comment:
</p>
<div class="example">
<pre class="example-preformatted"><span class="r"><i class="i">// test special #if 0 treatment</i></span>

<b class="b">int</b> main() {
<span class="r"><i class="i">#if 0 // equivalent to a comment</i></span>
<span class="r"><i class="i">  int i = 10;</i></span>
<span class="r"><i class="i">  printf(&quot;this should never be executed\n&quot;);</i></span>
<span class="r"><i class="i">#  ifdef FOO</i></span>
<span class="r"><i class="i">  printf(&quot;foo\n&quot;);</i></span>
<span class="r"><i class="i">#     ifndef BAR</i></span>
<span class="r"><i class="i">  printf(&quot;no bar\n&quot;);</i></span>
<span class="r"><i class="i">#     else</i></span>
<span class="r"><i class="i">#     endif</i></span>
<span class="r"><i class="i">#  else</i></span>
<span class="r"><i class="i">  printf(&quot;no foo\n&quot;);</i></span>
<span class="r"><i class="i">#  endif // FOO</i></span>
<span class="r"><i class="i">  return 1;</i></span>
<span class="r"><i class="i">#else</i></span>
  printf(<code class="t">&quot;Hello world!</code>\n<code class="t">&quot;</code>);
  <b class="b">return</b> 0;
<b class="b">#endif</b>

  printf(<code class="t">&quot;never reach here!</code>\n<code class="t">&quot;</code>);
}

</pre></div>

<p>Note that it is crucial to exit the environment even when we match an
<code class="code">#else</code> (not only an <code class="code">#endif</code>, since, this way, we can match
again another <code class="code">#ifdef 0</code>; consider, for instance, the following
code:
</p>
<div class="example">
<pre class="example-preformatted"><span class="r"><i class="i">// test special #if 0 treatment</i></span>

<b class="b">int</b> main() {
<span class="r"><i class="i">#if 0 // equivalent to a comment</i></span>
<span class="r"><i class="i">  int i = 10;</i></span>
<span class="r"><i class="i">  printf(&quot;this should never be executed\n&quot;);</i></span>
<span class="r"><i class="i">  return 1;</i></span>
<span class="r"><i class="i">#else</i></span>
  printf(<code class="t">&quot;Hello world!</code>\n<code class="t">&quot;</code>);
<span class="r"><i class="i">#   if 0 // another one</i></span>
<span class="r"><i class="i">  return 1;</i></span>
<span class="r"><i class="i">#   else</i></span>
  <b class="b">return</b> 0;
<b class="b">#   endif</b>
<b class="b">#endif</b>

  printf(<code class="t">&quot;never reach here!</code>\n<code class="t">&quot;</code>);
}

</pre></div>

<hr>
</div>
</div>
</div>
<div class="chapter-level-extent" id="Output-Language-Definitions">
<div class="nav-panel">
<p>
Next: <a href="#Generating-References" accesskey="n" rel="next">Generating References</a>, Previous: <a href="#Language-Definitions" accesskey="p" rel="prev">Language Definitions</a>, Up: <a href="#Top" accesskey="u" rel="up">GNU Source-highlight</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Concept-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h2 class="chapter" id="Output-Language-Definitions-1"><span>8 Output Language Definitions<a class="copiable-link" href="#Output-Language-Definitions-1"> &para;</a></span></h2>
<a class="index-entry-id" id="index-output-language-definition"></a>

<p>Since version 2.1 source-highlight uses a specific syntax to specify
output formats (e.g., how to format in HTML, LaTeX, etc.).  Before
version 2.1, in order to add a new output format, many C++ classes had
to be written.  This had the drawback that a new output format could not
be added &ldquo;dynamically&rdquo;: you had to recompile the whole
source-highlight program.
</p>
<p>Instead, now, an output format is specified in a file, loaded
dynamically, through a (hopefully) simple syntax.  Then, these
definitions are used internally to create, on-the-fly,  text formatters.
</p>
<p>Here, we see such syntax in details, by relying on many examples.  This
allows a user to easily modify an existing output format definition and
create a new one.  These files have, typically, extension
<samp class="file">.outlang</samp>.
</p>
<p>Each definition basically associates a text style (such as, e.g., bold,
italics, colors, etc.)  to the representation of that style into the
output format (such as, e.g., <code class="code">&lt;b&gt;$text&lt;/b&gt;</code> in HTML).  The
representation is given in <code class="code">&quot;</code> and you can use the classic escape
character <code class="code">\</code> to use the <code class="code">&quot;</code> inside the definition.  If you
want to specify the ASCII code for a character you can do so by
specifying the numeric code in hexadecimal notation preceded by
<code class="code">\x</code>, for an example, see <a class="ref" href="#Style-template">Style template</a>.
</p>
<p>If no definition is given for a specific style, e.g., bold, then when
that style is requested during formatting, the text will be formatted as
it is, i.e., the style without the definition is simply ignored.
</p>
<p>Comments can be given by using <code class="code">#</code>; the rest of the line is
considered as a comment.
</p>
<p>Files can be included in the same way as for language definitions,
<a class="ref" href="#File-inclusion">File inclusion</a>.
</p>
<p>In any case, if a definition for a style is given more than once, the
last definition replaces all the others.
</p>

<ul class="mini-toc">
<li><a href="#File-extension" accesskey="1">File extension</a></li>
<li><a href="#Text-styles" accesskey="2">Text styles</a></li>
<li><a href="#Colors" accesskey="3">Colors</a></li>
<li><a href="#Anchors-and-References" accesskey="4">Anchors and References</a></li>
<li><a href="#One-style" accesskey="5">One style</a></li>
<li><a href="#Style-template" accesskey="6">Style template</a></li>
<li><a href="#Line-prefix" accesskey="7">Line prefix</a></li>
<li><a href="#String-translation" accesskey="8">String translation</a></li>
<li><a href="#Document-template" accesskey="9">Document template</a></li>
<li><a href="#Generating-HTML-output">Generating HTML output</a></li>
</ul>
<hr>
<div class="section-level-extent" id="File-extension">
<div class="nav-panel">
<p>
Next: <a href="#Text-styles" accesskey="n" rel="next">Text styles</a>, Previous: <a href="#Output-Language-Definitions" accesskey="p" rel="prev">Output Language Definitions</a>, Up: <a href="#Output-Language-Definitions" accesskey="u" rel="up">Output Language Definitions</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Concept-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h3 class="section" id="File-extension-1"><span>8.1 File extension<a class="copiable-link" href="#File-extension-1"> &para;</a></span></h3>

<p>With the line:
</p>
<div class="example">
<pre class="example-preformatted">extension &quot;&lt;file extension&gt;&quot;
</pre></div>

<p>you define the default file extension (without the <code class="code">.</code>) used to
generate files formatted according to this output format.  This is used
when no output file name is specified; if the file extension is not
included in the <code class="code">.outlang</code> is not defined, and no output file name
is specified, an error will occur.
</p>
<p>For instance, this is used in <samp class="file">html_common.outlang</samp>:
</p>
<div class="example">
<pre class="example-preformatted">extension &quot;html&quot;
</pre></div>

<hr>
</div>
<div class="section-level-extent" id="Text-styles">
<div class="nav-panel">
<p>
Next: <a href="#Colors" accesskey="n" rel="next">Colors</a>, Previous: <a href="#File-extension" accesskey="p" rel="prev">File extension</a>, Up: <a href="#Output-Language-Definitions" accesskey="u" rel="up">Output Language Definitions</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Concept-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h3 class="section" id="Text-styles-1"><span>8.2 Text styles<a class="copiable-link" href="#Text-styles-1"> &para;</a></span></h3>
<a class="index-entry-id" id="index-bold-1"></a>
<a class="index-entry-id" id="index-italics-1"></a>
<a class="index-entry-id" id="index-underline-1"></a>
<a class="index-entry-id" id="index-fixed-1"></a>
<a class="index-entry-id" id="index-notfixed-1"></a>

<p>These are the text styles that one can define:
</p>
<div class="example">
<pre class="example-preformatted">bold
italics
underline
notfixed
fixed
</pre></div>

<p>These, of course, correspond to the ones used to specify the output
format style, <a class="ref" href="#Output-format-style">Output format style</a>.
</p>
<p>These definitions, for instance, are from the HTML format definition:
</p>
<div class="example">
<pre class="example-preformatted">bold &quot;&lt;b&gt;$text&lt;/b&gt;&quot;
italics &quot;&lt;i&gt;$text&lt;/i&gt;&quot;
underline &quot;&lt;u&gt;$text&lt;/u&gt;&quot;
</pre></div>

<a class="index-entry-id" id="index-_0024text"></a>
<p>Inside a definition you use the special variable <code class="code">$text</code> to specify
where the actual text to be formatted has to be inserted.  For instance,
the definition of <code class="code">bold</code> above says that if you need to format the
keyword <code class="code">class</code> in bold in HTML, the following text will be
generated: <code class="code">&lt;b&gt;class&lt;/b&gt;</code>.  This variable is used also when mixing
more than one styles recursively, in particular if you want to format in
bold and italics (i.e, first bold and then italics, or, in other words,
the sequence <code class="code">i, b</code> is used in the the output format style file, see
<a class="ref" href="#Output-format-style">Output format style</a>), then first the text
<code class="code">class</code> is substituted for <code class="code">$text</code> into <code class="code">&lt;b&gt;$text&lt;/b&gt;</code>
and then the text <code class="code">&lt;b&gt;class&lt;/b&gt;</code> will be substituted for
<code class="code">$text</code> into <code class="code">&lt;i&gt;$text&lt;/i&gt;</code>, thus obtaining
<code class="code">&lt;i&gt;&lt;b&gt;class&lt;/b&gt;&lt;/i&gt;</code>.
</p>
<hr>
</div>
<div class="section-level-extent" id="Colors">
<div class="nav-panel">
<p>
Next: <a href="#Anchors-and-References" accesskey="n" rel="next">Anchors and References</a>, Previous: <a href="#Text-styles" accesskey="p" rel="prev">Text styles</a>, Up: <a href="#Output-Language-Definitions" accesskey="u" rel="up">Output Language Definitions</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Concept-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h3 class="section" id="Colors-1"><span>8.3 Colors<a class="copiable-link" href="#Colors-1"> &para;</a></span></h3>
<a class="index-entry-id" id="index-colors"></a>
<a class="index-entry-id" id="index-_0024style"></a>

<p>The definition for using colors during formatting requires
the definition for the <code class="code">color</code> style
</p>
<div class="example">
<pre class="example-preformatted">color &quot;...&quot;
</pre></div>

<a class="index-entry-id" id="index-background-color-2"></a>
<p>and for the <code class="code">bgcolor</code> style<a class="footnote" id="DOCF44" href="#FOOT44"><sup>44</sup></a>:
</p>
<div class="example">
<pre class="example-preformatted">bgcolor &quot;...&quot;
</pre></div>

<p>This definition concerns only the background color for a specific
highlighted element, i.e., the color specified in the style file with
the prefix <code class="code">bg:</code> (see <a class="ref" href="#Output-format-style">Output format style</a>) or the property
<code class="code">background-color</code> specified in a CSS file passed to
<code class="code">--style-css-file</code> (see <a class="ref" href="#Output-format-style-using-CSS">Output format style using CSS</a>).
Thus it should not be confused with the background color of the entire
output (i.e., the one specified using <code class="code">bgcolor</code> in a style file or
the property <code class="code">background-color</code> of the <code class="code">body</code> selector in a
CSS).  The background color for the entire document is explained in
<a class="ref" href="#Document-template">Document template</a>.
</p>
<p>Note that the background color might not be available for all output
formats.   For instance, for HTML we only have:
</p>
<div class="example">
<pre class="example-preformatted">color &quot;&lt;font color=\&quot;$style\&quot;&gt;$text&lt;/font&gt;&quot;
</pre></div>

<p>while for XHTML we have:
</p>
<div class="example">
<pre class="example-preformatted">color &quot;&lt;span style=\&quot;color: $style\&quot;&gt;$text&lt;/span&gt;&quot;
bgcolor &quot;&lt;span style=\&quot;background-color: $style\&quot;&gt;$text&lt;/span&gt;&quot;
</pre></div>

<p>Apart from the variable <code class="code">$text</code> that we already saw, we
have also the variable <code class="code">$style</code>, that will be replaced
with the actual color.
</p>
<p>Source-highlight recognizes a number of color constants,
see <a class="ref" href="#Output-format-style">Output format style</a>.
</p>
<p>You then must associate a color constant to the color definition in the
output format, through the <code class="code">colormap</code> definition:
</p>
<div class="example">
<pre class="example-preformatted">colormap
&quot;color constant&quot; &quot;color representation&quot;
&quot;color constant&quot; &quot;color representation&quot;
...
default &quot;default color representation&quot;
end
</pre></div>

<p>The <code class="code">default</code> row (note the absence of <code class="code">&quot;</code>) defines the
color to be used in case a color constant is used during formatting, but
it is not defined in the output format.
</p>
<p>For instance, for HTML we have:
</p>
<div class="example">
<pre class="example-preformatted">colormap
&quot;green&quot; &quot;#33CC00&quot;
&quot;red&quot; &quot;#FF0000&quot;
&quot;darkred&quot; &quot;#990000&quot;
&quot;blue&quot; &quot;#0000FF&quot;
&quot;brown&quot; &quot;#9A1900&quot;
&quot;pink&quot; &quot;#CC33CC&quot;
&quot;yellow&quot; &quot;#FFCC00&quot;
&quot;cyan&quot; &quot;#66FFFF&quot;
&quot;purple&quot; &quot;#993399&quot;
&quot;orange&quot; &quot;#FF6600&quot;
&quot;brightorange&quot; &quot;#FF9900&quot;
&quot;brightgreen&quot; &quot;#33FF33&quot;
&quot;darkgreen&quot; &quot;#009900&quot;
&quot;black&quot; &quot;#000000&quot;
&quot;teal&quot; &quot;#008080&quot;
&quot;gray&quot; &quot;#808080&quot;
&quot;darkblue&quot; &quot;#000080&quot;
default &quot;#000000&quot;
end
</pre></div>

<p>If your output format does not handle colors you can simply avoid the
definitions of <code class="code">color</code> and <code class="code">colormap</code> and Source-highlight
will simply ignore colors.
</p>
<p>The color is applied after applying the other styles,
e.g., bold, italics, etc.
</p>
<p>Thus, by continuing the example of the previous section, suppose you defined
the following output style for keywords:
</p>
<div class="example">
<pre class="example-preformatted">keyword blue i, b;
</pre></div>

<p>then the <code class="code">class</code> text will be replaced to <code class="code">$text</code> variable and
the value <code class="code">#0000FF</code> to <code class="code">$style</code> inside the color definition
<code class="code">&lt;font color=&quot;$style&quot;&gt;$text&lt;/font&gt;</code> obtaining <code class="code">&lt;font
color=&quot;#0000FF&quot;&gt;class&lt;/font&gt;</code> which will then be replaced to
<code class="code">$text</code> in <code class="code">&lt;b&gt;$text&lt;/b&gt;</code> and so on for italics, finally
obtaining 
</p>
<p><code class="code">&lt;i&gt;&lt;b&gt;&lt;font color=&quot;#0000FF&quot;&gt;class&lt;/font&gt;&lt;/b&gt;&lt;/i&gt;</code>.
</p>
<hr>
</div>
<div class="section-level-extent" id="Anchors-and-References">
<div class="nav-panel">
<p>
Next: <a href="#One-style" accesskey="n" rel="next">One style</a>, Previous: <a href="#Colors" accesskey="p" rel="prev">Colors</a>, Up: <a href="#Output-Language-Definitions" accesskey="u" rel="up">Output Language Definitions</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Concept-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h3 class="section" id="Anchors-and-References-1"><span>8.4 Anchors and References<a class="copiable-link" href="#Anchors-and-References-1"> &para;</a></span></h3>
<a class="index-entry-id" id="index-_0024linenum"></a>

<p>When using the command line option <code class="code">--line-number-ref</code>
(<a class="ref" href="#Invoking-source_002dhighlight">Invoking <code class="command">source-highlight</code></a>) an anchor is generated in the output
file for each line numbering.  The style of the anchor is defined by the
definition <code class="code">anchor</code>.  If this is not defined, the option
<code class="code">--line-number-ref</code> has no effect.  The <code class="code">$linenum</code> variable will
be replaced with the line number, and the <code class="code">$text</code> variable
with the actual text.
</p>
<p>For instance, for HTML we have
</p>
<div class="example">
<pre class="example-preformatted">anchor &quot;&lt;a name=\&quot;$linenum\&quot;&gt;$text&lt;/a&gt;&quot;
</pre></div>

<a class="index-entry-id" id="index-_0024infile"></a>
<a class="index-entry-id" id="index-_0024infilename"></a>
<a class="index-entry-id" id="index-_0024outfile"></a>
<p>Since version 2.2 source-highlight can also generate references to
several elements (e.g., variables, class definitions, etc.),
<a class="ref" href="#Generating-References">Generating References</a>.  Also in this case the definition
<code class="code">anchor</code> is used; furthermore, the definition of <code class="code">reference</code>
is required.   In the definition of <code class="code">anchor</code> and <code class="code">reference</code>,
apart from the variable <code class="code">$linenum</code>, we also have the variables
<code class="code">$infile</code> (the name of the original input file) and
<code class="code">$infilename</code> (the name of the original input file without the
path) and in the definition of <code class="code">reference</code> we also have the
variable <code class="code">$outfile</code> (the name of the file where the anchor is).
One can decide how to define an anchor and a reference by using these
two variables.  For instance, for HTML we have
</p>
<div class="example">
<pre class="example-preformatted">reference &quot;&lt;a href=\&quot;$outfile#$linenum\&quot;&gt;$text&lt;/a&gt;&quot;
</pre></div>

<p>Note, that in this case we use the <code class="code">$outfile</code> since we actually
generate a link to another (or possibly the same) output file.
</p>
<p>On the contrary, for LaTeX, since we do not generate a &ldquo;clickable&rdquo;
reference, we refer to the original input file (we use both
<code class="code">$infilename</code> and <code class="code">$linenum</code> in both definitions of <code class="code">anchor</code>
and <code class="code">reference</code>):
</p>
<div class="example">
<pre class="example-preformatted">anchor &quot;\label{$infilename:$linenum}$text&quot;
reference &quot;{\hfill $text $\rightarrow$ $infile:$linenum, \
           page~\pageref{$infilename:$linenum}}&quot;
</pre></div>

<p>In particular, we use <code class="code">$infilename</code> for generating the
<code class="code">\label</code> and not <code class="code">$infile</code> because the path symbol would
&ldquo;disturb&rdquo; LaTeX (while we use the complete file path in the textual
information of the reference).
</p>
<p>This will generate a right aligned reference.  Note that it is assumed
that when generating references in LaTeX one uses
<code class="code">--gen-references=postline</code> or <code class="code">--gen-references=postdoc</code> and
not <code class="code">--gen-references=inline</code> (<a class="ref" href="#Generating-References">Generating References</a>), since
it makes no sense to generate an inline reference (or at least I would
not know how to generate a nice looking one :-).
</p>
<p>Furthermore, for Texinfo:
</p>
<div class="example">
<pre class="example-preformatted">anchor &quot;@anchor{$infilename:$linenum}$text&quot;
reference &quot;@flushright
@xref{$infilename:$linenum,$text,$text $infile:$linenum}.
@end flushright&quot;
</pre></div>

<p>Note that using both <code class="code">$infilename</code> (and not <code class="code">$infile</code> for
the same reasons) and <code class="code">$linenum</code> also in the definition of
<code class="code">anchor</code> somehow ensures that there are no duplicate anchors; this
is done for LaTeX and Texinfo but not for HTML because it is assumed
that the generated <samp class="file">.tex</samp> and <samp class="file">.texinfo</samp> file is included
directly in a master file, as it is done in this manual (while, for
instance, it is assumed that a separate HTML file is generated for each
source and kept separate).  If this is not your case you can change the
definitions of <code class="code">anchor</code> and <code class="code">reference</code> as you see fit.  Some
examples of outputs with references in Texinfo are shown in
<a class="ref" href="#Examples">Examples</a>.
</p>
<a class="index-entry-id" id="index-inline_005freference"></a>
<a class="index-entry-id" id="index-postline_005freference"></a>
<a class="index-entry-id" id="index-postdoc_005freference"></a>
<p>Indeed, one can use three more definitions for <code class="code">reference</code> that
corresponds to the three arguments that can be passed to
<code class="code">--gen-references</code> command line option (<a class="ref" href="#Generating-References">Generating References</a>): <code class="code">inline_reference</code>, <code class="code">postline_reference</code> and
<code class="code">postdoc_reference</code>.  If one of this not defined, then the same
definition of <code class="code">reference</code> is used.  Having the possibility of
specifying different definitions is useful for instance in the case of
HTML: the same style for an inline reference is pretty ugly when used
also for a postline or postdoc reference:
</p>
<div class="example smallexample">
<pre class="example-preformatted">postline_reference &quot;&lt;a href=\&quot;$outfile#$linenum\&quot;&gt;$text -&gt; $infile:$linenum&lt;/a&gt;&quot;
postdoc_reference &quot;&lt;a href=\&quot;$outfile#$linenum\&quot;&gt;$text -&gt; $infile:$linenum&lt;/a&gt;&quot;
reference &quot;&lt;a href=\&quot;$outfile#$linenum\&quot;&gt;$text&lt;/a&gt;&quot;
</pre></div>

<hr>
</div>
<div class="section-level-extent" id="One-style">
<div class="nav-panel">
<p>
Next: <a href="#Style-template" accesskey="n" rel="next">Style template</a>, Previous: <a href="#Anchors-and-References" accesskey="p" rel="prev">Anchors and References</a>, Up: <a href="#Output-Language-Definitions" accesskey="u" rel="up">Output Language Definitions</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Concept-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h3 class="section" id="One-style-1"><span>8.5 One style<a class="copiable-link" href="#One-style-1"> &para;</a></span></h3>
<a class="index-entry-id" id="index-one-style"></a>

<p>If the output format you are defining does not have a specific style
for bold, italics, ... and for colors you can simply use the definition
<code class="code">onestyle</code>, where you can use both <code class="code">$style</code> and <code class="code">$text</code>.
This will be used for any style (indeed any other definition such as
bold, italics, color will be ignored).  Indeed, in this case, it is
assumed that the style of each source element is defined in a file with
its own syntax, i.e., not with a syntax defined by Source-highlight.
(This is the case, for instance, of HTML using CSS style sheets.)
Moreover, since the output format style is not used, during formatting
the variable <code class="code">$style</code> will be replaced with the name of the element
to highlight (e.g., <code class="code">keyword</code>, <code class="code">comment</code>, etc.).
</p>
<p>For instance, for HTML CSS, we simply have:
</p>
<div class="example">
<pre class="example-preformatted">onestyle &quot;&lt;span class=\&quot;$style\&quot;&gt;$text&lt;/span&gt;&quot;
</pre></div>

<p>In fact, HTML CSS relies on style definitions provided in a separate
file (the <samp class="file">.css</samp> file indeed).  Thus, when formatting a
<code class="code">keyword</code>, e.g., <code class="code">abstract</code>, we will obtain:
</p>
<div class="example">
<pre class="example-preformatted">&lt;span class=&quot;keyword&quot;&gt;abstract&lt;/span&gt;
</pre></div>

<p>Of course, the style for <code class="code">keyword</code> must be defined in the
<samp class="file">.css</samp> file.
</p>
<hr>
</div>
<div class="section-level-extent" id="Style-template">
<div class="nav-panel">
<p>
Next: <a href="#Line-prefix" accesskey="n" rel="next">Line prefix</a>, Previous: <a href="#One-style" accesskey="p" rel="prev">One style</a>, Up: <a href="#Output-Language-Definitions" accesskey="u" rel="up">Output Language Definitions</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Concept-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h3 class="section" id="Style-template-1"><span>8.6 Style template<a class="copiable-link" href="#Style-template-1"> &para;</a></span></h3>
<a class="index-entry-id" id="index-style-template"></a>
<a class="index-entry-id" id="index-style-separator"></a>

<p>Some output formats are based on a unique template that where the other
styles are composed; during composition the styles can be separated with
a specific separator:
</p>
<div class="example">
<pre class="example-preformatted">styletemplate &quot;...&quot;
styleseparator &quot;...&quot;
</pre></div>

<p>This is used, for instance, for the ANSI color escape sequence
output format (<samp class="file">esc.outlang</samp>):
</p>
<div class="example">
<pre class="example-preformatted">styletemplate &quot;\x1b[$stylem$text\x1b[m&quot;
styleseparator &quot;;&quot;

bold &quot;01$style&quot;
underline &quot;04$style&quot;
italics &quot;$style&quot;
color &quot;$style&quot;
</pre></div>

<p>Note that, since more than one style can be mixed into the style
template, <code class="code">bold</code>, <code class="code">underline</code>, ... explicitly use the variable
<code class="code">$style</code>.
</p>
<hr>
</div>
<div class="section-level-extent" id="Line-prefix">
<div class="nav-panel">
<p>
Next: <a href="#String-translation" accesskey="n" rel="next">String translation</a>, Previous: <a href="#Style-template" accesskey="p" rel="prev">Style template</a>, Up: <a href="#Output-Language-Definitions" accesskey="u" rel="up">Output Language Definitions</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Concept-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h3 class="section" id="Line-prefix-1"><span>8.7 Line prefix<a class="copiable-link" href="#Line-prefix-1"> &para;</a></span></h3>

<p>This feature allows you to generate a string as the prefix of each
generated line that corresponds to an input line (i.e., this prefix is
not generated for other generated output elements, e.g., the lines in
the header, footer, etc.).
</p>
<p>We use this feature in the LaTeX output (<a class="ref" href="#LaTeX-output">LaTeX output</a>):
</p>
<div class="example">
<pre class="example-preformatted">lineprefix &quot;\mbox{}&quot;
</pre></div>

<p>This way each line in the LaTeX output is prefixed with
<code class="code">\mbox{}</code><a class="footnote" id="DOCF45" href="#FOOT45"><sup>45</sup></a>.
</p>
<p>Another interesting example that uses <code class="code">lineprefix</code> is the javadoc
output, see <a class="ref" href="#Generating-HTML-output">Generating HTML output</a>.
</p>
<hr>
</div>
<div class="section-level-extent" id="String-translation">
<div class="nav-panel">
<p>
Next: <a href="#Document-template" accesskey="n" rel="next">Document template</a>, Previous: <a href="#Line-prefix" accesskey="p" rel="prev">Line prefix</a>, Up: <a href="#Output-Language-Definitions" accesskey="u" rel="up">Output Language Definitions</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Concept-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h3 class="section" id="String-translation-1"><span>8.8 String translation<a class="copiable-link" href="#String-translation-1"> &para;</a></span></h3>

<p>Some character sequences that are in the source file may have a
special meaning in an output format, so they need some preprocessing
(e.g., escaping them).  You can specify the translation table with:
</p>
<div class="example">
<pre class="example-preformatted">translations
&quot;original sequence&quot; &quot;transformed sequence&quot;
'regex' &quot;transformed sequence&quot;
...
end
</pre></div>

<p>The difference between <code class="code">&quot;original sequence&quot;</code> and
<code class="code">'regex'</code><a class="footnote" id="DOCF46" href="#FOOT46"><sup>46</sup></a> is that with the former
you specify a character sequence that will be matched literally, apart
from special characters such as <code class="code">\</code> (which, if needed to be
inserted, must be escaped), <code class="code">\n</code> (new line) and <code class="code">\t</code> (tab
character).  Instead, with the latter, you can specify a regular
expression (this is basically the same difference between <code class="code">&quot;</code> and
<code class="code">'</code> in language definitions, see <a class="ref" href="#Simple-definitions">Simple definitions</a>).
</p>
<p>For instance, for HTML, we have the following translation table:
</p>
<div class="example">
<pre class="example-preformatted">translations
&quot;&amp;&quot; &quot;&amp;amp;&quot;
&quot;&lt;&quot; &quot;&amp;lt;&quot;
&quot;&gt;&quot; &quot;&amp;gt;&quot;
end
</pre></div>

<p>For LaTeX, the translation table is a little bit bigger; here we
show only a little part, that shows how to escape special characters
(such as <code class="code">\</code>), to translate a new line character and tab
character:
</p>
<div class="example">
<pre class="example-preformatted">translations
&quot;&lt;&quot; &quot;$&lt;$&quot;
&quot;&gt;&quot; &quot;$&gt;$&quot;
&quot;&amp;&quot; &quot;\\&amp;&quot;
&quot;\\&quot; &quot;\\textbackslash{}&quot;
&quot;\n&quot; &quot; \\\\\n&quot;
&quot; &quot; &quot;\\ &quot;
&quot;\t&quot; &quot;\\ \\ \\ \\ \\ \\ \\ \\ &quot;
end
</pre></div>

<p>Note that, since a new character must be translated in LaTeX with
<code class="code">\\</code>, we have to escape two <code class="code">\</code> (i.e., <code class="code">\\\\</code>) and then
we want to actually insert a new line in the output file <code class="code">\n</code>.
</p>
<p>For HTML with not fixed font by default, <samp class="file">html_notfixed.outlang</samp>
(see <a class="ref" href="#HTML-and-XHTML-output">HTML and XHTML output</a>), we need two translate two space sequence
(i.e., two adjacent spaces, since in HTML more adjacent spaces are
rendered as only one space<a class="footnote" id="DOCF47" href="#FOOT47"><sup>47</sup></a>, while we want them as they are), and we also
need to translate a space starting a new line in the source (thus we
use the regular expression <code class="code">^ </code>, enclosed in <code class="code">'</code>); thus we
have:
</p>
<div class="example">
<pre class="example-preformatted">translations
&quot;\n&quot; &quot;&lt;br&gt;\n&quot;
&quot;  &quot; &quot;&amp;nbsp; &quot;
'^ ' &quot;&amp;nbsp;&quot; # a space at the beginning of a line
&quot;\t&quot; &quot;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &quot;
end
</pre></div>

<hr>
</div>
<div class="section-level-extent" id="Document-template">
<div class="nav-panel">
<p>
Next: <a href="#Generating-HTML-output" accesskey="n" rel="next">Generating HTML output</a>, Previous: <a href="#String-translation" accesskey="p" rel="prev">String translation</a>, Up: <a href="#Output-Language-Definitions" accesskey="u" rel="up">Output Language Definitions</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Concept-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h3 class="section" id="Document-template-1"><span>8.9 Document template<a class="copiable-link" href="#Document-template-1"> &para;</a></span></h3>

<p>You can define the beginning and the end of an output file, with
</p>
<a class="index-entry-id" id="index-doctemplate"></a>
<div class="example">
<pre class="example-preformatted">doctemplate
&quot;...beginning...&quot;
&quot;...end...&quot;
end
</pre></div>

<a class="index-entry-id" id="index-nodoctemplate"></a>
<div class="example">
<pre class="example-preformatted">nodoctemplate
&quot;...beginning...&quot;
&quot;...end...&quot;
end
</pre></div>

<p>The first one is used when the <code class="code">--doc</code> command line option is
specified, while the second one is used in the other case<a class="footnote" id="DOCF48" href="#FOOT48"><sup>48</sup></a>.
</p>
<p>For instance, for HTML we have
</p>
<div class="example">
<pre class="example-preformatted">nodoctemplate
&quot;&lt;!-- Generator: $additional --&gt;
$header&lt;pre&gt;&lt;tt&gt;&quot;
&quot;&lt;/tt&gt;&lt;/pre&gt;$footer
&quot;
end
</pre></div>

<p>Note that in the end part there is an explicit new line.
</p>
<p>In the definition of the <code class="code">doctemplate</code> and <code class="code">nodoctemplate</code> the
following variables can be used and will be replaced during the output
generation:
</p>
<dl class="table">
<dt><code class="code">$title</code></dt>
<dd><p>the value of the title for the output file (e.g., the one passed with
the <code class="code">--title</code> command line option;
</p></dd>
<dt><code class="code">$header</code></dt>
<dd><p>the contents of the file specified with the command line option
<code class="code">--header</code>;
</p></dd>
<dt><code class="code">$footer</code></dt>
<dd><p>the contents of the file specified with the command line option
<code class="code">--footer</code>;
</p></dd>
<dt><code class="code">$css</code></dt>
<dd><p>the value passed with the command line option <code class="code">--css</code>;
</p></dd>
<dt><code class="code">$additional</code></dt>
<dd><p>other additional information.  Source-highlight replaces this with its
name and its version.
</p></dd>
<dt><code class="code">$docbgcolor<a class="footnote" id="DOCF49" href="#FOOT49"><sup>49</sup></a></code></dt>
<dd><p>the background color for the output document.  Source-highlight replaces
this with the value specified in the <code class="code">bgcolor</code> of the <samp class="file">.style</samp>
file (see <a class="ref" href="#Output-format-style">Output format style</a>) or in the <code class="code">body</code> selector of
the CSS file passed with <code class="code">--style-css-file</code> (see <a class="ref" href="#Output-format-style-using-CSS">Output format style using CSS</a>).
</p></dd>
</dl>

<p>For instance, for an HTML document with css, (file
<samp class="file">htmlcss.outlang</samp>) we have:
</p>
<div class="example">
<pre class="example-preformatted">doctemplate
&quot;&lt;!DOCTYPE HTML PUBLIC \&quot;-//W3C//DTD HTML 4.0//EN\&quot;
    \&quot;http://www.w3.org/TR/REC-html40/strict.dtd\&quot;&gt;
&lt;html&gt;
&lt;head&gt;
&lt;meta http-equiv=\&quot;Content-Type\&quot;
content=\&quot;text/html; charset=iso-8859-1\&quot;&gt;
&lt;meta name=\&quot;GENERATOR\&quot; content=\&quot;$additional\&quot;&gt;
&lt;title&gt;$title&lt;/title&gt;
&lt;link rel=\&quot;stylesheet\&quot; href=\&quot;$css\&quot; type=\&quot;text/css\&quot;&gt;
&lt;/head&gt;
&lt;body&gt;
$header&lt;pre&gt;&lt;tt&gt;&quot;
&quot;&lt;/tt&gt;&lt;/pre&gt;
$footer&lt;/body&gt;
&lt;/html&gt;
&quot;
end
</pre></div>

<p>For an HTML document with header and footer, (file
<samp class="file">html.outlang</samp>) we have (note the use of <code class="code">$docbgcolor</code>):
</p>
<div class="example">
<pre class="example-preformatted">doctemplate
&quot;&lt;!DOCTYPE HTML PUBLIC \&quot;-//IETF//DTD HTML//EN\&quot;&gt;
&lt;html&gt;
&lt;head&gt;
&lt;meta http-equiv=\&quot;Content-Type\&quot; content=\&quot;text/html; charset=iso-8859-1\&quot;&gt;
&lt;meta name=\&quot;GENERATOR\&quot; content=\&quot;$additional\&quot;&gt;
&lt;title&gt;$title&lt;/title&gt;
&lt;/head&gt;
&lt;body bgcolor=\&quot;$docbgcolor\&quot;&gt;
$header&lt;pre&gt;&lt;tt&gt;&quot;
&quot;&lt;/tt&gt;&lt;/pre&gt;
$footer&lt;/body&gt;
&lt;/html&gt;
&quot;
end
</pre></div>

<p>And for an HTML table output (file <samp class="file">htmltable.outlang</samp>):
</p>
<div class="example">
<pre class="example-preformatted">doctemplate
&quot;&lt;table  BGCOLOR=\&quot;$docbgcolor\&quot; NOSAVE &gt;
&lt;tr NOSAVE&gt;
&lt;td NOSAVE&gt;
&lt;pre&gt;&lt;tt&gt;&quot;
&quot;&lt;/tt&gt;&lt;/pre&gt;
&lt;/td&gt;
&lt;/tr&gt;
&lt;/table&gt;
&quot;
end
</pre></div>

<hr>
</div>
<div class="section-level-extent" id="Generating-HTML-output">
<div class="nav-panel">
<p>
Previous: <a href="#Document-template" accesskey="p" rel="prev">Document template</a>, Up: <a href="#Output-Language-Definitions" accesskey="u" rel="up">Output Language Definitions</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Concept-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h3 class="section" id="Generating-HTML-output-1"><span>8.10 Generating HTML output<a class="copiable-link" href="#Generating-HTML-output-1"> &para;</a></span></h3>

<p>As a complete example we show the file <samp class="file">html_common.outlang</samp> which
contains the common definitions for the various HTML output formats
(<samp class="file">html.outlang</samp>, <samp class="file">htmltable.outlang</samp>, etc.):
</p>
<div class="example">
<pre class="example-preformatted"><b class="b">include</b> <code class="t">&quot;html_ref.outlang&quot;</code>

<b class="b">extension</b> <code class="t">&quot;html&quot;</code>

<b class="b">bold</b> <code class="t">&quot;&lt;b&gt;$text&lt;/b&gt;&quot;</code>
<b class="b">italics</b> <code class="t">&quot;&lt;i&gt;$text&lt;/i&gt;&quot;</code>
<b class="b">underline</b> <code class="t">&quot;&lt;u&gt;$text&lt;/u&gt;&quot;</code>
<b class="b">color</b> <code class="t">&quot;&lt;font color=\&quot;$style\&quot;&gt;$text&lt;/font&gt;&quot;</code>

<b class="b">colormap</b>
<code class="t">&quot;green&quot;</code> <code class="t">&quot;#33CC00&quot;</code>
<code class="t">&quot;red&quot;</code> <code class="t">&quot;#FF0000&quot;</code>
<code class="t">&quot;darkred&quot;</code> <code class="t">&quot;#990000&quot;</code>
<code class="t">&quot;blue&quot;</code> <code class="t">&quot;#0000FF&quot;</code>
<code class="t">&quot;brown&quot;</code> <code class="t">&quot;#9A1900&quot;</code>
<code class="t">&quot;pink&quot;</code> <code class="t">&quot;#CC33CC&quot;</code>
<code class="t">&quot;yellow&quot;</code> <code class="t">&quot;#FFCC00&quot;</code>
<code class="t">&quot;cyan&quot;</code> <code class="t">&quot;#66FFFF&quot;</code>
<code class="t">&quot;purple&quot;</code> <code class="t">&quot;#993399&quot;</code>
<code class="t">&quot;orange&quot;</code> <code class="t">&quot;#FF6600&quot;</code>
<code class="t">&quot;brightorange&quot;</code> <code class="t">&quot;#FF9900&quot;</code>
<code class="t">&quot;brightgreen&quot;</code> <code class="t">&quot;#33FF33&quot;</code>
<code class="t">&quot;darkgreen&quot;</code> <code class="t">&quot;#009900&quot;</code>
<code class="t">&quot;black&quot;</code> <code class="t">&quot;#000000&quot;</code>
<code class="t">&quot;teal&quot;</code> <code class="t">&quot;#008080&quot;</code>
<code class="t">&quot;gray&quot;</code> <code class="t">&quot;#808080&quot;</code>
<code class="t">&quot;darkblue&quot;</code> <code class="t">&quot;#000080&quot;</code>
<code class="t">&quot;white&quot;</code> <code class="t">&quot;#FFFFFF&quot;</code>
<b class="b">default</b> <code class="t">&quot;#000000&quot;</code>
<b class="b">end</b>

<b class="b">translations</b>
<code class="t">&quot;&amp;&quot;</code> <code class="t">&quot;&amp;amp;&quot;</code>
<code class="t">&quot;&lt;&quot;</code> <code class="t">&quot;&amp;lt;&quot;</code>
<code class="t">&quot;&gt;&quot;</code> <code class="t">&quot;&amp;gt;&quot;</code>
<b class="b">end</b>

</pre></div>

<p>Moreover, this file is also used for generating javadoc output:
</p>
<div class="example">
<pre class="example-preformatted"><b class="b">include</b> <code class="t">&quot;html_common.outlang&quot;</code>

<b class="b">doctemplate</b>
<code class="t">&quot; * &lt;!-- Generated by Source-highlight --&gt;</code>
<code class="t"> * &lt;pre&gt;&lt;tt&gt;</code>
<code class="t">&quot;</code>
<code class="t">&quot; * &lt;/tt&gt;&lt;/pre&gt;</code>
<code class="t">&quot;</code>
<b class="b">end</b>

<b class="b">nodoctemplate</b>
<code class="t">&quot; * &lt;!-- Generated by Source-highlight --&gt;</code>
<code class="t"> * &lt;pre&gt;&lt;tt&gt;</code>
<code class="t">&quot;</code>
<code class="t">&quot; * &lt;/tt&gt;&lt;/pre&gt;</code>
<code class="t">&quot;</code>
<b class="b">end</b>

<b class="b">lineprefix</b> <code class="t">&quot; * &quot;</code>

<b class="b">translations</b>
<code class="t">&quot;*/&quot;</code> <code class="t">&quot;&amp;#42;/&quot;</code> <span class="r"><i class="i"># this avoids the */ to be interpreted as</i></span>
<span class="r"><i class="i"># the end of a comment inside a javadoc comment</i></span>
<b class="b">end</b>

</pre></div>

<p>The javadoc output format is useful to format code snippets that have to
be included inside a javadoc comment of another Java
file<a class="footnote" id="DOCF50" href="#FOOT50"><sup>50</sup></a>.  Apart from being formatted nicely in the
generated HTML documentation, this also releases the programmer from
escaping specific characters in the code snippet (i.e., <code class="code">&amp;</code>,
<code class="code">&lt;</code> and <code class="code">&gt;</code>).  Note also that it also avoids the sequence
<code class="code">*/</code> to be interpreted as the closing of the (javadoc) comment.
For instance, if you write this code:
</p>
<div class="example">
<pre class="example-preformatted">/**
 * This is an example of usage
 *
 * &lt;pre&gt;&lt;tt&gt;
 * System.out.println(&quot;*/&quot;);
 * &lt;/tt&gt;&lt;/pre&gt;
 */
</pre></div>

<p>The resulting Java code contains a syntax error.  If you use
source-highlight to format the code to insert in a javadoc comment you
will avoid these problems.
</p>
<p>An example of a javadoc generated HTML page containing a code snippet
formatted with source-highlight can be found in the file
<samp class="file">SimpleClass-doc.html</samp> in the documentation directory.
</p>
<hr>
</div>
</div>
<div class="chapter-level-extent" id="Generating-References">
<div class="nav-panel">
<p>
Next: <a href="#Examples" accesskey="n" rel="next">Examples</a>, Previous: <a href="#Output-Language-Definitions" accesskey="p" rel="prev">Output Language Definitions</a>, Up: <a href="#Top" accesskey="u" rel="up">GNU Source-highlight</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Concept-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h2 class="chapter" id="Generating-References-1"><span>9 Generating References<a class="copiable-link" href="#Generating-References-1"> &para;</a></span></h2>
<a class="index-entry-id" id="index-reference"></a>
<a class="index-entry-id" id="index-anchor"></a>
<a class="index-entry-id" id="index-ctags"></a>

<p>Since version 2.2 Source-highlight also produces references to fields,
variables, etc.  In order to do this it relies on the program
<em class="emph">Exuberant Ctags</em>, by Darren Hiebert, available at
<a class="url" href="http://ctags.sourceforge.net">http://ctags.sourceforge.net</a>.  Thus, you must install this program
if you want Source-highlight to provide this feature.
</p>
<p>The <code class="code">ctags</code> program generates an index (or &ldquo;tag&rdquo;) file for a
variety of language objects found in file(s).  This allows these items
to be quickly and easily located by a text editor or other utility (as
in this case for Source-highlight).  A &ldquo;tag&rdquo; signifies a language
object for which an index entry is available (or, alternatively, the
index entry created for that object)<a class="footnote" id="DOCF51" href="#FOOT51"><sup>51</sup></a>.
</p>
<p>This means that Source-highlight is able to generate references for a
specific source language if and only if <code class="code">ctags</code> handles such
language.  We refer to the command line options of <code class="code">ctags</code>:
<code class="code">--list-maps</code> and <code class="code">--list-languages</code> to find out the
associations of file extensions and supported languages.
</p>
<p>Reference generation is enable by using the command line option
<code class="code">--gen-references</code> (<a class="ref" href="#Invoking-source_002dhighlight">Invoking <code class="command">source-highlight</code></a>).  This option
takes an argument that rules how references will be generated:
</p>
<dl class="table">
<dt><code class="code">inline</code></dt>
<dd><p>a reference pointer will be generated exactly in the same place of the
specific element.  This is useful in output formats that naturally
supports links, such as HTML, while it is useless for output formats
that do not support inline links, such as LaTeX.
</p></dd>
<dt><code class="code">postline</code></dt>
<dd><p>if a line of the input source contains elements for which we found
references, the list of references will be generated right after the
line (see the examples, <a class="ref" href="#Examples">Examples</a>).
</p></dd>
<dt><code class="code">postdoc</code></dt>
<dd><p>All the references will be generated after the whole input file has been
generated.
</p></dd>
</dl>

<p>There is an exception: when an element has more than one reference
(because a variable is defined in many sources or because a method is
overloaded) then if <code class="code">inline</code> is specified, the generation switches
to <code class="code">postline</code> for that occurrence.
</p>
<p>When <code class="code">--gen-references</code> is specified, Source-highlight first
invokes <code class="code">ctags</code>.  The use can customize this call by using the
command line option <code class="code">--ctags</code> (<a class="ref" href="#Invoking-source_002dhighlight">Invoking <code class="command">source-highlight</code></a>).
In particular, if one does not want <code class="code">ctags</code> to be invoked by
Source-highlight (e.g., because the tags file has already been
generated) then <code class="code">--ctags</code> must be passed an empty string,
<code class="code">&quot;&quot;</code>.  In this case or when the specified <code class="code">ctags</code> command line
generates an alternative output tag file (the default generated file is
<samp class="file">tags</samp>), one must specify the exact tag file with the command line
option <code class="code">--ctags-file</code>.
</p>
<p>Once the tag file is generated, Source-highlight relies on the library
<samp class="file">readtags</samp> provided by the <code class="code">ctags</code> distribution, and included
in the Source-highlight sources.
</p>
<p>Note that if a program element is formatted according to a style that
has the option <code class="code">noref</code> (see <a class="ref" href="#Output-format-style">Output format style</a>) then this
element is not considered a tag, and no reference is generated.  This is
the case, for instance, for a <code class="code">comment</code> element: each string that
is generated with the <code class="code">comment</code> style, since this is declared with
the option <code class="code">noref</code>, it is not considered a tag (see <a class="ref" href="#Examples">Examples</a>).
</p>
<hr>
</div>
<div class="chapter-level-extent" id="Examples">
<div class="nav-panel">
<p>
Next: <a href="#Problems" accesskey="n" rel="next">Reporting Bugs</a>, Previous: <a href="#Generating-References" accesskey="p" rel="prev">Generating References</a>, Up: <a href="#Top" accesskey="u" rel="up">GNU Source-highlight</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Concept-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h2 class="chapter" id="Examples-1"><span>10 Examples<a class="copiable-link" href="#Examples-1"> &para;</a></span></h2>

<p>Here we provide some examples of sources formatted with
Source-highlight using the <code class="code">-f texinfo</code>
command line option.  Please keep in mind that the highlighting
will not be visible in the Info file, but only in the
printed manual and in the HTML output (well, at least line
numbers are visible everywhere :-).
</p>

<ul class="mini-toc">
<li><a href="#Simple-example" accesskey="1">Simple example</a></li>
<li><a href="#References" accesskey="2">References</a></li>
<li><a href="#Line-ranges" accesskey="3">Line ranges</a></li>
<li><a href="#Line-ranges-_0028with-context_0029" accesskey="4">Line ranges (with context)</a></li>
<li><a href="#Regex-ranges" accesskey="5">Regex ranges</a></li>
</ul>
<hr>
<div class="section-level-extent" id="Simple-example">
<div class="nav-panel">
<p>
Next: <a href="#References" accesskey="n" rel="next">References</a>, Previous: <a href="#Examples" accesskey="p" rel="prev">Examples</a>, Up: <a href="#Examples" accesskey="u" rel="up">Examples</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Concept-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h3 class="section" id="Simple-example-1"><span>10.1 Simple example<a class="copiable-link" href="#Simple-example-1"> &para;</a></span></h3>

<p>The first example is produced by using the command:
</p>
<div class="example">
<pre class="example-preformatted">source-highlight -f texinfo -i test.java -o test.java.texinfo -n
</pre></div>

<p>and here&rsquo;s the result
</p>
<div class="example">
<pre class="example-preformatted"><code class="t">01:</code> <span class="r"><i class="i">/*</i></span>
<code class="t">02:</code> <span class="r"><i class="i">  This is a classical Hello program</i></span>
<code class="t">03:</code> <span class="r"><i class="i">  to test source-highlight with Java programs.</i></span>
<code class="t">04:</code> <span class="r"><i class="i">  </i></span>
<code class="t">05:</code> <span class="r"><i class="i">  to have an html translation type</i></span>
<code class="t">06:</code> 
<code class="t">07:</code> <span class="r"><i class="i">        source-highlight -s java -f html &ndash;input Hello.java &ndash;output Hello.html</i></span>
<code class="t">08:</code> <span class="r"><i class="i">        source-highlight -s java -f html &lt; Hello.java &gt; Hello.html</i></span>
<code class="t">09:</code> 
<code class="t">10:</code> <span class="r"><i class="i">  or type source-highlight &ndash;help for the list of options</i></span>
<code class="t">11:</code> 
<code class="t">12:</code> <span class="r"><i class="i">  written by</i></span>
<code class="t">13:</code> <span class="r"><i class="i">  Lorenzo Bettini</i></span>
<code class="t">14:</code> <span class="r"><i class="i">  </i></span><code class="t">http://www.lorenzobettini.it</code>
<code class="t">15:</code> <span class="r"><i class="i">  </i></span><code class="t">http://www.gnu.org/software/src-highlite</code>
<code class="t">16:</code> <span class="r"><i class="i">*/</i></span>
<code class="t">17:</code> 
<code class="t">18:</code> <b class="b">package</b> hello;
<code class="t">19:</code> 
<code class="t">20:</code> <b class="b">import</b> java.io.* ;
<code class="t">21:</code> 
<code class="t">22:</code> <span class="r"><i class="i">/**</i></span>
<code class="t">23:</code> <span class="r"><i class="i"> * </i></span><b class="b">&lt;p&gt;</b>
<code class="t">24:</code> <span class="r"><i class="i"> * A simple Hello World class, used to demonstrate some</i></span>
<code class="t">25:</code> <span class="r"><i class="i"> * features of Java source highlighting.</i></span>
<code class="t">26:</code> <span class="r"><i class="i"> * </i></span><b class="b">&lt;/p&gt;</b>
<code class="t">27:</code> <span class="r"><i class="i"> * </i></span>TODO:<span class="r"><i class="i"> nothing, just to show an highlighted </i></span>TODO<span class="r"><i class="i"> or </i></span>FIXME
<code class="t">28:</code> <span class="r"><i class="i"> *</i></span>
<code class="t">29:</code> <span class="r"><i class="i"> * </i></span><b class="b">@author</b><span class="r"><i class="i"> Lorenzo Bettini</i></span>
<code class="t">30:</code> <span class="r"><i class="i"> * </i></span><b class="b">@version</b><span class="r"><i class="i"> 2.0</i></span>
<code class="t">31:</code> <span class="r"><i class="i"> */</i></span> <span class="r"><i class="i">/// class</i></span>
<code class="t">32:</code> <b class="b">public</b> <b class="b">class</b> Hello {
<code class="t">33:</code>     <b class="b">int</b> foo = 1998 ;
<code class="t">34:</code>     <b class="b">int</b> hex_foo = 0xCAFEBABE;
<code class="t">35:</code>     <b class="b">boolean</b> b = <b class="b">false</b>;
<code class="t">36:</code>     Integer i = <b class="b">null</b> ;
<code class="t">37:</code>     <b class="b">char</b> c = <code class="t">'</code>\'<code class="t">'</code>, d = <code class="t">'n'</code>, e = <code class="t">'</code>\\<code class="t">'</code> ;
<code class="t">38:</code>     String xml = <code class="t">&quot;&lt;tag attr=</code>\&quot;<code class="t">value</code>\&quot;<code class="t">&gt;&amp;auml;&lt;/tag&gt;&quot;</code>, foo2 = <code class="t">&quot;</code>\\<code class="t">&quot;</code> ;
<code class="t">39:</code> 
<code class="t">40:</code>     <span class="r"><i class="i">/* mymethod */</i></span>
<code class="t">41:</code>     <b class="b">public</b> <b class="b">void</b> mymethod(<b class="b">int</b> i) {
<code class="t">42:</code>         <span class="r"><i class="i">// just a foo method</i></span>
<code class="t">43:</code>     }
<code class="t">44:</code>     <span class="r"><i class="i">/* mymethod */</i></span>
<code class="t">45:</code>    
<code class="t">46:</code>     <span class="r"><i class="i">/* main */</i></span>
<code class="t">47:</code>     <b class="b">public</b> <b class="b">static</b> <b class="b">void</b> main( String args[] ) {
<code class="t">48:</code>         <span class="r"><i class="i">// just some greetings ;-)  /*</i></span>
<code class="t">49:</code>         System.out.println( <code class="t">&quot;Hello from java2html :-)&quot;</code> ) ;
<code class="t">50:</code>         System.out.println( <code class="t">&quot;</code>\t<code class="t">by Lorenzo Bettini&quot;</code> ) ;
<code class="t">51:</code>         System.out.println( <code class="t">&quot;</code>\t<code class="t">http://www.lorenzobettini.it&quot;</code> ) ;
<code class="t">52:</code>         <b class="b">if</b> (argc &gt; 0)
<code class="t">53:</code>             String param = argc[0];
<code class="t">54:</code>         <span class="r"><i class="i">//System.out.println( &quot;bye bye... :-D&quot; ) ; // see you soon</i></span>
<code class="t">55:</code>     }
<code class="t">56:</code>     <span class="r"><i class="i">/* main */</i></span>
<code class="t">57:</code> }
<code class="t">58:</code> <span class="r"><i class="i">/// class</i></span>
<code class="t">59:</code> 
<code class="t">60:</code> <span class="r"><i class="i">// end of file test.java</i></span>
</pre></div>

<hr>
</div>
<div class="section-level-extent" id="References">
<div class="nav-panel">
<p>
Next: <a href="#Line-ranges" accesskey="n" rel="next">Line ranges</a>, Previous: <a href="#Simple-example" accesskey="p" rel="prev">Simple example</a>, Up: <a href="#Examples" accesskey="u" rel="up">Examples</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Concept-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h3 class="section" id="References-1"><span>10.2 References<a class="copiable-link" href="#References-1"> &para;</a></span></h3>

<p>This example shows the use of <code class="code">--gen-references</code>
functionality.  In particular, the following output is generated with
the command:
</p>
<div class="example">
<pre class="example-preformatted">source-highlight -f texinfo -i test.h -o test_ref.h.texinfo -n \
     --gen-references=postline
</pre></div>

<p>and here&rsquo;s the result (note how the comment line containing the string
<code class="code">mysum</code> does not contain references, since it is a <code class="code">comment</code>
element, and this element has the option <code class="code">noref</code> in the
<samp class="file">texinfo.style</samp>, see <a class="ref" href="#Output-format-style">Output format style</a>.  The same holds for
the <code class="code">_TEXTGEN_H</code> comment in the last comment line).
</p>
<div class="example">
<pre class="example-preformatted"><code class="t">01:</code> <span class="r"><i class="i">/**</i></span>
<code class="t">02:</code> <span class="r"><i class="i">** Copyright (C) 1999-2007 Lorenzo Bettini</i></span>
<code class="t">03:</code> <span class="r"><i class="i">**  </i></span>
<code class="t">04:</code> <span class="r"><i class="i">  </i></span><code class="t">http://www.lorenzobettini.it</code>
<code class="t">05:</code> <span class="r"><i class="i">  </i></span>
<code class="t">06:</code> <span class="r"><i class="i">  r2 = r2 XOR (1&lt;&lt;10);</i></span>
<code class="t">07:</code> <span class="r"><i class="i">  cout &lt;&lt; &quot;hello world&quot; &lt;&lt; endl;</i></span>
<code class="t">08:</code> <span class="r"><i class="i">**  </i></span>
<code class="t">09:</code> <span class="r"><i class="i">*/</i></span>
<code class="t">10:</code> 
<code class="t">11:</code> <span class="r"><i class="i">// this file also contains the definition of mysum as a #define</i></span>
<code class="t">12:</code> 
<code class="t">13:</code> <span class="r"><i class="i">// textgenerator.h : Text Generator class &amp;&amp;</i></span>
<code class="t">14:</code> 
<code class="t">15:</code> <b class="b">#ifndef</b> _TEXTGEN_H
</pre><div class="flushright"><pre class="example-preformatted"><span class="r"><i class="i">See <a class="xref" href="#test_002eh_003a16">_TEXTGEN_H ../../tests/test.h:16</a>.</i></span>
</pre></div><pre class="example-preformatted"><code class="t">16:</code> <b class="b">#define</b> <a class="anchor" id="test_002eh_003a16"></a>_TEXTGEN_H
<code class="t">17:</code> 
<code class="t">18:</code> <b class="b">#define</b> <a class="anchor" id="test_002eh_003a18"></a>foo(x) (x + 1)
<code class="t">19:</code> 
<code class="t">20:</code> <b class="b">#define</b> <a class="anchor" id="test_002eh_003a20"></a>mysum myfunbody 
<code class="t">21:</code> 
<code class="t">22:</code> <b class="b">#include</b> <code class="t">&lt;iostream.h&gt;</code> <span class="r"><i class="i">// for cerr</i></span>
<code class="t">23:</code> 
<code class="t">24:</code> <b class="b">#include</b> <code class="t">&quot;genfun.h&quot;</code> <span class="r"><i class="i">/* for generating functions */</i></span>
<code class="t">25:</code> 
<code class="t">26:</code> <b class="b">class</b> <a class="anchor" id="test_002eh_003a26"></a>TextGenerator {
<code class="t">27:</code>   <b class="b">public</b> :
<code class="t">28:</code>     <b class="b">virtual</b> <b class="b">void</b> <a class="anchor" id="test_002eh_003a28"></a>generate( <b class="b">const</b> <b class="b">char</b> *s ) <b class="b">const</b> { (*sout) &lt;&lt; s ; }
<code class="t">29:</code>     <b class="b">virtual</b> <b class="b">void</b> <a class="anchor" id="test_002eh_003a29"></a>generate( <b class="b">const</b> <b class="b">char</b> *s, <b class="b">int</b> start, <b class="b">int</b> end ) <b class="b">const</b> 
<code class="t">30:</code>       {
<code class="t">31:</code>         <b class="b">for</b> ( <b class="b">int</b> i = start ; i &lt;= end ; ++i )
<code class="t">32:</code>           (*sout) &lt;&lt; s[i] ;
<code class="t">33:</code>         <b class="b">return</b> a&lt;p-&gt;b ? a : 3;
<code class="t">34:</code>       }
<code class="t">35:</code>     <b class="b">virtual</b> <b class="b">void</b> <a class="anchor" id="test_002eh_003a35"></a>generateln( <b class="b">const</b> <b class="b">char</b> *s ) <b class="b">const</b>
<code class="t">36:</code>         { 
<code class="t">37:</code>             generate( s ) ;
</pre><div class="flushright"><pre class="example-preformatted"><span class="r"><i class="i">See <a class="xref" href="#test_002eh_003a28">generate ../../tests/test.h:28</a>.</i></span>
</pre></div><div class="flushright"><pre class="example-preformatted"><span class="r"><i class="i">See <a class="xref" href="#test_002eh_003a29">generate ../../tests/test.h:29</a>.</i></span>
</pre></div><pre class="example-preformatted"><code class="t">38:</code>             (*sout) &lt;&lt; endl ; 
<code class="t">39:</code>         }
<code class="t">40:</code>     <b class="b">virtual</b> <b class="b">void</b> <a class="anchor" id="test_002eh_003a40"></a>generateEntire( <b class="b">const</b> <b class="b">char</b> *s ) <b class="b">const</b>
<code class="t">41:</code>         {
<code class="t">42:</code>             startTextGeneration() ;
</pre><div class="flushright"><pre class="example-preformatted"><span class="r"><i class="i">See <a class="xref" href="#test_002eh_003a46">startTextGeneration ../../tests/test.h:46</a>.</i></span>
</pre></div><div class="flushright"><pre class="example-preformatted"><span class="r"><i class="i">See <a class="xref" href="#test_002eh_003a70">startTextGeneration ../../tests/test.h:70</a>.</i></span>
</pre></div><pre class="example-preformatted"><code class="t">43:</code>             generate(s) ;
</pre><div class="flushright"><pre class="example-preformatted"><span class="r"><i class="i">See <a class="xref" href="#test_002eh_003a28">generate ../../tests/test.h:28</a>.</i></span>
</pre></div><div class="flushright"><pre class="example-preformatted"><span class="r"><i class="i">See <a class="xref" href="#test_002eh_003a29">generate ../../tests/test.h:29</a>.</i></span>
</pre></div><pre class="example-preformatted"><code class="t">44:</code>             endTextGeneration() ;
</pre><div class="flushright"><pre class="example-preformatted"><span class="r"><i class="i">See <a class="xref" href="#test_002eh_003a47">endTextGeneration ../../tests/test.h:47</a>.</i></span>
</pre></div><div class="flushright"><pre class="example-preformatted"><span class="r"><i class="i">See <a class="xref" href="#test_002eh_003a76">endTextGeneration ../../tests/test.h:76</a>.</i></span>
</pre></div><pre class="example-preformatted"><code class="t">45:</code>         }
<code class="t">46:</code>     <b class="b">virtual</b> <b class="b">void</b> <a class="anchor" id="test_002eh_003a46"></a>startTextGeneration() <b class="b">const</b> {}
<code class="t">47:</code>     <b class="b">virtual</b> <b class="b">void</b> <a class="anchor" id="test_002eh_003a47"></a>endTextGeneration() <b class="b">const</b> {}
<code class="t">48:</code>     <b class="b">virtual</b> <b class="b">void</b> <a class="anchor" id="test_002eh_003a48"></a>beginText( <b class="b">const</b> <b class="b">char</b> *s ) <b class="b">const</b>
<code class="t">49:</code>         {
<code class="t">50:</code>             startTextGeneration() ;
</pre><div class="flushright"><pre class="example-preformatted"><span class="r"><i class="i">See <a class="xref" href="#test_002eh_003a46">startTextGeneration ../../tests/test.h:46</a>.</i></span>
</pre></div><div class="flushright"><pre class="example-preformatted"><span class="r"><i class="i">See <a class="xref" href="#test_002eh_003a70">startTextGeneration ../../tests/test.h:70</a>.</i></span>
</pre></div><pre class="example-preformatted"><code class="t">51:</code>             <b class="b">if</b> ( s )
<code class="t">52:</code>                 generate( s ) ;
</pre><div class="flushright"><pre class="example-preformatted"><span class="r"><i class="i">See <a class="xref" href="#test_002eh_003a28">generate ../../tests/test.h:28</a>.</i></span>
</pre></div><div class="flushright"><pre class="example-preformatted"><span class="r"><i class="i">See <a class="xref" href="#test_002eh_003a29">generate ../../tests/test.h:29</a>.</i></span>
</pre></div><pre class="example-preformatted"><code class="t">53:</code>         }
<code class="t">54:</code>     <b class="b">virtual</b> <b class="b">void</b> <a class="anchor" id="test_002eh_003a54"></a>endText( <b class="b">const</b> <b class="b">char</b> *s ) <b class="b">const</b>
<code class="t">55:</code>         {
<code class="t">56:</code>             <b class="b">if</b> ( s )
<code class="t">57:</code>                 generate( s ) ;
</pre><div class="flushright"><pre class="example-preformatted"><span class="r"><i class="i">See <a class="xref" href="#test_002eh_003a28">generate ../../tests/test.h:28</a>.</i></span>
</pre></div><div class="flushright"><pre class="example-preformatted"><span class="r"><i class="i">See <a class="xref" href="#test_002eh_003a29">generate ../../tests/test.h:29</a>.</i></span>
</pre></div><pre class="example-preformatted"><code class="t">58:</code>             endTextGeneration() ;
</pre><div class="flushright"><pre class="example-preformatted"><span class="r"><i class="i">See <a class="xref" href="#test_002eh_003a47">endTextGeneration ../../tests/test.h:47</a>.</i></span>
</pre></div><div class="flushright"><pre class="example-preformatted"><span class="r"><i class="i">See <a class="xref" href="#test_002eh_003a76">endTextGeneration ../../tests/test.h:76</a>.</i></span>
</pre></div><pre class="example-preformatted"><code class="t">59:</code>         }
<code class="t">60:</code> } ;
<code class="t">61:</code> 
<code class="t">62:</code> <span class="r"><i class="i">// Decorator</i></span>
<code class="t">63:</code> <b class="b">class</b> <a class="anchor" id="test_002eh_003a63"></a>TextDecorator : <b class="b">public</b> TextGenerator {
</pre><div class="flushright"><pre class="example-preformatted"><span class="r"><i class="i">See <a class="xref" href="#test_002eh_003a26">TextGenerator ../../tests/test.h:26</a>.</i></span>
</pre></div><pre class="example-preformatted"><code class="t">64:</code>   <b class="b">protected</b> :
<code class="t">65:</code>     TextGenerator *<a class="anchor" id="test_002eh_003a65"></a>decorated ;
</pre><div class="flushright"><pre class="example-preformatted"><span class="r"><i class="i">See <a class="xref" href="#test_002eh_003a26">TextGenerator ../../tests/test.h:26</a>.</i></span>
</pre></div><pre class="example-preformatted"><code class="t">66:</code>   
<code class="t">67:</code>   <b class="b">public</b> :
<code class="t">68:</code>     <a class="anchor" id="test_002eh_003a68"></a>TextDecorator( TextGenerator *t ) : decorated( t ) {}
</pre><div class="flushright"><pre class="example-preformatted"><span class="r"><i class="i">See <a class="xref" href="#test_002eh_003a26">TextGenerator ../../tests/test.h:26</a>.</i></span>
</pre></div><div class="flushright"><pre class="example-preformatted"><span class="r"><i class="i">See <a class="xref" href="#test_002eh_003a65">decorated ../../tests/test.h:65</a>.</i></span>
</pre></div><pre class="example-preformatted"><code class="t">69:</code> 
<code class="t">70:</code>     <b class="b">virtual</b> <b class="b">void</b> <a class="anchor" id="test_002eh_003a70"></a>startTextGeneration() <b class="b">const</b> 
<code class="t">71:</code>     { 
<code class="t">72:</code>         startDecorate() ;
<code class="t">73:</code>         <b class="b">if</b> ( decorated )
</pre><div class="flushright"><pre class="example-preformatted"><span class="r"><i class="i">See <a class="xref" href="#test_002eh_003a65">decorated ../../tests/test.h:65</a>.</i></span>
</pre></div><pre class="example-preformatted"><code class="t">74:</code>             decorated-&gt;startTextGeneration() ;
</pre><div class="flushright"><pre class="example-preformatted"><span class="r"><i class="i">See <a class="xref" href="#test_002eh_003a46">startTextGeneration ../../tests/test.h:46</a>.</i></span>
</pre></div><div class="flushright"><pre class="example-preformatted"><span class="r"><i class="i">See <a class="xref" href="#test_002eh_003a65">decorated ../../tests/test.h:65</a>.</i></span>
</pre></div><div class="flushright"><pre class="example-preformatted"><span class="r"><i class="i">See <a class="xref" href="#test_002eh_003a70">startTextGeneration ../../tests/test.h:70</a>.</i></span>
</pre></div><pre class="example-preformatted"><code class="t">75:</code>     }
<code class="t">76:</code>     <b class="b">virtual</b> <b class="b">void</b> <a class="anchor" id="test_002eh_003a76"></a>endTextGeneration() <b class="b">const</b> 
<code class="t">77:</code>     { 
<code class="t">78:</code>         <b class="b">if</b> ( decorated )
</pre><div class="flushright"><pre class="example-preformatted"><span class="r"><i class="i">See <a class="xref" href="#test_002eh_003a65">decorated ../../tests/test.h:65</a>.</i></span>
</pre></div><pre class="example-preformatted"><code class="t">79:</code>             decorated-&gt;endTextGeneration() ;
</pre><div class="flushright"><pre class="example-preformatted"><span class="r"><i class="i">See <a class="xref" href="#test_002eh_003a47">endTextGeneration ../../tests/test.h:47</a>.</i></span>
</pre></div><div class="flushright"><pre class="example-preformatted"><span class="r"><i class="i">See <a class="xref" href="#test_002eh_003a65">decorated ../../tests/test.h:65</a>.</i></span>
</pre></div><div class="flushright"><pre class="example-preformatted"><span class="r"><i class="i">See <a class="xref" href="#test_002eh_003a76">endTextGeneration ../../tests/test.h:76</a>.</i></span>
</pre></div><pre class="example-preformatted"><code class="t">80:</code>         endDecorate() ;
<code class="t">81:</code>         mysum;
</pre><div class="flushright"><pre class="example-preformatted"><span class="r"><i class="i">See <a class="xref" href="#test_002eh_003a20">mysum ../../tests/test.h:20</a>.</i></span>
</pre></div><pre class="example-preformatted"><code class="t">82:</code>     }
<code class="t">83:</code> 
<code class="t">84:</code>     <span class="r"><i class="i">// pure virtual functions</i></span>
<code class="t">85:</code>     <b class="b">virtual</b> <b class="b">void</b> startDecorate() <b class="b">const</b> = 0 ;
<code class="t">86:</code>     <b class="b">virtual</b> <b class="b">void</b> endDecorate() <b class="b">const</b> = 0 ;
<code class="t">87:</code> } ;
<code class="t">88:</code> 
<code class="t">89:</code> <b class="b">#endif</b> <span class="r"><i class="i">// _TEXTGEN_H</i></span>
<code class="t">90:</code> 
</pre></div>

<hr>
</div>
<div class="section-level-extent" id="Line-ranges">
<div class="nav-panel">
<p>
Next: <a href="#Line-ranges-_0028with-context_0029" accesskey="n" rel="next">Line ranges (with context)</a>, Previous: <a href="#References" accesskey="p" rel="prev">References</a>, Up: <a href="#Examples" accesskey="u" rel="up">Examples</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Concept-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h3 class="section" id="Line-ranges-1"><span>10.3 Line ranges<a class="copiable-link" href="#Line-ranges-1"> &para;</a></span></h3>

<a class="index-entry-id" id="index-line-ranges-1"></a>
<p>This is an example that uses <code class="code">--line-range</code> command line
option on the input file shown in See <a class="xref" href="#Simple-example">Simple example</a>:
</p>
<div class="example">
<pre class="example-preformatted">source-highlight -f texinfo -i test.java -n \
     --line-range=&quot;12-18&quot;,&quot;29-34&quot;
</pre></div>

<p>This generates the following output
</p>
<div class="example">
<pre class="example-preformatted"><code class="t">12:</code> <span class="r"><i class="i">  written by</i></span>
<code class="t">13:</code> <span class="r"><i class="i">  Lorenzo Bettini</i></span>
<code class="t">14:</code> <span class="r"><i class="i">  </i></span><code class="t">http://www.lorenzobettini.it</code>
<code class="t">15:</code> <span class="r"><i class="i">  </i></span><code class="t">http://www.gnu.org/software/src-highlite</code>
<code class="t">16:</code> <span class="r"><i class="i">*/</i></span>
<code class="t">17:</code> 
<code class="t">18:</code> <b class="b">package</b> hello;
<code class="t">29:</code> <span class="r"><i class="i"> * </i></span><b class="b">@author</b><span class="r"><i class="i"> Lorenzo Bettini</i></span>
<code class="t">30:</code> <span class="r"><i class="i"> * </i></span><b class="b">@version</b><span class="r"><i class="i"> 2.0</i></span>
<code class="t">31:</code> <span class="r"><i class="i"> */</i></span> <span class="r"><i class="i">/// class</i></span>
<code class="t">32:</code> <b class="b">public</b> <b class="b">class</b> Hello {
<code class="t">33:</code>     <b class="b">int</b> foo = 1998 ;
<code class="t">34:</code>     <b class="b">int</b> hex_foo = 0xCAFEBABE;

</pre></div>

<p>Note that, although the specified line ranges span comment environments,
the highlighting is respected: the starting of the comment is not
printed, but the remaining parts of the comment are correctly
highlighted as comment.
</p>
<hr>
</div>
<div class="section-level-extent" id="Line-ranges-_0028with-context_0029">
<div class="nav-panel">
<p>
Next: <a href="#Regex-ranges" accesskey="n" rel="next">Regex ranges</a>, Previous: <a href="#Line-ranges" accesskey="p" rel="prev">Line ranges</a>, Up: <a href="#Examples" accesskey="u" rel="up">Examples</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Concept-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h3 class="section" id="Line-ranges-_0028with-context_0029-1"><span>10.4 Line ranges (with context)<a class="copiable-link" href="#Line-ranges-_0028with-context_0029-1"> &para;</a></span></h3>

<a class="index-entry-id" id="index-line-ranges-2"></a>
<a class="index-entry-id" id="index-range-context-1"></a>
<a class="index-entry-id" id="index-range-separator-1"></a>
<p>This is an example that uses the command line option <code class="code">--line-range</code>
together with the <code class="code">--range-context</code> and <code class="code">--range-separator</code>:
</p>
<div class="example">
<pre class="example-preformatted">source-highlight -f texinfo -i test.java -n \
     --line-range=&quot;12-18&quot;,&quot;29-34&quot; \
     --range-context=2 \
     --range-separator=&quot;{... not in range ...}&quot;
</pre></div>

<p>This generates the following output
</p>
<div class="example">
<pre class="example-preformatted">{... not in range ...}
<code class="t">10:</code>   or type source-highlight --help for the list of options
<code class="t">11:</code> 
<code class="t">12:</code> <span class="r"><i class="i">  written by</i></span>
<code class="t">13:</code> <span class="r"><i class="i">  Lorenzo Bettini</i></span>
<code class="t">14:</code> <span class="r"><i class="i">  </i></span><code class="t">http://www.lorenzobettini.it</code>
<code class="t">15:</code> <span class="r"><i class="i">  </i></span><code class="t">http://www.gnu.org/software/src-highlite</code>
<code class="t">16:</code> <span class="r"><i class="i">*/</i></span>
<code class="t">17:</code> 
<code class="t">18:</code> <b class="b">package</b> hello;
<code class="t">19:</code> 
<code class="t">20:</code> import java.io.* ;
{... not in range ...}
<code class="t">27:</code>  * TODO: nothing, just to show an highlighted TODO or FIXME
<code class="t">28:</code>  *
<code class="t">29:</code> <span class="r"><i class="i"> * </i></span><b class="b">@author</b><span class="r"><i class="i"> Lorenzo Bettini</i></span>
<code class="t">30:</code> <span class="r"><i class="i"> * </i></span><b class="b">@version</b><span class="r"><i class="i"> 2.0</i></span>
<code class="t">31:</code> <span class="r"><i class="i"> */</i></span> <span class="r"><i class="i">/// class</i></span>
<code class="t">32:</code> <b class="b">public</b> <b class="b">class</b> Hello {
<code class="t">33:</code>     <b class="b">int</b> foo = 1998 ;
<code class="t">34:</code>     <b class="b">int</b> hex_foo = 0xCAFEBABE;
<code class="t">35:</code>     boolean b = false;
<code class="t">36:</code>     Integer i = null ;
{... not in range ...}

</pre></div>

<p>Note the two additional 2 lines before and after the ranges (compare it
with the output in <a class="ref" href="#Line-ranges">Line ranges</a>).  Note that the (elements of the)
context lines are not highlighted.  Moreover, the range separator line
<code class="code">&quot;{... not in range ...}&quot;</code> is printed between ranges (the
separator string is preformatted automatically, so, e.g., you don&rsquo;t have
to escape special output characters, such as the { } in texinfo
output).
</p>
<hr>
</div>
<div class="section-level-extent" id="Regex-ranges">
<div class="nav-panel">
<p>
Previous: <a href="#Line-ranges-_0028with-context_0029" accesskey="p" rel="prev">Line ranges (with context)</a>, Up: <a href="#Examples" accesskey="u" rel="up">Examples</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Concept-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h3 class="section" id="Regex-ranges-1"><span>10.5 Regex ranges<a class="copiable-link" href="#Regex-ranges-1"> &para;</a></span></h3>

<a class="index-entry-id" id="index-regex-ranges-1"></a>
<p>Ranges can be expressed also using regular expressions, with the command
line option <code class="code">--regex-range</code>.  In this case the beginning of the
range will be detected by a line containing (in any point) a string
matching the specified regular expression; the end will be detected by a
line containing a string matching the same regular expression that
started the range.  This feature is very useful when we want to document
some code (e.g., in this very manual) by showing only specific parts,
that are delimited in a ad-hoc way in the source code (e.g., with
specific comment patterns).
</p>
<p>For instance, the following output was produced, starting from the
source file shown in See <a class="xref" href="#Simple-example">Simple example</a>, by specifying:
</p>
<div class="example">
<pre class="example-preformatted">--regex-range=&quot;/// [[:alpha:]]+&quot;
</pre></div>

<p>Note that the lines containing <code class="code">/// class</code>, which determine the
range, are not shown in the output:
</p>
<div class="example">
<pre class="example-preformatted"><code class="t">32:</code> <b class="b">public</b> <b class="b">class</b> Hello {
<code class="t">33:</code>     <b class="b">int</b> foo = 1998 ;
<code class="t">34:</code>     <b class="b">int</b> hex_foo = 0xCAFEBABE;
<code class="t">35:</code>     <b class="b">boolean</b> b = <b class="b">false</b>;
<code class="t">36:</code>     Integer i = <b class="b">null</b> ;
<code class="t">37:</code>     <b class="b">char</b> c = <code class="t">'</code>\'<code class="t">'</code>, d = <code class="t">'n'</code>, e = <code class="t">'</code>\\<code class="t">'</code> ;
<code class="t">38:</code>     String xml = <code class="t">&quot;&lt;tag attr=</code>\&quot;<code class="t">value</code>\&quot;<code class="t">&gt;&amp;auml;&lt;/tag&gt;&quot;</code>, foo2 = <code class="t">&quot;</code>\\<code class="t">&quot;</code> ;
<code class="t">39:</code> 
<code class="t">40:</code>     <span class="r"><i class="i">/* mymethod */</i></span>
<code class="t">41:</code>     <b class="b">public</b> <b class="b">void</b> mymethod(<b class="b">int</b> i) {
<code class="t">42:</code>         <span class="r"><i class="i">// just a foo method</i></span>
<code class="t">43:</code>     }
<code class="t">44:</code>     <span class="r"><i class="i">/* mymethod */</i></span>
<code class="t">45:</code>    
<code class="t">46:</code>     <span class="r"><i class="i">/* main */</i></span>
<code class="t">47:</code>     <b class="b">public</b> <b class="b">static</b> <b class="b">void</b> main( String args[] ) {
<code class="t">48:</code>         <span class="r"><i class="i">// just some greetings ;-)  /*</i></span>
<code class="t">49:</code>         System.out.println( <code class="t">&quot;Hello from java2html :-)&quot;</code> ) ;
<code class="t">50:</code>         System.out.println( <code class="t">&quot;</code>\t<code class="t">by Lorenzo Bettini&quot;</code> ) ;
<code class="t">51:</code>         System.out.println( <code class="t">&quot;</code>\t<code class="t">http://www.lorenzobettini.it&quot;</code> ) ;
<code class="t">52:</code>         <b class="b">if</b> (argc &gt; 0)
<code class="t">53:</code>             String param = argc[0];
<code class="t">54:</code>         <span class="r"><i class="i">//System.out.println( &quot;bye bye... :-D&quot; ) ; // see you soon</i></span>
<code class="t">55:</code>     }
<code class="t">56:</code>     <span class="r"><i class="i">/* main */</i></span>
<code class="t">57:</code> }

</pre></div>

<p>Furthermore, the line numbers are consistent with the lines of the
original file.
</p>
<p>If we want to output only what is included between <code class="code">/* main */</code>, we
specify (note that we must escape the special regular expression
character <code class="code">*</code>):
</p>
<div class="example">
<pre class="example-preformatted">--regex-range=&quot;/\* main \*/&quot;
</pre></div>

<p>and we get:
</p>
<div class="example">
<pre class="example-preformatted"><code class="t">47:</code>     <b class="b">public</b> <b class="b">static</b> <b class="b">void</b> main( String args[] ) {
<code class="t">48:</code>         <span class="r"><i class="i">// just some greetings ;-)  /*</i></span>
<code class="t">49:</code>         System.out.println( <code class="t">&quot;Hello from java2html :-)&quot;</code> ) ;
<code class="t">50:</code>         System.out.println( <code class="t">&quot;</code>\t<code class="t">by Lorenzo Bettini&quot;</code> ) ;
<code class="t">51:</code>         System.out.println( <code class="t">&quot;</code>\t<code class="t">http://www.lorenzobettini.it&quot;</code> ) ;
<code class="t">52:</code>         <b class="b">if</b> (argc &gt; 0)
<code class="t">53:</code>             String param = argc[0];
<code class="t">54:</code>         <span class="r"><i class="i">//System.out.println( &quot;bye bye... :-D&quot; ) ; // see you soon</i></span>
<code class="t">55:</code>     }

</pre></div>

<p>If we want to show only the methods, which in the source file
are delimited by comment lines containing the method&rsquo;s name, we can specify:
</p>
<div class="example">
<pre class="example-preformatted">--regex-range=&quot;/\* [[:alpha:]]+ \*/&quot;
</pre></div>

<div class="example">
<pre class="example-preformatted"><code class="t">41:</code>     <b class="b">public</b> <b class="b">void</b> mymethod(<b class="b">int</b> i) {
<code class="t">42:</code>         <span class="r"><i class="i">// just a foo method</i></span>
<code class="t">43:</code>     }
<code class="t">47:</code>     <b class="b">public</b> <b class="b">static</b> <b class="b">void</b> main( String args[] ) {
<code class="t">48:</code>         <span class="r"><i class="i">// just some greetings ;-)  /*</i></span>
<code class="t">49:</code>         System.out.println( <code class="t">&quot;Hello from java2html :-)&quot;</code> ) ;
<code class="t">50:</code>         System.out.println( <code class="t">&quot;</code>\t<code class="t">by Lorenzo Bettini&quot;</code> ) ;
<code class="t">51:</code>         System.out.println( <code class="t">&quot;</code>\t<code class="t">http://www.lorenzobettini.it&quot;</code> ) ;
<code class="t">52:</code>         <b class="b">if</b> (argc &gt; 0)
<code class="t">53:</code>             String param = argc[0];
<code class="t">54:</code>         <span class="r"><i class="i">//System.out.println( &quot;bye bye... :-D&quot; ) ; // see you soon</i></span>
<code class="t">55:</code>     }

</pre></div>

<p>In this case, we might have also specified:
</p>
<div class="example">
<pre class="example-preformatted">--regex-range=&quot;/\* main \*/&quot;,&quot;/\* mymethod \*/&quot;
</pre></div>

<p>since <code class="code">--regex-range</code> accepts multiple regular expressions.
</p>
<p>IMPORTANT: the order of regular expression specification is crucial,
since they are tested in the same order they are specified at the
command line.
</p>
<hr>
</div>
</div>
<div class="chapter-level-extent" id="Problems">
<div class="nav-panel">
<p>
Next: <a href="#Mailing-Lists" accesskey="n" rel="next">Mailing Lists</a>, Previous: <a href="#Examples" accesskey="p" rel="prev">Examples</a>, Up: <a href="#Top" accesskey="u" rel="up">GNU Source-highlight</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Concept-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h2 class="chapter" id="Reporting-Bugs"><span>11 Reporting Bugs<a class="copiable-link" href="#Reporting-Bugs"> &para;</a></span></h2>
<a class="index-entry-id" id="index-bugs"></a>
<a class="index-entry-id" id="index-problems"></a>

<p>If you find a bug in <code class="command">source-highlight</code>, please send electronic
mail to 
</p>
<p><code class="code">bug-source-highlight at gnu dot org</code>
</p>
<p>Include the version
number, which you can find by running &lsquo;<samp class="samp">source-highlight&nbsp;--version</samp>&rsquo;<!-- /@w -->.  Also include in your message the output that the program
produced and the output you expected.
</p>
<p>Even better, please file a bug report at Savannah site:
</p>
<p><a class="uref" href="https://savannah.gnu.org/bugs/?group=src-highlite">https://savannah.gnu.org/bugs/?group=src-highlite</a>
</p>
<p>If you have other questions, comments or suggestions about
<code class="command">source-highlight</code>, contact the author via electronic mail
(find the address at <a class="uref" href="http://www.lorenzobettini.it">http://www.lorenzobettini.it</a>).  The author will try to help
you out, although he may not have time to fix your problems.
</p>
<hr>
</div>
<div class="chapter-level-extent" id="Mailing-Lists">
<div class="nav-panel">
<p>
Next: <a href="#Concept-Index" accesskey="n" rel="next">Concept Index</a>, Previous: <a href="#Problems" accesskey="p" rel="prev">Reporting Bugs</a>, Up: <a href="#Top" accesskey="u" rel="up">GNU Source-highlight</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Concept-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h2 class="chapter" id="Mailing-Lists-1"><span>12 Mailing Lists<a class="copiable-link" href="#Mailing-Lists-1"> &para;</a></span></h2>
<a class="index-entry-id" id="index-mailing-list"></a>

<p>The following mailing lists are available: 
</p>
<p><code class="code">help-source-highlight at gnu dot org</code>
</p>
<p>for generic discussions about the program and for asking for help about
it (open mailing list),
<a class="uref" href="http://mail.gnu.org/mailman/listinfo/help-source-highlight">http://mail.gnu.org/mailman/listinfo/help-source-highlight</a>
</p> 
<p><code class="code">info-source-highlight at gnu dot org</code>
</p>
<p>for receiving information about new releases and features (read-only
mailing list),
<a class="uref" href="http://mail.gnu.org/mailman/listinfo/info-source-highlight">http://mail.gnu.org/mailman/listinfo/info-source-highlight</a>.
</p> 
<p>If you want to subscribe to a mailing list just go to the URL and follow
the instructions, or send me an e-mail and I&rsquo;ll subscribe you.
</p>
<p>I&rsquo;ll describe new features in new releases also in my blog, at
this URL:
</p>
<p><a class="uref" href="http://tronprog.blogspot.com/search/label/source-highlight">http://tronprog.blogspot.com/search/label/source-highlight</a>
</p>
<hr>
</div>
<div class="unnumbered-level-extent" id="Concept-Index">
<div class="nav-panel">
<p>
Previous: <a href="#Mailing-Lists" accesskey="p" rel="prev">Mailing Lists</a>, Up: <a href="#Top" accesskey="u" rel="up">GNU Source-highlight</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Concept-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h2 class="unnumbered" id="Concept-Index-1"><span>Concept Index<a class="copiable-link" href="#Concept-Index-1"> &para;</a></span></h2>

<a class="index-entry-id" id="index-tail-recursion"></a>
<div class="printindex cp-printindex">
<table class="cp-letters-header-printindex"><tr><th>Jump to: &nbsp; </th><td><a class="summary-letter-printindex" href="#Concept-Index_cp_symbol-1"><b>-</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#Concept-Index_cp_symbol-2"><b>'</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#Concept-Index_cp_symbol-3"><b>&quot;</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#Concept-Index_cp_symbol-4"><b>`</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#Concept-Index_cp_symbol-5"><b>$</b></a>
 &nbsp; 
<br>
<a class="summary-letter-printindex" href="#Concept-Index_cp_letter-A"><b>A</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#Concept-Index_cp_letter-B"><b>B</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#Concept-Index_cp_letter-C"><b>C</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#Concept-Index_cp_letter-D"><b>D</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#Concept-Index_cp_letter-E"><b>E</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#Concept-Index_cp_letter-F"><b>F</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#Concept-Index_cp_letter-G"><b>G</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#Concept-Index_cp_letter-H"><b>H</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#Concept-Index_cp_letter-I"><b>I</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#Concept-Index_cp_letter-J"><b>J</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#Concept-Index_cp_letter-K"><b>K</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#Concept-Index_cp_letter-L"><b>L</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#Concept-Index_cp_letter-M"><b>M</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#Concept-Index_cp_letter-N"><b>N</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#Concept-Index_cp_letter-O"><b>O</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#Concept-Index_cp_letter-P"><b>P</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#Concept-Index_cp_letter-Q"><b>Q</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#Concept-Index_cp_letter-R"><b>R</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#Concept-Index_cp_letter-S"><b>S</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#Concept-Index_cp_letter-T"><b>T</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#Concept-Index_cp_letter-U"><b>U</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#Concept-Index_cp_letter-V"><b>V</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#Concept-Index_cp_letter-W"><b>W</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#Concept-Index_cp_letter-X"><b>X</b></a>
 &nbsp; 
</td></tr></table>
<table class="cp-entries-printindex" border="0">
<tr><td></td><th class="entries-header-printindex">Index Entry</th><th class="sections-header-printindex">Section</th></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="Concept-Index_cp_symbol-1">-</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-_002d_002ddata_002ddir"><code class="code">--data-dir</code></a></td><td class="printindex-index-section"><a href="#The-program-source_002dhighlight_002dsettings">The program source-highlight-settings</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-_002d_002ddata_002ddir-1"><code class="code">--data-dir</code></a></td><td class="printindex-index-section"><a href="#Configuration-files">Configuration files</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-_002d_002ddata_002ddir-2"><code class="code">--data-dir</code></a></td><td class="printindex-index-section"><a href="#Invoking-source_002dhighlight">Invoking source-highlight</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-_002d_002dinfer_002dlang"><code class="code">--infer-lang</code></a></td><td class="printindex-index-section"><a href="#Perl">Perl</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-_002d_002dinfer_002dlang-1"><code class="code">--infer-lang</code></a></td><td class="printindex-index-section"><a href="#Invoking-source_002dhighlight">Invoking source-highlight</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-_002d_002dinfer_002dlang-2"><code class="code">--infer-lang</code></a></td><td class="printindex-index-section"><a href="#How-the-input-language-is-discovered">How the input language is discovered</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-_002d_002dshow_002dlang_002delements"><code class="code">--show-lang-elements</code></a></td><td class="printindex-index-section"><a href="#Output-format-style">Output format style</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-_002d_002dshow_002dlang_002delements-1"><code class="code">--show-lang-elements</code></a></td><td class="printindex-index-section"><a href="#Listing-Language-Elements">Listing Language Elements</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-_002d_002dstyle_002dcss_002dfile"><code class="code">--style-css-file</code></a></td><td class="printindex-index-section"><a href="#Output-format-style-using-CSS">Output format style using CSS</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-_002d_002dstyle_002dfile"><code class="code">--style-file</code></a></td><td class="printindex-index-section"><a href="#Output-format-style">Output format style</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-_002d_002dwith_002ddoxygen"><code class="code">--with-doxygen</code></a></td><td class="printindex-index-section"><a href="#Installation">Installation</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="Concept-Index_cp_symbol-2">'</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-_0027expression_0027"><code class="code">'expression'</code></a></td><td class="printindex-index-section"><a href="#Ways-of-specifying-regular-expressions">Ways of specifying regular expressions</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="Concept-Index_cp_symbol-3">&quot;</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-_0022expression_0022"><code class="code">&quot;expression&quot;</code></a></td><td class="printindex-index-section"><a href="#Ways-of-specifying-regular-expressions">Ways of specifying regular expressions</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="Concept-Index_cp_symbol-4">`</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-_0060expression_0060"><code class="code">`expression`</code></a></td><td class="printindex-index-section"><a href="#Ways-of-specifying-regular-expressions">Ways of specifying regular expressions</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="Concept-Index_cp_symbol-5">$</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-_0024infile">$infile</a></td><td class="printindex-index-section"><a href="#Anchors-and-References">Anchors and References</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-_0024infilename">$infilename</a></td><td class="printindex-index-section"><a href="#Anchors-and-References">Anchors and References</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-_0024linenum">$linenum</a></td><td class="printindex-index-section"><a href="#Anchors-and-References">Anchors and References</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-_0024outfile">$outfile</a></td><td class="printindex-index-section"><a href="#Anchors-and-References">Anchors and References</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-_0024style">$style</a></td><td class="printindex-index-section"><a href="#Colors">Colors</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-_0024text">$text</a></td><td class="printindex-index-section"><a href="#Text-styles">Text styles</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="Concept-Index_cp_letter-A">A</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-anchor">anchor</a></td><td class="printindex-index-section"><a href="#Generating-References">Generating References</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-ANSI-color">ANSI color</a></td><td class="printindex-index-section"><a href="#ANSI-color-escape-sequences">ANSI color escape sequences</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Apache">Apache</a></td><td class="printindex-index-section"><a href="#Related-Software-and-Links">Related Software and Links</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-autoconf">autoconf</a></td><td class="printindex-index-section"><a href="#Anonymous-Git-Checkout">Anonymous Git Checkout</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-autoconf-1">autoconf</a></td><td class="printindex-index-section"><a href="#What-you-need-to-build-source_002dhighlight">What you need to build source-highlight</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-automake">automake</a></td><td class="printindex-index-section"><a href="#Anonymous-Git-Checkout">Anonymous Git Checkout</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-automake-1">automake</a></td><td class="printindex-index-section"><a href="#What-you-need-to-build-source_002dhighlight">What you need to build source-highlight</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="Concept-Index_cp_letter-B">B</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-background-color">background color</a></td><td class="printindex-index-section"><a href="#Output-format-style">Output format style</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-background-color-1">background color</a></td><td class="printindex-index-section"><a href="#Output-format-style">Output format style</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-background-color-2">background color</a></td><td class="printindex-index-section"><a href="#Colors">Colors</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-backreference">backreference</a></td><td class="printindex-index-section"><a href="#Ways-of-specifying-regular-expressions">Ways of specifying regular expressions</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-backreference-1">backreference</a></td><td class="printindex-index-section"><a href="#Notes-on-regular-expressions">Notes on regular expressions</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-backtick">backtick</a></td><td class="printindex-index-section"><a href="#Ways-of-specifying-regular-expressions">Ways of specifying regular expressions</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-bash-completion">bash completion</a></td><td class="printindex-index-section"><a href="#Installation">Installation</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-bgcolor"><code class="code">bgcolor</code></a></td><td class="printindex-index-section"><a href="#Output-format-style">Output format style</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-bold">bold</a></td><td class="printindex-index-section"><a href="#Output-format-style">Output format style</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-bold-1">bold</a></td><td class="printindex-index-section"><a href="#Text-styles">Text styles</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-boost">boost</a></td><td class="printindex-index-section"><a href="#Building-with-qmake">Building with qmake</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-boost-1">boost</a></td><td class="printindex-index-section"><a href="#What-you-need-to-build-source_002dhighlight">What you need to build source-highlight</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Boost-regex">Boost regex</a></td><td class="printindex-index-section"><a href="#Tips-on-installing-Boost-Regex-library">Tips on installing Boost Regex library</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-bugs">bugs</a></td><td class="printindex-index-section"><a href="#Problems">Problems</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-building-requirements">building requirements</a></td><td class="printindex-index-section"><a href="#What-you-need-to-build-source_002dhighlight">What you need to build source-highlight</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="Concept-Index_cp_letter-C">C</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-CGI">CGI</a></td><td class="printindex-index-section"><a href="#Using-source_002dhighlight-as-a-CGI">Using source-highlight as a CGI</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-check_002dregexp"><code class="command">check-regexp</code></a></td><td class="printindex-index-section"><a href="#The-program-check_002dregexp">The program check-regexp</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-code2blog">code2blog</a></td><td class="printindex-index-section"><a href="#Related-Software-and-Links">Related Software and Links</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-color">color</a></td><td class="printindex-index-section"><a href="#Output-format-style">Output format style</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-color-1">color</a></td><td class="printindex-index-section"><a href="#Output-format-style">Output format style</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-colors">colors</a></td><td class="printindex-index-section"><a href="#Colors">Colors</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-compilation">compilation</a></td><td class="printindex-index-section"><a href="#Installation">Installation</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-compilation-requirements">compilation requirements</a></td><td class="printindex-index-section"><a href="#What-you-need-to-build-source_002dhighlight">What you need to build source-highlight</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-conditional-expressions">conditional expressions</a></td><td class="printindex-index-section"><a href="#Notes-on-regular-expressions">Notes on regular expressions</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-configuration-files">configuration files</a></td><td class="printindex-index-section"><a href="#Configuration-files">Configuration files</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Copying-conditions">Copying conditions</a></td><td class="printindex-index-section"><a href="#Copying">Copying</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-cpp2html">cpp2html</a></td><td class="printindex-index-section"><a href="#Installation">Installation</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-CSS">CSS</a></td><td class="printindex-index-section"><a href="#Output-format-style-using-CSS">Output format style using CSS</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-ctags">ctags</a></td><td class="printindex-index-section"><a href="#Generating-References">Generating References</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-CXXFLAGS"><code class="code">CXXFLAGS</code></a></td><td class="printindex-index-section"><a href="#Tips-on-installing-Boost-Regex-library">Tips on installing Boost Regex library</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="Concept-Index_cp_letter-D">D</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-debug">debug</a></td><td class="printindex-index-section"><a href="#Debugging">Debugging</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-default_002elang">default.lang</a></td><td class="printindex-index-section"><a href="#Using-source_002dhighlight-as-a-simple-formatter">Using source-highlight as a simple formatter</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-default_002elang-1">default.lang</a></td><td class="printindex-index-section"><a href="#Invoking-source_002dhighlight">Invoking source-highlight</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-default_002estyle">default.style</a></td><td class="printindex-index-section"><a href="#Output-format-style">Output format style</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-definition-order">definition order</a></td><td class="printindex-index-section"><a href="#Order-of-definitions">Order of definitions</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-delimited-definitions">delimited definitions</a></td><td class="printindex-index-section"><a href="#Delimited-definitions">Delimited definitions</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-direct-color-scheme">direct color scheme</a></td><td class="printindex-index-section"><a href="#Output-format-style">Output format style</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-directories">directories</a></td><td class="printindex-index-section"><a href="#Installation">Installation</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-DocBook">DocBook</a></td><td class="printindex-index-section"><a href="#DocBook-output">DocBook output</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-doctemplate">doctemplate</a></td><td class="printindex-index-section"><a href="#Document-template">Document template</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-download">download</a></td><td class="printindex-index-section"><a href="#Download">Download</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-doxygen">doxygen</a></td><td class="printindex-index-section"><a href="#Installation">Installation</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-dynamic-backreference">dynamic backreference</a></td><td class="printindex-index-section"><a href="#Dynamic-Backreferences">Dynamic Backreferences</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="Concept-Index_cp_letter-E">E</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-environments">environments</a></td><td class="printindex-index-section"><a href="#State_002fEnvironment-Definitions">State/Environment Definitions</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="Concept-Index_cp_letter-F">F</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-failsafe">failsafe</a></td><td class="printindex-index-section"><a href="#Using-source_002dhighlight-as-a-simple-formatter">Using source-highlight as a simple formatter</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-failsafe-1">failsafe</a></td><td class="printindex-index-section"><a href="#Invoking-source_002dhighlight">Invoking source-highlight</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-features">features</a></td><td class="printindex-index-section"><a href="#Introduction">Introduction</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-file-inclusion">file inclusion</a></td><td class="printindex-index-section"><a href="#File-inclusion">File inclusion</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Firefox">Firefox</a></td><td class="printindex-index-section"><a href="#Related-Software-and-Links">Related Software and Links</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-fixed">fixed</a></td><td class="printindex-index-section"><a href="#Output-format-style">Output format style</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-fixed-1">fixed</a></td><td class="printindex-index-section"><a href="#Text-styles">Text styles</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Fortran">Fortran</a></td><td class="printindex-index-section"><a href="#Fortran">Fortran</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="Concept-Index_cp_letter-G">G</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-getting-help">getting help</a></td><td class="printindex-index-section"><a href="#Invoking-source_002dhighlight">Invoking source-highlight</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Git">Git</a></td><td class="printindex-index-section"><a href="#Anonymous-Git-Checkout">Anonymous Git Checkout</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-gnulib">gnulib</a></td><td class="printindex-index-section"><a href="#What-you-need-to-build-source_002dhighlight">What you need to build source-highlight</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="Concept-Index_cp_letter-H">H</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-help">help</a></td><td class="printindex-index-section"><a href="#Invoking-source_002dhighlight">Invoking source-highlight</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-HTML">HTML</a></td><td class="printindex-index-section"><a href="#HTML-and-XHTML-output">HTML and XHTML output</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="Concept-Index_cp_letter-I">I</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Ikiwiki">Ikiwiki</a></td><td class="printindex-index-section"><a href="#Related-Software-and-Links">Related Software and Links</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-inline_005freference">inline_reference</a></td><td class="printindex-index-section"><a href="#Anchors-and-References">Anchors and References</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-installation">installation</a></td><td class="printindex-index-section"><a href="#Installation">Installation</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-introduction">introduction</a></td><td class="printindex-index-section"><a href="#Introduction">Introduction</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-invoking">invoking</a></td><td class="printindex-index-section"><a href="#Invoking-source_002dhighlight">Invoking source-highlight</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-italics">italics</a></td><td class="printindex-index-section"><a href="#Output-format-style">Output format style</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-italics-1">italics</a></td><td class="printindex-index-section"><a href="#Text-styles">Text styles</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="Concept-Index_cp_letter-J">J</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-java2html">java2html</a></td><td class="printindex-index-section"><a href="#Related-Software-and-Links">Related Software and Links</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-java2html-1">java2html</a></td><td class="printindex-index-section"><a href="#Installation">Installation</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="Concept-Index_cp_letter-K">K</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-KDE">KDE</a></td><td class="printindex-index-section"><a href="#Related-Software-and-Links">Related Software and Links</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-KDE-1">KDE</a></td><td class="printindex-index-section"><a href="#Related-Software-and-Links">Related Software and Links</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Ksrc2highlight">Ksrc2highlight</a></td><td class="printindex-index-section"><a href="#Related-Software-and-Links">Related Software and Links</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="Concept-Index_cp_letter-L">L</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-language-definition">language definition</a></td><td class="printindex-index-section"><a href="#Language-Definitions">Language Definitions</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-language-inference">language inference</a></td><td class="printindex-index-section"><a href="#Invoking-source_002dhighlight">Invoking source-highlight</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-language-map">language map</a></td><td class="printindex-index-section"><a href="#Language-map">Language map</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-LaTeX">LaTeX</a></td><td class="printindex-index-section"><a href="#LaTeX-output">LaTeX output</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-LDFLAGS"><code class="code">LDFLAGS</code></a></td><td class="printindex-index-section"><a href="#Tips-on-installing-Boost-Regex-library">Tips on installing Boost Regex library</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-library">library</a></td><td class="printindex-index-section"><a href="#Introduction">Introduction</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-library-1">library</a></td><td class="printindex-index-section"><a href="#Installation">Installation</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-libtool">libtool</a></td><td class="printindex-index-section"><a href="#Anonymous-Git-Checkout">Anonymous Git Checkout</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-libtool-1">libtool</a></td><td class="printindex-index-section"><a href="#What-you-need-to-build-source_002dhighlight">What you need to build source-highlight</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-line-ranges">line ranges</a></td><td class="printindex-index-section"><a href="#Invoking-source_002dhighlight">Invoking source-highlight</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-line-ranges-1">line ranges</a></td><td class="printindex-index-section"><a href="#Line-ranges">Line ranges</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-line-ranges-2">line ranges</a></td><td class="printindex-index-section"><a href="#Line-ranges-_0028with-context_0029">Line ranges (with context)</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-lines">lines</a></td><td class="printindex-index-section"><a href="#Line-wide-definitions">Line wide definitions</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-lookahead-asserts">lookahead asserts</a></td><td class="printindex-index-section"><a href="#Notes-on-regular-expressions">Notes on regular expressions</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-lookbehind-asserts">lookbehind asserts</a></td><td class="printindex-index-section"><a href="#Notes-on-regular-expressions">Notes on regular expressions</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="Concept-Index_cp_letter-M">M</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-mailing-list">mailing list</a></td><td class="printindex-index-section"><a href="#Mailing-Lists">Mailing Lists</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-marked-subexpressions">marked subexpressions</a></td><td class="printindex-index-section"><a href="#Ways-of-specifying-regular-expressions">Ways of specifying regular expressions</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-marked-subexpressions-1">marked subexpressions</a></td><td class="printindex-index-section"><a href="#Notes-on-regular-expressions">Notes on regular expressions</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-matching-strategy">matching strategy</a></td><td class="printindex-index-section"><a href="#How-source_002dhighlight-works">How source-highlight works</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-MinGW">MinGW</a></td><td class="printindex-index-section"><a href="#Building-with-qmake">Building with qmake</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-MSVC">MSVC</a></td><td class="printindex-index-section"><a href="#Building-with-qmake">Building with qmake</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-msys">msys</a></td><td class="printindex-index-section"><a href="#Building-with-qmake">Building with qmake</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="Concept-Index_cp_letter-N">N</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-nodoctemplate">nodoctemplate</a></td><td class="printindex-index-section"><a href="#Document-template">Document template</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-nohilite_002elang">nohilite.lang</a></td><td class="printindex-index-section"><a href="#Using-source_002dhighlight-as-a-simple-formatter">Using source-highlight as a simple formatter</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-non_002dmarking-parenthesis">non-marking parenthesis</a></td><td class="printindex-index-section"><a href="#Notes-on-regular-expressions">Notes on regular expressions</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-nonsensitive">nonsensitive</a></td><td class="printindex-index-section"><a href="#Simple-definitions">Simple definitions</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-noref">noref</a></td><td class="printindex-index-section"><a href="#Output-format-style">Output format style</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-notfixed">notfixed</a></td><td class="printindex-index-section"><a href="#Output-format-style">Output format style</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-notfixed-1">notfixed</a></td><td class="printindex-index-section"><a href="#Text-styles">Text styles</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="Concept-Index_cp_letter-O">O</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-one-style">one style</a></td><td class="printindex-index-section"><a href="#One-style">One style</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-options">options</a></td><td class="printindex-index-section"><a href="#Invoking-source_002dhighlight">Invoking source-highlight</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-output-language-definition">output language definition</a></td><td class="printindex-index-section"><a href="#Output-Language-Definitions">Output Language Definitions</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-output-language-map">output language map</a></td><td class="printindex-index-section"><a href="#Output-Language-map">Output Language map</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-output-style">output style</a></td><td class="printindex-index-section"><a href="#Output-format-style">Output format style</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="Concept-Index_cp_letter-P">P</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Pastebin">Pastebin</a></td><td class="printindex-index-section"><a href="#Related-Software-and-Links">Related Software and Links</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-patching">patching</a></td><td class="printindex-index-section"><a href="#Patching-from-a-previous-version">Patching from a previous version</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Perl">Perl</a></td><td class="printindex-index-section"><a href="#Perl">Perl</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Perl-1">Perl</a></td><td class="printindex-index-section"><a href="#Related-Software-and-Links">Related Software and Links</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Php">Php</a></td><td class="printindex-index-section"><a href="#Related-Software-and-Links">Related Software and Links</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-postdoc_005freference">postdoc_reference</a></td><td class="printindex-index-section"><a href="#Anchors-and-References">Anchors and References</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-postline_005freference">postline_reference</a></td><td class="printindex-index-section"><a href="#Anchors-and-References">Anchors and References</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-prefix">prefix</a></td><td class="printindex-index-section"><a href="#How-source_002dhighlight-works">How source-highlight works</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-problems">problems</a></td><td class="printindex-index-section"><a href="#Problems">Problems</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-PyQt">PyQt</a></td><td class="printindex-index-section"><a href="#Related-Software-and-Links">Related Software and Links</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Python">Python</a></td><td class="printindex-index-section"><a href="#Related-Software-and-Links">Related Software and Links</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="Concept-Index_cp_letter-Q">Q</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-qmake">qmake</a></td><td class="printindex-index-section"><a href="#Building-with-qmake">Building with qmake</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-QSource_002dHighlight">QSource-Highlight</a></td><td class="printindex-index-section"><a href="#Related-Software-and-Links">Related Software and Links</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Qt">Qt</a></td><td class="printindex-index-section"><a href="#Related-Software-and-Links">Related Software and Links</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Qt-1">Qt</a></td><td class="printindex-index-section"><a href="#Related-Software-and-Links">Related Software and Links</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="Concept-Index_cp_letter-R">R</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-range-context">range context</a></td><td class="printindex-index-section"><a href="#Invoking-source_002dhighlight">Invoking source-highlight</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-range-context-1">range context</a></td><td class="printindex-index-section"><a href="#Line-ranges-_0028with-context_0029">Line ranges (with context)</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-range-separator">range separator</a></td><td class="printindex-index-section"><a href="#Invoking-source_002dhighlight">Invoking source-highlight</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-range-separator-1">range separator</a></td><td class="printindex-index-section"><a href="#Line-ranges-_0028with-context_0029">Line ranges (with context)</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-RapidWeaver">RapidWeaver</a></td><td class="printindex-index-section"><a href="#Related-Software-and-Links">Related Software and Links</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-redef">redef</a></td><td class="printindex-index-section"><a href="#Redefinitions-and-Substitutions">Redefinitions and Substitutions</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-reference">reference</a></td><td class="printindex-index-section"><a href="#Generating-References">Generating References</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-regex-ranges">regex ranges</a></td><td class="printindex-index-section"><a href="#Invoking-source_002dhighlight">Invoking source-highlight</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-regex-ranges-1">regex ranges</a></td><td class="printindex-index-section"><a href="#Regex-ranges">Regex ranges</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-regular-expressions">regular expressions</a></td><td class="printindex-index-section"><a href="#Notes-on-regular-expressions">Notes on regular expressions</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-rpm">rpm</a></td><td class="printindex-index-section"><a href="#Building-_002erpm">Building .rpm</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="Concept-Index_cp_letter-S">S</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-sample">sample</a></td><td class="printindex-index-section"><a href="#Simple-Usage">Simple Usage</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-shadow-build">shadow build</a></td><td class="printindex-index-section"><a href="#Installation">Installation</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-shadow-build-1">shadow build</a></td><td class="printindex-index-section"><a href="#Anonymous-Git-Checkout">Anonymous Git Checkout</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-SHJS">SHJS</a></td><td class="printindex-index-section"><a href="#Related-Software-and-Links">Related Software and Links</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-simple-language-definition">simple language definition</a></td><td class="printindex-index-section"><a href="#Simple-definitions">Simple definitions</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-SIP">SIP</a></td><td class="printindex-index-section"><a href="#Related-Software-and-Links">Related Software and Links</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-SOURCE_005fHIGHLIGHT_005fDATADIR"><code class="code">SOURCE_HIGHLIGHT_DATADIR</code></a></td><td class="printindex-index-section"><a href="#The-program-source_002dhighlight_002dsettings">The program source-highlight-settings</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-SOURCE_005fHIGHLIGHT_005fDATADIR-1"><code class="code">SOURCE_HIGHLIGHT_DATADIR</code></a></td><td class="printindex-index-section"><a href="#Configuration-files">Configuration files</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-source_002dhighlight_002desc_002esh">source-highlight-esc.sh</a></td><td class="printindex-index-section"><a href="#Using-source_002dhighlight-with-less">Using source-highlight with less</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Source_002dHighlight_002dQt">Source-Highlight-Qt</a></td><td class="printindex-index-section"><a href="#Related-Software-and-Links">Related Software and Links</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-source_002dhighlight_002dsettings">source-highlight-settings</a></td><td class="printindex-index-section"><a href="#The-program-source_002dhighlight_002dsettings">The program source-highlight-settings</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-source_002dhighlight_002econf">source-highlight.conf</a></td><td class="printindex-index-section"><a href="#The-program-source_002dhighlight_002dsettings">The program source-highlight-settings</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-SourceHighlightIDE">SourceHighlightIDE</a></td><td class="printindex-index-section"><a href="#Related-Software-and-Links">Related Software and Links</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-src_002dhilite_002dlesspipe_002esh">src-hilite-lesspipe.sh</a></td><td class="printindex-index-section"><a href="#Using-source_002dhighlight-with-less">Using source-highlight with less</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-states">states</a></td><td class="printindex-index-section"><a href="#State_002fEnvironment-Definitions">State/Environment Definitions</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-style-separator">style separator</a></td><td class="printindex-index-section"><a href="#Style-template">Style template</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-style-template">style template</a></td><td class="printindex-index-section"><a href="#Style-template">Style template</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-style_002edefaults">style.defaults</a></td><td class="printindex-index-section"><a href="#Default-Styles">Default Styles</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-subst">subst</a></td><td class="printindex-index-section"><a href="#Redefinitions-and-Substitutions">Redefinitions and Substitutions</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-suffix">suffix</a></td><td class="printindex-index-section"><a href="#How-source_002dhighlight-works">How source-highlight works</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="Concept-Index_cp_letter-T">T</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-tail-recursion">tail recursion</a></td><td class="printindex-index-section"><a href="#Concept-Index">Concept Index</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Texinfo">Texinfo</a></td><td class="printindex-index-section"><a href="#Texinfo-output">Texinfo output</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="Concept-Index_cp_letter-U">U</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-underline">underline</a></td><td class="printindex-index-section"><a href="#Output-format-style">Output format style</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-underline-1">underline</a></td><td class="printindex-index-section"><a href="#Text-styles">Text styles</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-usage">usage</a></td><td class="printindex-index-section"><a href="#Invoking-source_002dhighlight">Invoking source-highlight</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="Concept-Index_cp_letter-V">V</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-variables">variables</a></td><td class="printindex-index-section"><a href="#Variable-definitions">Variable definitions</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-version">version</a></td><td class="printindex-index-section"><a href="#Invoking-source_002dhighlight">Invoking source-highlight</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="Concept-Index_cp_letter-W">W</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Wiki">Wiki</a></td><td class="printindex-index-section"><a href="#Related-Software-and-Links">Related Software and Links</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Wiki-1">Wiki</a></td><td class="printindex-index-section"><a href="#Related-Software-and-Links">Related Software and Links</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="Concept-Index_cp_letter-X">X</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-XHTML">XHTML</a></td><td class="printindex-index-section"><a href="#HTML-and-XHTML-output">HTML and XHTML output</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
</table>
<table class="cp-letters-footer-printindex"><tr><th>Jump to: &nbsp; </th><td><a class="summary-letter-printindex" href="#Concept-Index_cp_symbol-1"><b>-</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#Concept-Index_cp_symbol-2"><b>'</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#Concept-Index_cp_symbol-3"><b>&quot;</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#Concept-Index_cp_symbol-4"><b>`</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#Concept-Index_cp_symbol-5"><b>$</b></a>
 &nbsp; 
<br>
<a class="summary-letter-printindex" href="#Concept-Index_cp_letter-A"><b>A</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#Concept-Index_cp_letter-B"><b>B</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#Concept-Index_cp_letter-C"><b>C</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#Concept-Index_cp_letter-D"><b>D</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#Concept-Index_cp_letter-E"><b>E</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#Concept-Index_cp_letter-F"><b>F</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#Concept-Index_cp_letter-G"><b>G</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#Concept-Index_cp_letter-H"><b>H</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#Concept-Index_cp_letter-I"><b>I</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#Concept-Index_cp_letter-J"><b>J</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#Concept-Index_cp_letter-K"><b>K</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#Concept-Index_cp_letter-L"><b>L</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#Concept-Index_cp_letter-M"><b>M</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#Concept-Index_cp_letter-N"><b>N</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#Concept-Index_cp_letter-O"><b>O</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#Concept-Index_cp_letter-P"><b>P</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#Concept-Index_cp_letter-Q"><b>Q</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#Concept-Index_cp_letter-R"><b>R</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#Concept-Index_cp_letter-S"><b>S</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#Concept-Index_cp_letter-T"><b>T</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#Concept-Index_cp_letter-U"><b>U</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#Concept-Index_cp_letter-V"><b>V</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#Concept-Index_cp_letter-W"><b>W</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#Concept-Index_cp_letter-X"><b>X</b></a>
 &nbsp; 
</td></tr></table>
</div>



</div>
</div>
<div class="footnotes-segment">
<hr>
<h4 class="footnotes-heading">Footnotes</h4>

<h5 class="footnote-body-heading"><a id="FOOT1" href="#DOCF1">(1)</a></h5>
<p>Up to version 2.9, there were also the suffixes
<code class="code">-doc</code> and <code class="code">-css-doc</code>, but this mechanism was quite confusing
and complex; hopefully, this new one should be better.</p>
<h5 class="footnote-body-heading"><a id="FOOT2" href="#DOCF2">(2)</a></h5>
<p>Although this might
have been achieved with previous version, it is an official supported
feature since version 2.5.</p>
<h5 class="footnote-body-heading"><a id="FOOT3" href="#DOCF3">(3)</a></h5>
<p>Since version 3.1.2 of Source-highlight the
CVS repository was dismissed in favor of Git
(<a class="uref" href="http://git-scm.com/">http://git-scm.com/</a>).</p>
<h5 class="footnote-body-heading"><a id="FOOT4" href="#DOCF4">(4)</a></h5>
<p><a class="uref" href="http://www.gnu.org/software/autoconf">http://www.gnu.org/software/autoconf</a></p>
<h5 class="footnote-body-heading"><a id="FOOT5" href="#DOCF5">(5)</a></h5>
<p><a class="uref" href="http://www.gnu.org/software/automake">http://www.gnu.org/software/automake</a></p>
<h5 class="footnote-body-heading"><a id="FOOT6" href="#DOCF6">(6)</a></h5>
<p><a class="uref" href="http://www.gnu.org/software/libtool">http://www.gnu.org/software/libtool</a></p>
<h5 class="footnote-body-heading"><a id="FOOT7" href="#DOCF7">(7)</a></h5>
<p><a class="uref" href="http://www.gnu.org/software/gnulib">http://www.gnu.org/software/gnulib</a></p>
<h5 class="footnote-body-heading"><a id="FOOT8" href="#DOCF8">(8)</a></h5>
<p>Since version 2.11, the <code class="code">configure</code> script should be able
to correctly find the boost regex library if it is in the compiler
default path.</p>
<h5 class="footnote-body-heading"><a id="FOOT9" href="#DOCF9">(9)</a></h5>
<p>Command
lines that are too long are split into multiple indented lines separated
by a <code class="code">\</code>.  Of course these commands are to be given in one line
only, anyway.</p>
<h5 class="footnote-body-heading"><a id="FOOT10" href="#DOCF10">(10)</a></h5>
<p>Command lines that are too long are
split into multiple indented lines separated by a <code class="code">\</code>.  Of course
these commands are to be given in one line only, anyway.</p>
<h5 class="footnote-body-heading"><a id="FOOT11" href="#DOCF11">(11)</a></h5>
<p>Before version 2.1, this file was called
<samp class="file">tags.j2h</samp> which used to be a very obscure name.  I hope this name
convention is a better one :-).</p>
<h5 class="footnote-body-heading"><a id="FOOT12" href="#DOCF12">(12)</a></h5>
<p>Since
version 2.6.</p>
<h5 class="footnote-body-heading"><a id="FOOT13" href="#DOCF13">(13)</a></h5>
<p>Before version 2.1, this command line
option was called <code class="code">--tags-file</code> which used to be a very obscure
name.  I hope this name convention is a better one :-).</p>
<h5 class="footnote-body-heading"><a id="FOOT14" href="#DOCF14">(14)</a></h5>
<p>Since version 2.6.</p>
<h5 class="footnote-body-heading"><a id="FOOT15" href="#DOCF15">(15)</a></h5>
<p>Of course, if you use HTML and an external CSS file you
will achieve the same result.</p>
<h5 class="footnote-body-heading"><a id="FOOT16" href="#DOCF16">(16)</a></h5>
<p>You can see these colors in HTML in the file
<samp class="file">colors.html</samp>.</p>
<h5 class="footnote-body-heading"><a id="FOOT17" href="#DOCF17">(17)</a></h5>
<p>Note that, since version 2.2, you must use double
quotes.</p>
<h5 class="footnote-body-heading"><a id="FOOT18" href="#DOCF18">(18)</a></h5>
<p>Since version
2.6.</p>
<h5 class="footnote-body-heading"><a id="FOOT19" href="#DOCF19">(19)</a></h5>
<p>Since version 2.9.</p>
<h5 class="footnote-body-heading"><a id="FOOT20" href="#DOCF20">(20)</a></h5>
<p>This is the main
difference introduced in version 2.0 with respect the previous
version.</p>
<h5 class="footnote-body-heading"><a id="FOOT21" href="#DOCF21">(21)</a></h5>
<p>This is the main
difference introduced in version 2.1 with respect the the previous
version.</p>
<h5 class="footnote-body-heading"><a id="FOOT22" href="#DOCF22">(22)</a></h5>
<p>As
explained before, originally Source-highlight was thought mainly for
generating HTML output, this is why the term <em class="emph">css</em> is used for
style sheets.</p>
<h5 class="footnote-body-heading"><a id="FOOT23" href="#DOCF23">(23)</a></h5>
<p>Padding character can be specified
since version 2.8.</p>
<h5 class="footnote-body-heading"><a id="FOOT24" href="#DOCF24">(24)</a></h5>
<p>Since version 2.7.</p>
<h5 class="footnote-body-heading"><a id="FOOT25" href="#DOCF25">(25)</a></h5>
<p>Since version 3.1.2.</p>
<h5 class="footnote-body-heading"><a id="FOOT26" href="#DOCF26">(26)</a></h5>
<p>Since version 2.7.</p>
<h5 class="footnote-body-heading"><a id="FOOT27" href="#DOCF27">(27)</a></h5>
<p>This
issue concerning Perl regular expression syntax was raised by Elias
Pipping, and this also pushed me to deal with this more powerful syntax
that permits using backreferences, for instance.  Although we&rsquo;re still
far from highlighting Perl syntax completely (<a class="ref" href="#Perl">Perl</a>), I definitely
must thank Elias for his precious information about this matter :-)</p>
<h5 class="footnote-body-heading"><a id="FOOT28" href="#DOCF28">(28)</a></h5>
<p>As Ed Kelly correctly
pointed out, C-style comments are NOT nested; it&rsquo;s a big shame I&rsquo;ve been
using C++ and Java for years and have always thought they were nested
:-)... Thus, in previous versions of source-highlight distributions,
C-style comments were (uncorrectly) defined as nested.  Thank you Ed,
for your feedback!</p>
<h5 class="footnote-body-heading"><a id="FOOT29" href="#DOCF29">(29)</a></h5>
<p>Since version 2.8</p>
<h5 class="footnote-body-heading"><a id="FOOT30" href="#DOCF30">(30)</a></h5>
<p>I&rsquo;m grateful to Jurgen
Hotzel for rising this issue about Lua comments; this led me to
introduce dynamic backreferences.</p>
<h5 class="footnote-body-heading"><a id="FOOT31" href="#DOCF31">(31)</a></h5>
<p>At least, to the best
of my knowledge :-)</p>
<h5 class="footnote-body-heading"><a id="FOOT32" href="#DOCF32">(32)</a></h5>
<p>The strategy used by source-highlight for
matching regular expressions changed since version 2.11 (and in version
2.10 the strategy used was not completely conceptually correct and
it had a lot of overhead).</p>
<h5 class="footnote-body-heading"><a id="FOOT33" href="#DOCF33">(33)</a></h5>
<p>according to the terminology of
regular expressions.</p>
<h5 class="footnote-body-heading"><a id="FOOT34" href="#DOCF34">(34)</a></h5>
<p><a class="uref" href="http://www.boost.org/libs/regex/doc/syntax.html">http://www.boost.org/libs/regex/doc/syntax.html</a></p>
<h5 class="footnote-body-heading"><a id="FOOT35" href="#DOCF35">(35)</a></h5>
<p>the index only, without the escape character.</p>
<h5 class="footnote-body-heading"><a id="FOOT36" href="#DOCF36">(36)</a></h5>
<p>This
expression was provided by John Maddock, the author of the Boost regex
library, as a solution of a problem I posted on the boost list,
</p>
<p><a class="uref" href="http://thread.gmane.org/gmane.comp.lib.boost.devel/158237/focus=158276">http://thread.gmane.org/gmane.comp.lib.boost.devel/158237/focus=158276</a></p>
<h5 class="footnote-body-heading"><a id="FOOT37" href="#DOCF37">(37)</a></h5>
<p>Since version 2.4.</p>
<h5 class="footnote-body-heading"><a id="FOOT38" href="#DOCF38">(38)</a></h5>
<p>Up
to version 2.9 the output of <code class="code">--show-regex</code> was a little bit more
complex to read; hopefully this output is better.</p>
<h5 class="footnote-body-heading"><a id="FOOT39" href="#DOCF39">(39)</a></h5>
<p>Please note that this concept of state is different
from the concept of &ldquo;state&rdquo; of an automaton.</p>
<h5 class="footnote-body-heading"><a id="FOOT40" href="#DOCF40">(40)</a></h5>
<p>As a future extension we might think of providing a
way, in the language definition syntax, to define a state/environment
that extends the outer contexts instead of overriding them.</p>
<h5 class="footnote-body-heading"><a id="FOOT41" href="#DOCF41">(41)</a></h5>
<p>This was not tested
extensively and might not catch all the correct situations.</p>
<h5 class="footnote-body-heading"><a id="FOOT42" href="#DOCF42">(42)</a></h5>
<p>OK, there are no templates in
C, and they are only in C++, but we think it should no harm when
highlighting C files.</p>
<h5 class="footnote-body-heading"><a id="FOOT43" href="#DOCF43">(43)</a></h5>
<p>Before version 2.9, there was only
<samp class="file">cpp.lang</samp> which was used both for C and C++; however, this way, if
you had a C program where you were using a C++ keyword as a variable
name&mdash;which of course is correct in C&mdash;that variable was actually
highlighted as a keyword and this was not correct.</p>
<h5 class="footnote-body-heading"><a id="FOOT44" href="#DOCF44">(44)</a></h5>
<p>Since version 2.6.</p>
<h5 class="footnote-body-heading"><a id="FOOT45" href="#DOCF45">(45)</a></h5>
<p>This is a sort of trick to insert spaces at
the beginning of a line without using a tabular environment; without the
leading <code class="code">\mbox{}</code> these spaces would be ignored.  This is the
only way I found to achieve this, if you have suggestions, please let me
know!</p>
<h5 class="footnote-body-heading"><a id="FOOT46" href="#DOCF46">(46)</a></h5>
<p>Since version 2.4.</p>
<h5 class="footnote-body-heading"><a id="FOOT47" href="#DOCF47">(47)</a></h5>
<p>Unless they are inside a
<code class="code">&lt;tt&gt;...&lt;/tt&gt;</code>.</p>
<h5 class="footnote-body-heading"><a id="FOOT48" href="#DOCF48">(48)</a></h5>
<p>Up
to version 2.9, there was only <code class="code">doctemplate</code> and for <code class="code">--doc</code>
there was a separate <code class="code">.outlang</code> file; I think the present solution
is better and reduces the number of files.</p>
<h5 class="footnote-body-heading"><a id="FOOT49" href="#DOCF49">(49)</a></h5>
<p>Since version 2.6.</p>
<h5 class="footnote-body-heading"><a id="FOOT50" href="#DOCF50">(50)</a></h5>
<p>Although I haven&rsquo;t tested it, I think this will work also
for Doxygen comments.</p>
<h5 class="footnote-body-heading"><a id="FOOT51" href="#DOCF51">(51)</a></h5>
<p>This description is taken
from the ctags man page</p>
</div>



</body>
</html>
